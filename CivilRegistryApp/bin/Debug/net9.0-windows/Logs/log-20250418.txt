2025-04-18 13:11:29.985 [INF] Logging initialized
2025-04-18 13:11:30.019 [INF] Application starting up
2025-04-18 13:11:30.142 [INF] Starting application diagnostics
2025-04-18 13:11:30.336 [FTL] Unhandled exception in Application.DispatcherUnhandledException
System.Windows.Markup.XamlParseException: 'No matching constructor found on type 'CivilRegistryApp.MainWindow'. You can use the Arguments or FactoryMethod directives to construct this type.' Line number '6' and line position '9'.
 ---> System.MissingMethodException: No default constructor found for type 'CivilRegistryApp.MainWindow'. You can use the Arguments or FactoryMethod directives to construct this type.
   at System.Xaml.Schema.XamlTypeInvoker.DefaultCtorXamlActivator.EnsureConstructorDelegate(XamlTypeInvoker type)
   at System.Xaml.Schema.XamlTypeInvoker.CreateInstance(Object[] arguments)
   at MS.Internal.Xaml.Runtime.ClrObjectRuntime.CreateInstance(XamlType xamlType, Object[] args)
   --- End of inner exception stack trace ---
   at System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)
   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)
   at System.Windows.Markup.WpfXamlLoader.LoadBaml(XamlReader xamlReader, Boolean skipJournaledProperties, Object rootObject, XamlAccessLevel accessLevel, Uri baseUri)
   at System.Windows.Markup.XamlReader.LoadBaml(Stream stream, ParserContext parserContext, Object parent, Boolean closeStream)
   at System.Windows.Application.LoadBamlStreamWithSyncInfo(Stream stream, ParserContext pc)
   at System.Windows.Application.DoStartup()
   at System.Windows.Application.<.ctor>b__1_0(Object unused)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)
   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Int32 numArgs, Delegate catchHandler)
2025-04-18 13:11:44.939 [ERR] Database connection test failed
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 52 - Unable to locate a Local Database Runtime installation. Verify that SQL Server Express is properly installed and that the Local Database Runtime feature is enabled.)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at CivilRegistryApp.Infrastructure.DiagnosticTools.RunDiagnostics() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Infrastructure\DiagnosticTools.cs:line 69
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-04-18 13:11:45.022 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-131145.txt
2025-04-18 13:11:45.428 [DBG] Initializing MainWindow
2025-04-18 13:11:45.518 [DBG] Updating UI based on authentication state
2025-04-18 13:11:45.519 [DBG] UI updated for non-authenticated state
2025-04-18 13:11:45.519 [INF] MainWindow initialized successfully
2025-04-18 13:11:45.608 [INF] MainWindow loaded
2025-04-18 13:11:45.617 [INF] Application started successfully
2025-04-18 13:11:58.862 [DBG] Dashboard button clicked
2025-04-18 13:12:00.426 [INF] Dashboard navigation placeholder shown
2025-04-18 13:12:01.694 [DBG] Documents button clicked
2025-04-18 13:12:02.761 [INF] Documents navigation placeholder shown
2025-04-18 13:12:03.910 [DBG] Requests button clicked
2025-04-18 13:12:05.121 [INF] Requests navigation placeholder shown
2025-04-18 13:12:06.222 [DBG] Dashboard button clicked
2025-04-18 13:12:07.281 [INF] Dashboard navigation placeholder shown
2025-04-18 13:12:09.543 [DBG] Login button clicked
2025-04-18 13:12:11.138 [INF] Login dialog shown to user
2025-04-18 13:12:11.943 [INF] MainWindow closing
2025-04-18 13:12:11.954 [INF] Application shutting down
2025-04-18 13:15:03.968 [INF] Logging initialized
2025-04-18 13:15:04.001 [INF] Application starting up
2025-04-18 13:15:04.006 [INF] Starting application diagnostics
2025-04-18 13:15:04.079 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-131504.txt
2025-04-18 13:15:04.512 [DBG] Initializing MainWindow
2025-04-18 13:15:04.605 [DBG] Updating UI based on authentication state
2025-04-18 13:15:04.605 [DBG] UI updated for non-authenticated state
2025-04-18 13:15:04.605 [INF] MainWindow initialized successfully
2025-04-18 13:15:04.703 [INF] MainWindow loaded
2025-04-18 13:15:04.711 [INF] Application started successfully
2025-04-18 13:15:06.446 [DBG] Documents button clicked
2025-04-18 13:15:07.641 [INF] Documents navigation placeholder shown
2025-04-18 13:15:08.118 [DBG] Requests button clicked
2025-04-18 13:15:09.288 [INF] Requests navigation placeholder shown
2025-04-18 13:15:10.230 [DBG] Dashboard button clicked
2025-04-18 13:15:11.080 [INF] Dashboard navigation placeholder shown
2025-04-18 13:15:14.294 [INF] MainWindow closing
2025-04-18 13:15:14.305 [INF] Application shutting down
2025-04-18 13:19:29.723 [INF] Logging initialized
2025-04-18 13:19:29.757 [INF] Application starting up
2025-04-18 13:19:29.759 [INF] Starting application diagnostics
2025-04-18 13:19:29.787 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-131929.txt
2025-04-18 13:19:29.874 [INF] Ensuring database is created
2025-04-18 13:19:30.592 [INF] Database created or already exists
2025-04-18 13:19:30.626 [DBG] Initializing MainWindow
2025-04-18 13:19:30.723 [DBG] Updating UI based on authentication state
2025-04-18 13:19:30.723 [DBG] UI updated for non-authenticated state
2025-04-18 13:19:30.723 [INF] MainWindow initialized successfully
2025-04-18 13:19:30.823 [INF] MainWindow loaded
2025-04-18 13:19:30.831 [INF] Application started successfully
2025-04-18 13:19:38.902 [DBG] Login button clicked
2025-04-18 13:19:38.902 [DBG] Initializing LoginWindow
2025-04-18 13:19:39.155 [INF] First run detected - no users in database
2025-04-18 13:19:39.155 [INF] LoginWindow initialized successfully
2025-04-18 13:19:50.686 [DBG] Create admin button clicked
2025-04-18 13:19:50.687 [DBG] Initializing RegistrationWindow
2025-04-18 13:19:50.699 [INF] RegistrationWindow initialized successfully
2025-04-18 13:20:01.478 [DBG] Cancel button clicked
2025-04-18 13:20:03.064 [DBG] Cancel button clicked
2025-04-18 13:20:03.067 [INF] Login dialog canceled or closed without login
2025-04-18 13:20:05.991 [DBG] Login button clicked
2025-04-18 13:20:05.991 [DBG] Initializing LoginWindow
2025-04-18 13:20:05.994 [INF] First run detected - no users in database
2025-04-18 13:20:05.994 [INF] LoginWindow initialized successfully
2025-04-18 13:20:09.351 [DBG] Create admin button clicked
2025-04-18 13:20:09.352 [DBG] Initializing RegistrationWindow
2025-04-18 13:20:09.354 [INF] RegistrationWindow initialized successfully
2025-04-18 13:21:18.838 [DBG] Cancel button clicked
2025-04-18 13:21:20.013 [DBG] Cancel button clicked
2025-04-18 13:21:20.017 [INF] Login dialog canceled or closed without login
2025-04-18 13:21:21.238 [INF] MainWindow closing
2025-04-18 13:21:21.247 [INF] Application shutting down
2025-04-18 13:28:30.419 [INF] Logging initialized
2025-04-18 13:28:30.451 [INF] Application starting up
2025-04-18 13:28:30.455 [INF] Starting application diagnostics
2025-04-18 13:28:30.482 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-132830.txt
2025-04-18 13:28:30.574 [INF] Ensuring database is created
2025-04-18 13:28:30.904 [INF] Database created or already exists
2025-04-18 13:28:30.935 [DBG] Initializing MainWindow
2025-04-18 13:28:31.029 [DBG] Updating UI based on authentication state
2025-04-18 13:28:31.029 [DBG] UI updated for non-authenticated state
2025-04-18 13:28:31.029 [INF] MainWindow initialized successfully
2025-04-18 13:28:31.243 [INF] MainWindow loaded
2025-04-18 13:28:31.248 [INF] Application started successfully
2025-04-18 13:28:35.733 [DBG] Login button clicked
2025-04-18 13:28:35.734 [DBG] Initializing LoginWindow
2025-04-18 13:28:35.886 [INF] First run detected - no users in database
2025-04-18 13:28:35.886 [INF] LoginWindow initialized successfully
2025-04-18 13:28:37.285 [DBG] Create admin button clicked
2025-04-18 13:28:37.285 [DBG] Initializing RegistrationWindow
2025-04-18 13:28:37.300 [INF] RegistrationWindow initialized successfully
2025-04-18 13:28:58.656 [DBG] Register button clicked
2025-04-18 13:28:59.024 [INF] User admin registered successfully with role Admin
2025-04-18 13:28:59.024 [INF] User admin registered successfully with role Admin
2025-04-18 13:28:59.029 [INF] Admin user created successfully
2025-04-18 13:29:05.000 [DBG] Login button clicked
2025-04-18 13:29:05.059 [INF] User admin logged in successfully
2025-04-18 13:29:05.059 [INF] User admin logged in successfully
2025-04-18 13:29:05.063 [DBG] Updating UI based on authentication state
2025-04-18 13:29:05.063 [DBG] UI updated for logged-in user: admin
2025-04-18 13:29:05.064 [INF] User logged in successfully through login dialog
2025-04-18 13:29:11.071 [DBG] Dashboard button clicked
2025-04-18 13:29:12.402 [INF] Dashboard navigation placeholder shown
2025-04-18 13:29:13.136 [DBG] Documents button clicked
2025-04-18 13:29:14.203 [INF] Documents navigation placeholder shown
2025-04-18 13:29:14.801 [DBG] Requests button clicked
2025-04-18 13:29:15.586 [INF] Requests navigation placeholder shown
2025-04-18 13:29:16.289 [DBG] Users button clicked
2025-04-18 13:29:16.289 [DBG] Initializing RegistrationWindow
2025-04-18 13:29:16.291 [INF] RegistrationWindow initialized successfully
2025-04-18 13:29:23.561 [DBG] Cancel button clicked
2025-04-18 13:29:23.565 [INF] User creation canceled
2025-04-18 13:29:25.833 [INF] MainWindow closing
2025-04-18 13:29:25.842 [INF] Application shutting down
2025-04-18 13:46:50.612 [INF] Logging initialized
2025-04-18 13:46:51.119 [INF] Application starting up
2025-04-18 13:46:51.200 [INF] Starting application diagnostics
2025-04-18 13:46:51.399 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-134651.txt
2025-04-18 13:46:52.018 [INF] Ensuring database is created
2025-04-18 13:46:52.502 [INF] Database created or already exists
2025-04-18 13:46:52.591 [DBG] Initializing MainWindow
2025-04-18 13:46:52.685 [DBG] Updating UI based on authentication state
2025-04-18 13:46:52.685 [DBG] UI updated for non-authenticated state
2025-04-18 13:46:52.685 [INF] MainWindow initialized successfully
2025-04-18 13:46:52.782 [INF] MainWindow loaded
2025-04-18 13:46:52.791 [INF] Application started successfully
2025-04-18 13:46:55.850 [DBG] Dashboard button clicked
2025-04-18 13:46:56.789 [INF] Dashboard navigation placeholder shown
2025-04-18 13:46:57.418 [DBG] Documents button clicked
2025-04-18 13:46:57.418 [DBG] Initializing DocumentsListView
2025-04-18 13:46:57.443 [DBG] Document type filter changed
2025-04-18 13:46:57.445 [ERR] Error applying filter
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Where[TSource](IEnumerable`1 source, Func`2 predicate)
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 86
2025-04-18 13:46:59.133 [ERR] Error in DocumentTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.UpdatePaginationInfo() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 128
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.DocumentTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 175
2025-04-18 13:47:00.289 [DBG] Loading documents
2025-04-18 13:47:00.440 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 13:47:00.441 [INF] Documents loaded successfully. Total count: 0
2025-04-18 13:47:00.441 [INF] DocumentsListView initialized successfully
2025-04-18 13:47:00.442 [INF] Documents list view shown
2025-04-18 13:47:06.859 [DBG] Login button clicked
2025-04-18 13:47:06.859 [DBG] Initializing LoginWindow
2025-04-18 13:47:06.884 [INF] LoginWindow initialized successfully
2025-04-18 13:47:11.012 [DBG] Login button clicked
2025-04-18 13:47:11.069 [INF] User admin logged in successfully
2025-04-18 13:47:11.069 [INF] User admin logged in successfully
2025-04-18 13:47:11.074 [DBG] Updating UI based on authentication state
2025-04-18 13:47:11.074 [DBG] UI updated for logged-in user: admin
2025-04-18 13:47:11.074 [INF] User logged in successfully through login dialog
2025-04-18 13:47:13.027 [DBG] Dashboard button clicked
2025-04-18 13:47:13.941 [INF] Dashboard navigation placeholder shown
2025-04-18 13:47:14.667 [DBG] Documents button clicked
2025-04-18 13:47:14.667 [DBG] Initializing DocumentsListView
2025-04-18 13:47:14.668 [DBG] Document type filter changed
2025-04-18 13:47:14.668 [ERR] Error applying filter
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Where[TSource](IEnumerable`1 source, Func`2 predicate)
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 86
2025-04-18 13:47:15.918 [ERR] Error in DocumentTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.UpdatePaginationInfo() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 128
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.DocumentTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 175
2025-04-18 13:47:16.449 [DBG] Loading documents
2025-04-18 13:47:16.450 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 13:47:16.451 [INF] Documents loaded successfully. Total count: 0
2025-04-18 13:47:16.451 [INF] DocumentsListView initialized successfully
2025-04-18 13:47:16.451 [INF] Documents list view shown
2025-04-18 13:47:28.036 [DBG] Requests button clicked
2025-04-18 13:47:30.439 [INF] Requests navigation placeholder shown
2025-04-18 13:47:40.989 [INF] MainWindow closing
2025-04-18 13:47:40.998 [INF] Application shutting down
2025-04-18 13:50:28.364 [INF] Logging initialized
2025-04-18 13:50:28.397 [INF] Application starting up
2025-04-18 13:50:28.400 [INF] Starting application diagnostics
2025-04-18 13:50:28.427 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-135028.txt
2025-04-18 13:50:28.515 [INF] Ensuring database is created
2025-04-18 13:50:28.859 [INF] Database created or already exists
2025-04-18 13:50:28.888 [DBG] Initializing MainWindow
2025-04-18 13:50:28.978 [DBG] Updating UI based on authentication state
2025-04-18 13:50:28.978 [DBG] UI updated for non-authenticated state
2025-04-18 13:50:28.978 [INF] MainWindow initialized successfully
2025-04-18 13:50:29.075 [INF] MainWindow loaded
2025-04-18 13:50:29.081 [INF] Application started successfully
2025-04-18 13:50:30.798 [DBG] Login button clicked
2025-04-18 13:50:30.798 [DBG] Initializing LoginWindow
2025-04-18 13:50:30.953 [INF] LoginWindow initialized successfully
2025-04-18 13:50:35.358 [DBG] Login button clicked
2025-04-18 13:50:35.462 [INF] User admin logged in successfully
2025-04-18 13:50:35.462 [INF] User admin logged in successfully
2025-04-18 13:50:35.468 [DBG] Updating UI based on authentication state
2025-04-18 13:50:35.468 [DBG] UI updated for logged-in user: admin
2025-04-18 13:50:35.468 [INF] User logged in successfully through login dialog
2025-04-18 13:50:38.150 [DBG] Documents button clicked
2025-04-18 13:50:38.150 [DBG] Initializing DocumentsListView
2025-04-18 13:50:38.156 [DBG] Document type filter changed
2025-04-18 13:50:38.157 [ERR] Error applying filter
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 120
2025-04-18 13:51:24.326 [ERR] Error in DocumentTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.UpdatePaginationInfo() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 135
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.DocumentTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 182
2025-04-18 13:51:25.251 [DBG] Loading documents
2025-04-18 13:51:25.260 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 13:51:25.262 [INF] Documents loaded successfully. Total count: 0
2025-04-18 13:51:25.262 [INF] DocumentsListView initialized successfully
2025-04-18 13:51:25.262 [INF] Documents list view shown
2025-04-18 13:51:28.003 [INF] Adding new document
2025-04-18 13:51:28.004 [DBG] Initializing DocumentAddView
2025-04-18 13:51:28.021 [INF] DocumentAddView initialized successfully
2025-04-18 13:53:01.804 [DBG] Cancel button clicked
2025-04-18 13:54:14.730 [DBG] Logout button clicked
2025-04-18 13:54:14.730 [INF] User admin logged out
2025-04-18 13:54:14.730 [DBG] Updating UI based on authentication state
2025-04-18 13:54:14.730 [DBG] UI updated for non-authenticated state
2025-04-18 13:54:14.730 [INF] User logged out successfully
2025-04-18 13:54:15.874 [INF] MainWindow closing
2025-04-18 13:54:15.880 [INF] Application shutting down
2025-04-18 13:57:55.541 [INF] Logging initialized
2025-04-18 13:57:55.574 [INF] Application starting up
2025-04-18 13:57:55.577 [INF] Starting application diagnostics
2025-04-18 13:57:55.604 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-135755.txt
2025-04-18 13:57:55.692 [INF] Ensuring database is created
2025-04-18 13:57:56.030 [INF] Database created or already exists
2025-04-18 13:57:56.060 [DBG] Initializing MainWindow
2025-04-18 13:57:56.147 [DBG] Updating UI based on authentication state
2025-04-18 13:57:56.147 [DBG] UI updated for non-authenticated state
2025-04-18 13:57:56.147 [INF] MainWindow initialized successfully
2025-04-18 13:57:56.245 [INF] MainWindow loaded
2025-04-18 13:57:56.250 [INF] Application started successfully
2025-04-18 13:58:44.757 [DBG] Login button clicked
2025-04-18 13:58:44.757 [DBG] Initializing LoginWindow
2025-04-18 13:58:44.904 [INF] LoginWindow initialized successfully
2025-04-18 13:58:49.181 [DBG] Login button clicked
2025-04-18 13:58:49.266 [INF] User admin logged in successfully
2025-04-18 13:58:49.267 [INF] User admin logged in successfully
2025-04-18 13:58:49.272 [DBG] Updating UI based on authentication state
2025-04-18 13:58:49.272 [DBG] UI updated for logged-in user: admin
2025-04-18 13:58:49.272 [INF] User logged in successfully through login dialog
2025-04-18 13:58:50.797 [DBG] Documents button clicked
2025-04-18 13:58:50.797 [DBG] Initializing DocumentsListView
2025-04-18 13:58:50.817 [INF] DocumentsListView initialized successfully
2025-04-18 13:58:50.817 [INF] Documents list view shown
2025-04-18 13:58:50.839 [DBG] Loading documents
2025-04-18 13:58:50.847 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 13:58:50.849 [INF] Documents loaded successfully. Total count: 0
2025-04-18 13:58:52.381 [INF] Adding new document
2025-04-18 13:58:52.381 [DBG] Initializing DocumentAddView
2025-04-18 13:58:52.394 [INF] DocumentAddView initialized successfully
2025-04-18 14:00:36.478 [INF] MainWindow closing
2025-04-18 14:00:36.487 [INF] Application shutting down
2025-04-18 14:05:03.886 [INF] Logging initialized
2025-04-18 14:05:03.919 [INF] Application starting up
2025-04-18 14:05:03.921 [INF] Starting application diagnostics
2025-04-18 14:05:03.947 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-140503.txt
2025-04-18 14:05:04.034 [INF] Ensuring database is created
2025-04-18 14:05:04.377 [INF] Database created or already exists
2025-04-18 14:05:04.405 [DBG] Initializing MainWindow
2025-04-18 14:05:04.494 [DBG] Updating UI based on authentication state
2025-04-18 14:05:04.494 [DBG] UI updated for non-authenticated state
2025-04-18 14:05:04.494 [INF] MainWindow initialized successfully
2025-04-18 14:05:04.593 [INF] MainWindow loaded
2025-04-18 14:05:04.598 [INF] Application started successfully
2025-04-18 14:05:40.644 [DBG] Login button clicked
2025-04-18 14:05:40.644 [DBG] Initializing LoginWindow
2025-04-18 14:05:40.796 [INF] LoginWindow initialized successfully
2025-04-18 14:05:45.372 [DBG] Login button clicked
2025-04-18 14:05:45.458 [INF] User admin logged in successfully
2025-04-18 14:05:45.458 [INF] User admin logged in successfully
2025-04-18 14:05:45.463 [DBG] Updating UI based on authentication state
2025-04-18 14:05:45.463 [DBG] UI updated for logged-in user: admin
2025-04-18 14:05:45.463 [INF] User logged in successfully through login dialog
2025-04-18 14:05:46.876 [DBG] Documents button clicked
2025-04-18 14:05:46.877 [DBG] Initializing DocumentsListView
2025-04-18 14:05:46.895 [INF] DocumentsListView initialized successfully
2025-04-18 14:05:46.896 [INF] Documents list view shown
2025-04-18 14:05:46.917 [DBG] Loading documents
2025-04-18 14:05:46.925 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:05:46.927 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:05:57.613 [INF] Adding new document
2025-04-18 14:05:57.614 [DBG] Initializing DocumentAddView
2025-04-18 14:05:57.615 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:05:57.616 [ERR] Error in DocumentTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentAddView.UpdateDocumentTypeFields(String documentType) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentAddView.xaml.cs:line 279
   at CivilRegistryApp.Modules.Documents.Views.DocumentAddView.DocumentTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentAddView.xaml.cs:line 266
2025-04-18 14:06:00.030 [INF] DocumentAddView initialized successfully
2025-04-18 14:06:03.294 [DBG] Document type changed to: Marriage Certificate
2025-04-18 14:07:11.196 [INF] Adding new document
2025-04-18 14:07:11.196 [DBG] Initializing DocumentAddView
2025-04-18 14:07:11.197 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:07:11.197 [ERR] Error in DocumentTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentAddView.UpdateDocumentTypeFields(String documentType) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentAddView.xaml.cs:line 279
   at CivilRegistryApp.Modules.Documents.Views.DocumentAddView.DocumentTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentAddView.xaml.cs:line 266
2025-04-18 14:07:12.269 [INF] DocumentAddView initialized successfully
2025-04-18 14:07:17.213 [DBG] Document type changed to: Marriage Certificate
2025-04-18 14:08:25.931 [DBG] Cancel button clicked
2025-04-18 14:08:27.059 [DBG] Logout button clicked
2025-04-18 14:08:27.059 [INF] User admin logged out
2025-04-18 14:08:27.059 [DBG] Updating UI based on authentication state
2025-04-18 14:08:27.059 [DBG] UI updated for non-authenticated state
2025-04-18 14:08:27.060 [INF] User logged out successfully
2025-04-18 14:08:30.051 [INF] MainWindow closing
2025-04-18 14:08:30.060 [INF] Application shutting down
2025-04-18 14:12:43.115 [INF] Logging initialized
2025-04-18 14:12:43.148 [INF] Application starting up
2025-04-18 14:12:43.151 [INF] Starting application diagnostics
2025-04-18 14:12:43.178 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-141243.txt
2025-04-18 14:12:43.265 [INF] Ensuring database is created
2025-04-18 14:12:43.621 [INF] Database created or already exists
2025-04-18 14:12:43.650 [DBG] Initializing MainWindow
2025-04-18 14:12:43.742 [DBG] Updating UI based on authentication state
2025-04-18 14:12:43.742 [DBG] UI updated for non-authenticated state
2025-04-18 14:12:43.742 [INF] MainWindow initialized successfully
2025-04-18 14:12:43.838 [INF] MainWindow loaded
2025-04-18 14:12:43.843 [INF] Application started successfully
2025-04-18 14:12:45.117 [DBG] Login button clicked
2025-04-18 14:12:45.117 [DBG] Initializing LoginWindow
2025-04-18 14:12:45.276 [INF] LoginWindow initialized successfully
2025-04-18 14:12:49.285 [DBG] Login button clicked
2025-04-18 14:12:49.383 [INF] Login failed: Invalid password for user admin
2025-04-18 14:12:49.383 [WRN] Login failed for user admin
2025-04-18 14:12:54.941 [DBG] Login button clicked
2025-04-18 14:12:54.944 [INF] User admin logged in successfully
2025-04-18 14:12:54.944 [INF] User admin logged in successfully
2025-04-18 14:12:54.948 [DBG] Updating UI based on authentication state
2025-04-18 14:12:54.949 [DBG] UI updated for logged-in user: admin
2025-04-18 14:12:54.949 [INF] User logged in successfully through login dialog
2025-04-18 14:12:56.485 [DBG] Documents button clicked
2025-04-18 14:12:56.485 [DBG] Initializing DocumentsListView
2025-04-18 14:12:56.505 [INF] DocumentsListView initialized successfully
2025-04-18 14:12:56.506 [INF] Documents list view shown
2025-04-18 14:12:56.528 [DBG] Loading documents
2025-04-18 14:12:56.537 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:12:56.539 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:12:57.661 [INF] Adding new document
2025-04-18 14:12:57.662 [DBG] Initializing DocumentAddView
2025-04-18 14:12:57.664 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:12:57.692 [INF] DocumentAddView initialized successfully
2025-04-18 14:13:04.373 [DBG] Document type changed to: Marriage Certificate
2025-04-18 14:13:20.175 [DBG] Document type changed to: Death Certificate
2025-04-18 14:13:29.608 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:14:00.579 [DBG] Document type changed to: Marriage Certificate
2025-04-18 14:14:28.438 [DBG] Cancel button clicked
2025-04-18 14:14:52.032 [DBG] Requests button clicked
2025-04-18 14:14:52.891 [INF] Requests navigation placeholder shown
2025-04-18 14:14:53.544 [DBG] Users button clicked
2025-04-18 14:14:53.544 [DBG] Initializing RegistrationWindow
2025-04-18 14:14:53.547 [INF] RegistrationWindow initialized successfully
2025-04-18 14:14:57.017 [DBG] Cancel button clicked
2025-04-18 14:14:57.022 [INF] User creation canceled
2025-04-18 14:14:58.321 [DBG] Logout button clicked
2025-04-18 14:14:58.321 [INF] User admin logged out
2025-04-18 14:14:58.321 [DBG] Updating UI based on authentication state
2025-04-18 14:14:58.321 [DBG] UI updated for non-authenticated state
2025-04-18 14:14:58.321 [INF] User logged out successfully
2025-04-18 14:14:59.560 [INF] MainWindow closing
2025-04-18 14:14:59.568 [INF] Application shutting down
2025-04-18 14:18:42.522 [INF] Logging initialized
2025-04-18 14:18:42.554 [INF] Application starting up
2025-04-18 14:18:42.557 [INF] Starting application diagnostics
2025-04-18 14:18:42.587 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-141842.txt
2025-04-18 14:18:42.673 [INF] Ensuring database is created
2025-04-18 14:18:43.030 [INF] Database created or already exists
2025-04-18 14:18:43.058 [DBG] Initializing MainWindow
2025-04-18 14:18:43.147 [DBG] Updating UI based on authentication state
2025-04-18 14:18:43.147 [DBG] UI updated for non-authenticated state
2025-04-18 14:18:43.147 [INF] MainWindow initialized successfully
2025-04-18 14:18:43.245 [INF] MainWindow loaded
2025-04-18 14:18:43.251 [INF] Application started successfully
2025-04-18 14:18:44.695 [DBG] Login button clicked
2025-04-18 14:18:44.695 [DBG] Initializing LoginWindow
2025-04-18 14:18:44.855 [INF] LoginWindow initialized successfully
2025-04-18 14:18:51.607 [DBG] Login button clicked
2025-04-18 14:18:51.698 [INF] User admin logged in successfully
2025-04-18 14:18:51.698 [INF] User admin logged in successfully
2025-04-18 14:18:51.703 [DBG] Updating UI based on authentication state
2025-04-18 14:18:51.704 [DBG] UI updated for logged-in user: admin
2025-04-18 14:18:51.704 [INF] User logged in successfully through login dialog
2025-04-18 14:18:53.447 [DBG] Documents button clicked
2025-04-18 14:18:53.448 [DBG] Initializing DocumentsListView
2025-04-18 14:18:53.467 [INF] DocumentsListView initialized successfully
2025-04-18 14:18:53.468 [INF] Documents list view shown
2025-04-18 14:18:53.489 [DBG] Loading documents
2025-04-18 14:18:53.498 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:18:53.500 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:18:54.600 [INF] Adding new document
2025-04-18 14:18:54.600 [DBG] Initializing DocumentAddView
2025-04-18 14:18:54.602 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:18:54.616 [INF] DocumentAddView initialized successfully
2025-04-18 14:18:58.936 [DBG] Document type changed to: Death Certificate
2025-04-18 14:19:05.137 [DBG] Document type changed to: Marriage Certificate
2025-04-18 14:19:18.057 [INF] Adding new document
2025-04-18 14:19:18.057 [DBG] Initializing DocumentAddView
2025-04-18 14:19:18.058 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:19:18.062 [INF] DocumentAddView initialized successfully
2025-04-18 14:20:25.601 [DBG] Logout button clicked
2025-04-18 14:20:25.601 [INF] User admin logged out
2025-04-18 14:20:25.601 [DBG] Updating UI based on authentication state
2025-04-18 14:20:25.601 [DBG] UI updated for non-authenticated state
2025-04-18 14:20:25.601 [INF] User logged out successfully
2025-04-18 14:20:26.032 [INF] MainWindow closing
2025-04-18 14:20:26.040 [INF] Application shutting down
2025-04-18 14:23:43.399 [INF] Logging initialized
2025-04-18 14:23:43.433 [INF] Application starting up
2025-04-18 14:23:43.435 [INF] Starting application diagnostics
2025-04-18 14:23:43.461 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-142343.txt
2025-04-18 14:23:43.548 [INF] Ensuring database is created
2025-04-18 14:23:43.898 [INF] Database created or already exists
2025-04-18 14:23:43.926 [DBG] Initializing MainWindow
2025-04-18 14:23:44.015 [DBG] Updating UI based on authentication state
2025-04-18 14:23:44.015 [DBG] UI updated for non-authenticated state
2025-04-18 14:23:44.015 [INF] MainWindow initialized successfully
2025-04-18 14:23:44.110 [INF] MainWindow loaded
2025-04-18 14:23:44.115 [INF] Application started successfully
2025-04-18 14:23:45.524 [DBG] Login button clicked
2025-04-18 14:23:45.524 [DBG] Initializing LoginWindow
2025-04-18 14:23:45.679 [INF] LoginWindow initialized successfully
2025-04-18 14:23:50.725 [DBG] Login button clicked
2025-04-18 14:23:50.814 [INF] User admin logged in successfully
2025-04-18 14:23:50.815 [INF] User admin logged in successfully
2025-04-18 14:23:50.820 [DBG] Updating UI based on authentication state
2025-04-18 14:23:50.820 [DBG] UI updated for logged-in user: admin
2025-04-18 14:23:50.820 [INF] User logged in successfully through login dialog
2025-04-18 14:23:51.860 [DBG] Documents button clicked
2025-04-18 14:23:51.861 [DBG] Initializing DocumentsListView
2025-04-18 14:23:51.881 [INF] DocumentsListView initialized successfully
2025-04-18 14:23:51.881 [INF] Documents list view shown
2025-04-18 14:23:51.903 [DBG] Loading documents
2025-04-18 14:23:51.913 [ERR] Error retrieving all documents
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: d.BackFilePath'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.GetAllAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 23
   at CivilRegistryApp.Modules.Documents.DocumentService.GetAllDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\DocumentService.cs:line 40
2025-04-18 14:23:51.938 [ERR] Error loading documents
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: d.BackFilePath'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.GetAllAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 23
   at CivilRegistryApp.Modules.Documents.DocumentService.GetAllDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\DocumentService.cs:line 40
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.LoadDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 66
2025-04-18 14:24:13.183 [INF] Adding new document
2025-04-18 14:24:13.184 [DBG] Initializing DocumentAddView
2025-04-18 14:24:13.185 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:24:13.209 [INF] DocumentAddView initialized successfully
2025-04-18 14:24:15.367 [DBG] Documents button clicked
2025-04-18 14:24:15.367 [DBG] Initializing DocumentsListView
2025-04-18 14:24:15.370 [INF] DocumentsListView initialized successfully
2025-04-18 14:24:15.370 [INF] Documents list view shown
2025-04-18 14:24:15.379 [DBG] Loading documents
2025-04-18 14:24:15.379 [ERR] Error retrieving all documents
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: d.BackFilePath'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.GetAllAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 23
   at CivilRegistryApp.Modules.Documents.DocumentService.GetAllDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\DocumentService.cs:line 40
2025-04-18 14:24:15.380 [ERR] Error loading documents
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: d.BackFilePath'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.GetAllAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 23
   at CivilRegistryApp.Modules.Documents.DocumentService.GetAllDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\DocumentService.cs:line 40
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.LoadDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 66
2025-04-18 14:24:56.547 [DBG] Logout button clicked
2025-04-18 14:24:56.547 [INF] User admin logged out
2025-04-18 14:24:56.547 [DBG] Updating UI based on authentication state
2025-04-18 14:24:56.548 [DBG] UI updated for non-authenticated state
2025-04-18 14:24:56.549 [INF] User logged out successfully
2025-04-18 14:24:57.347 [INF] MainWindow closing
2025-04-18 14:24:57.356 [INF] Application shutting down
2025-04-18 14:30:37.534 [INF] Logging initialized
2025-04-18 14:30:37.567 [INF] Application starting up
2025-04-18 14:30:37.570 [INF] Starting application diagnostics
2025-04-18 14:30:37.597 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-143037.txt
2025-04-18 14:30:37.685 [INF] Ensuring database is created
2025-04-18 14:30:38.604 [INF] Database created or already exists
2025-04-18 14:30:38.638 [DBG] Initializing MainWindow
2025-04-18 14:30:38.734 [DBG] Updating UI based on authentication state
2025-04-18 14:30:38.734 [DBG] UI updated for non-authenticated state
2025-04-18 14:30:38.734 [INF] MainWindow initialized successfully
2025-04-18 14:30:38.833 [INF] MainWindow loaded
2025-04-18 14:30:38.840 [INF] Application started successfully
2025-04-18 14:30:40.629 [DBG] Login button clicked
2025-04-18 14:30:40.629 [DBG] Initializing LoginWindow
2025-04-18 14:30:40.752 [INF] First run detected - no users in database
2025-04-18 14:30:40.752 [INF] LoginWindow initialized successfully
2025-04-18 14:30:47.430 [DBG] Login button clicked
2025-04-18 14:30:47.480 [INF] Login failed: User admin not found
2025-04-18 14:30:47.480 [WRN] Login failed for user admin
2025-04-18 14:30:53.125 [DBG] Login button clicked
2025-04-18 14:30:53.128 [INF] Login failed: User admin not found
2025-04-18 14:30:53.128 [WRN] Login failed for user admin
2025-04-18 14:30:54.397 [DBG] Login button clicked
2025-04-18 14:30:58.966 [DBG] Login button clicked
2025-04-18 14:30:58.967 [INF] Login failed: User admin not found
2025-04-18 14:30:58.967 [WRN] Login failed for user admin
2025-04-18 14:31:06.359 [DBG] Create admin button clicked
2025-04-18 14:31:06.359 [DBG] Initializing RegistrationWindow
2025-04-18 14:31:06.371 [INF] RegistrationWindow initialized successfully
2025-04-18 14:33:36.534 [DBG] Register button clicked
2025-04-18 14:33:37.085 [INF] User admin registered successfully with role Admin
2025-04-18 14:33:37.085 [INF] User admin registered successfully with role Admin
2025-04-18 14:33:37.090 [INF] Admin user created successfully
2025-04-18 14:33:42.750 [DBG] Login button clicked
2025-04-18 14:33:42.752 [INF] Login failed: Invalid password for user admin
2025-04-18 14:33:42.752 [WRN] Login failed for user admin
2025-04-18 14:33:44.199 [DBG] Login button clicked
2025-04-18 14:33:45.015 [DBG] Cancel button clicked
2025-04-18 14:33:45.018 [INF] Login dialog canceled or closed without login
2025-04-18 14:33:46.327 [DBG] Documents button clicked
2025-04-18 14:33:46.328 [DBG] Initializing DocumentsListView
2025-04-18 14:33:46.336 [INF] DocumentsListView initialized successfully
2025-04-18 14:33:46.337 [INF] Documents list view shown
2025-04-18 14:33:46.352 [DBG] Loading documents
2025-04-18 14:33:46.360 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:33:46.362 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:33:47.687 [INF] Adding new document
2025-04-18 14:33:47.687 [DBG] Initializing DocumentAddView
2025-04-18 14:33:47.689 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:33:47.702 [INF] DocumentAddView initialized successfully
2025-04-18 14:34:16.706 [DBG] Cancel button clicked
2025-04-18 14:34:17.706 [DBG] Login button clicked
2025-04-18 14:34:17.706 [DBG] Initializing LoginWindow
2025-04-18 14:34:17.707 [INF] LoginWindow initialized successfully
2025-04-18 14:34:30.779 [DBG] Login button clicked
2025-04-18 14:34:30.780 [INF] User admin logged in successfully
2025-04-18 14:34:30.780 [INF] User admin logged in successfully
2025-04-18 14:34:30.783 [DBG] Updating UI based on authentication state
2025-04-18 14:34:30.783 [DBG] UI updated for logged-in user: admin
2025-04-18 14:34:30.783 [INF] User logged in successfully through login dialog
2025-04-18 14:34:35.235 [INF] Adding new document
2025-04-18 14:34:35.236 [DBG] Initializing DocumentAddView
2025-04-18 14:34:35.236 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:34:35.240 [INF] DocumentAddView initialized successfully
2025-04-18 14:34:53.237 [DBG] Document type changed to: Marriage Certificate
2025-04-18 14:35:01.358 [DBG] Document type changed to: Death Certificate
2025-04-18 14:35:11.359 [DBG] Logout button clicked
2025-04-18 14:35:11.360 [INF] User admin logged out
2025-04-18 14:35:11.360 [DBG] Updating UI based on authentication state
2025-04-18 14:35:11.360 [DBG] UI updated for non-authenticated state
2025-04-18 14:35:11.360 [INF] User logged out successfully
2025-04-18 14:35:13.624 [INF] MainWindow closing
2025-04-18 14:35:13.632 [INF] Application shutting down
2025-04-18 14:41:24.252 [INF] Logging initialized
2025-04-18 14:41:24.286 [INF] Application starting up
2025-04-18 14:41:24.289 [INF] Starting application diagnostics
2025-04-18 14:41:24.316 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-144124.txt
2025-04-18 14:41:24.402 [INF] Ensuring database is created
2025-04-18 14:41:24.735 [INF] Database created or already exists
2025-04-18 14:41:24.764 [DBG] Initializing MainWindow
2025-04-18 14:41:24.854 [DBG] Updating UI based on authentication state
2025-04-18 14:41:24.854 [DBG] UI updated for non-authenticated state
2025-04-18 14:41:24.854 [INF] MainWindow initialized successfully
2025-04-18 14:41:24.955 [INF] MainWindow loaded
2025-04-18 14:41:24.960 [INF] Application started successfully
2025-04-18 14:41:27.972 [DBG] Login button clicked
2025-04-18 14:41:27.973 [DBG] Initializing LoginWindow
2025-04-18 14:41:28.132 [INF] LoginWindow initialized successfully
2025-04-18 14:41:46.678 [DBG] Login button clicked
2025-04-18 14:41:46.763 [INF] User admin logged in successfully
2025-04-18 14:41:46.764 [INF] User admin logged in successfully
2025-04-18 14:41:46.769 [DBG] Updating UI based on authentication state
2025-04-18 14:41:46.770 [DBG] UI updated for logged-in user: admin
2025-04-18 14:41:46.770 [INF] User logged in successfully through login dialog
2025-04-18 14:41:48.590 [DBG] Documents button clicked
2025-04-18 14:41:48.590 [DBG] Initializing DocumentsListView
2025-04-18 14:41:48.610 [INF] DocumentsListView initialized successfully
2025-04-18 14:41:48.610 [INF] Documents list view shown
2025-04-18 14:41:48.631 [DBG] Loading documents
2025-04-18 14:41:48.639 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:41:48.641 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:41:52.414 [DBG] Requests button clicked
2025-04-18 14:41:54.698 [INF] Requests navigation placeholder shown
2025-04-18 14:41:55.631 [DBG] Users button clicked
2025-04-18 14:41:55.631 [DBG] Initializing RegistrationWindow
2025-04-18 14:41:55.634 [INF] RegistrationWindow initialized successfully
2025-04-18 14:41:56.887 [DBG] Cancel button clicked
2025-04-18 14:41:56.891 [INF] User creation canceled
2025-04-18 14:41:58.175 [DBG] Dashboard button clicked
2025-04-18 14:41:59.538 [INF] Dashboard navigation placeholder shown
2025-04-18 14:42:00.159 [DBG] Documents button clicked
2025-04-18 14:42:00.159 [DBG] Initializing DocumentsListView
2025-04-18 14:42:00.162 [INF] DocumentsListView initialized successfully
2025-04-18 14:42:00.162 [INF] Documents list view shown
2025-04-18 14:42:00.171 [DBG] Loading documents
2025-04-18 14:42:00.171 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:42:00.172 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:42:01.552 [INF] Adding new document
2025-04-18 14:42:01.552 [DBG] Initializing DocumentAddView
2025-04-18 14:42:01.554 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:42:01.566 [INF] DocumentAddView initialized successfully
2025-04-18 14:42:06.255 [DBG] Cancel button clicked
2025-04-18 14:42:09.136 [INF] MainWindow closing
2025-04-18 14:42:09.146 [INF] Application shutting down
2025-04-18 14:42:49.650 [INF] Logging initialized
2025-04-18 14:42:49.681 [INF] Application starting up
2025-04-18 14:42:49.684 [INF] Starting application diagnostics
2025-04-18 14:42:49.713 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-144249.txt
2025-04-18 14:42:49.799 [INF] Ensuring database is created
2025-04-18 14:42:50.115 [INF] Database created or already exists
2025-04-18 14:42:50.144 [DBG] Initializing MainWindow
2025-04-18 14:42:50.228 [DBG] Updating UI based on authentication state
2025-04-18 14:42:50.228 [DBG] UI updated for non-authenticated state
2025-04-18 14:42:50.228 [INF] MainWindow initialized successfully
2025-04-18 14:42:50.326 [INF] MainWindow loaded
2025-04-18 14:42:50.333 [INF] Application started successfully
2025-04-18 14:42:53.013 [DBG] Requests button clicked
2025-04-18 14:42:56.328 [INF] Requests navigation placeholder shown
2025-04-18 14:43:34.464 [INF] MainWindow closing
2025-04-18 14:43:34.472 [INF] Application shutting down
2025-04-18 14:44:27.858 [INF] Logging initialized
2025-04-18 14:44:27.891 [INF] Application starting up
2025-04-18 14:44:27.893 [INF] Starting application diagnostics
2025-04-18 14:44:27.923 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-144427.txt
2025-04-18 14:44:28.011 [INF] Ensuring database is created
2025-04-18 14:44:28.353 [INF] Database created or already exists
2025-04-18 14:44:28.383 [DBG] Initializing MainWindow
2025-04-18 14:44:28.474 [DBG] Updating UI based on authentication state
2025-04-18 14:44:28.474 [DBG] UI updated for non-authenticated state
2025-04-18 14:44:28.474 [INF] MainWindow initialized successfully
2025-04-18 14:44:28.577 [INF] MainWindow loaded
2025-04-18 14:44:28.583 [INF] Application started successfully
2025-04-18 14:44:30.519 [DBG] Login button clicked
2025-04-18 14:44:30.519 [DBG] Initializing LoginWindow
2025-04-18 14:44:30.670 [INF] LoginWindow initialized successfully
2025-04-18 14:44:41.600 [DBG] Login button clicked
2025-04-18 14:44:41.687 [INF] User admin logged in successfully
2025-04-18 14:44:41.687 [INF] User admin logged in successfully
2025-04-18 14:44:41.692 [DBG] Updating UI based on authentication state
2025-04-18 14:44:41.693 [DBG] UI updated for logged-in user: admin
2025-04-18 14:44:41.693 [INF] User logged in successfully through login dialog
2025-04-18 14:44:43.031 [DBG] Requests button clicked
2025-04-18 14:44:43.038 [DBG] Status filter changed to: All Requests
2025-04-18 14:44:43.038 [ERR] Error applying filters
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Skip[TSource](IEnumerable`1 source, Int32 count)
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 111
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 96
2025-04-18 14:44:43.045 [ERR] Error in StatusComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdatePagination() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 136
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.StatusComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 187
2025-04-18 14:44:52.914 [INF] Requests list view shown
2025-04-18 14:44:52.945 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:44:52.947 [INF] Loaded 0 document requests
2025-04-18 14:45:23.244 [INF] Adding new document request
2025-04-18 14:46:01.151 [DBG] Logout button clicked
2025-04-18 14:46:01.151 [INF] User admin logged out
2025-04-18 14:46:01.152 [DBG] Updating UI based on authentication state
2025-04-18 14:46:01.152 [DBG] UI updated for non-authenticated state
2025-04-18 14:46:01.152 [INF] User logged out successfully
2025-04-18 14:46:09.407 [INF] MainWindow closing
2025-04-18 14:46:09.415 [INF] Application shutting down
2025-04-18 14:46:24.527 [INF] Logging initialized
2025-04-18 14:46:24.720 [INF] Application starting up
2025-04-18 14:46:24.723 [INF] Starting application diagnostics
2025-04-18 14:46:24.838 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-144624.txt
2025-04-18 14:46:25.054 [INF] Ensuring database is created
2025-04-18 14:46:25.376 [INF] Database created or already exists
2025-04-18 14:46:25.405 [DBG] Initializing MainWindow
2025-04-18 14:46:25.497 [DBG] Updating UI based on authentication state
2025-04-18 14:46:25.497 [DBG] UI updated for non-authenticated state
2025-04-18 14:46:25.497 [INF] MainWindow initialized successfully
2025-04-18 14:46:25.597 [INF] MainWindow loaded
2025-04-18 14:46:25.602 [INF] Application started successfully
2025-04-18 14:46:27.002 [DBG] Login button clicked
2025-04-18 14:46:27.002 [DBG] Initializing LoginWindow
2025-04-18 14:46:27.156 [INF] LoginWindow initialized successfully
2025-04-18 14:46:32.258 [DBG] Login button clicked
2025-04-18 14:46:32.345 [INF] User admin logged in successfully
2025-04-18 14:46:32.345 [INF] User admin logged in successfully
2025-04-18 14:46:32.350 [DBG] Updating UI based on authentication state
2025-04-18 14:46:32.351 [DBG] UI updated for logged-in user: admin
2025-04-18 14:46:32.351 [INF] User logged in successfully through login dialog
2025-04-18 14:46:33.714 [DBG] Requests button clicked
2025-04-18 14:46:33.721 [DBG] Status filter changed to: All Requests
2025-04-18 14:46:33.721 [ERR] Error applying filters
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Skip[TSource](IEnumerable`1 source, Int32 count)
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 111
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 96
2025-04-18 14:46:33.728 [ERR] Error in StatusComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdatePagination() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 136
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.StatusComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 187
2025-04-18 14:48:44.632 [INF] Requests list view shown
2025-04-18 14:48:44.659 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:48:44.661 [INF] Loaded 0 document requests
2025-04-18 14:48:45.591 [DBG] Logout button clicked
2025-04-18 14:48:45.591 [INF] User admin logged out
2025-04-18 14:48:45.591 [DBG] Updating UI based on authentication state
2025-04-18 14:48:45.591 [DBG] UI updated for non-authenticated state
2025-04-18 14:48:45.591 [INF] User logged out successfully
2025-04-18 14:48:46.343 [INF] MainWindow closing
2025-04-18 14:48:46.352 [INF] Application shutting down
2025-04-18 14:49:15.177 [INF] Logging initialized
2025-04-18 14:49:15.211 [INF] Application starting up
2025-04-18 14:49:15.213 [INF] Starting application diagnostics
2025-04-18 14:49:15.239 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-144915.txt
2025-04-18 14:49:15.327 [INF] Ensuring database is created
2025-04-18 14:49:15.669 [INF] Database created or already exists
2025-04-18 14:49:15.698 [DBG] Initializing MainWindow
2025-04-18 14:49:15.786 [DBG] Updating UI based on authentication state
2025-04-18 14:49:15.786 [DBG] UI updated for non-authenticated state
2025-04-18 14:49:15.786 [INF] MainWindow initialized successfully
2025-04-18 14:49:15.883 [INF] MainWindow loaded
2025-04-18 14:49:15.890 [INF] Application started successfully
2025-04-18 14:49:17.331 [DBG] Login button clicked
2025-04-18 14:49:17.332 [DBG] Initializing LoginWindow
2025-04-18 14:49:17.491 [INF] LoginWindow initialized successfully
2025-04-18 14:49:24.163 [DBG] Login button clicked
2025-04-18 14:49:24.253 [INF] User admin logged in successfully
2025-04-18 14:49:24.253 [INF] User admin logged in successfully
2025-04-18 14:49:24.259 [DBG] Updating UI based on authentication state
2025-04-18 14:49:24.260 [DBG] UI updated for logged-in user: admin
2025-04-18 14:49:24.260 [INF] User logged in successfully through login dialog
2025-04-18 14:49:25.355 [DBG] Requests button clicked
2025-04-18 14:49:25.362 [DBG] Status filter changed to: All Requests
2025-04-18 14:49:25.363 [ERR] Error applying filters
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Skip[TSource](IEnumerable`1 source, Int32 count)
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 111
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 96
2025-04-18 14:49:25.369 [ERR] Error in StatusComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdatePagination() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 136
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.StatusComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 187
2025-04-18 14:49:29.644 [INF] Requests list view shown
2025-04-18 14:49:29.675 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:49:29.676 [INF] Loaded 0 document requests
2025-04-18 14:49:30.980 [INF] Adding new document request
2025-04-18 14:49:41.933 [DBG] Logout button clicked
2025-04-18 14:49:41.933 [INF] User admin logged out
2025-04-18 14:49:41.933 [DBG] Updating UI based on authentication state
2025-04-18 14:49:41.933 [DBG] UI updated for non-authenticated state
2025-04-18 14:49:41.933 [INF] User logged out successfully
2025-04-18 14:49:42.556 [INF] MainWindow closing
2025-04-18 14:49:42.566 [INF] Application shutting down
2025-04-18 14:51:48.887 [INF] Logging initialized
2025-04-18 14:51:48.925 [INF] Application starting up
2025-04-18 14:51:48.928 [INF] Starting application diagnostics
2025-04-18 14:51:48.954 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-145148.txt
2025-04-18 14:51:49.041 [INF] Ensuring database is created
2025-04-18 14:51:49.383 [INF] Database created or already exists
2025-04-18 14:51:49.411 [DBG] Initializing MainWindow
2025-04-18 14:51:49.498 [DBG] Updating UI based on authentication state
2025-04-18 14:51:49.498 [DBG] UI updated for non-authenticated state
2025-04-18 14:51:49.498 [INF] MainWindow initialized successfully
2025-04-18 14:51:49.596 [INF] MainWindow loaded
2025-04-18 14:51:49.603 [INF] Application started successfully
2025-04-18 14:51:50.946 [DBG] Login button clicked
2025-04-18 14:51:50.947 [DBG] Initializing LoginWindow
2025-04-18 14:51:51.101 [INF] LoginWindow initialized successfully
2025-04-18 14:51:56.050 [DBG] Login button clicked
2025-04-18 14:51:56.139 [INF] User admin logged in successfully
2025-04-18 14:51:56.140 [INF] User admin logged in successfully
2025-04-18 14:51:56.145 [DBG] Updating UI based on authentication state
2025-04-18 14:51:56.145 [DBG] UI updated for logged-in user: admin
2025-04-18 14:51:56.145 [INF] User logged in successfully through login dialog
2025-04-18 14:51:56.746 [DBG] Requests button clicked
2025-04-18 14:51:56.753 [DBG] Status filter changed to: All Requests
2025-04-18 14:51:56.753 [ERR] Error applying filters
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Skip[TSource](IEnumerable`1 source, Int32 count)
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 111
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 96
2025-04-18 14:51:56.760 [ERR] Error in StatusComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdatePagination() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 136
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.StatusComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 187
2025-04-18 14:53:01.832 [INF] Requests list view shown
2025-04-18 14:53:01.860 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:53:01.862 [INF] Loaded 0 document requests
2025-04-18 14:53:02.768 [INF] MainWindow closing
2025-04-18 14:53:02.778 [INF] Application shutting down
2025-04-18 14:54:08.283 [INF] Logging initialized
2025-04-18 14:54:08.316 [INF] Application starting up
2025-04-18 14:54:08.319 [INF] Starting application diagnostics
2025-04-18 14:54:08.349 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-145408.txt
2025-04-18 14:54:08.456 [INF] Ensuring database is created
2025-04-18 14:54:08.797 [INF] Database created or already exists
2025-04-18 14:54:08.826 [DBG] Initializing MainWindow
2025-04-18 14:54:08.917 [DBG] Updating UI based on authentication state
2025-04-18 14:54:08.917 [DBG] UI updated for non-authenticated state
2025-04-18 14:54:08.917 [INF] MainWindow initialized successfully
2025-04-18 14:54:09.019 [INF] MainWindow loaded
2025-04-18 14:54:09.025 [INF] Application started successfully
2025-04-18 14:54:10.888 [DBG] Login button clicked
2025-04-18 14:54:10.888 [DBG] Initializing LoginWindow
2025-04-18 14:54:11.040 [INF] LoginWindow initialized successfully
2025-04-18 14:54:15.808 [DBG] Login button clicked
2025-04-18 14:54:15.895 [INF] User admin logged in successfully
2025-04-18 14:54:15.895 [INF] User admin logged in successfully
2025-04-18 14:54:15.900 [DBG] Updating UI based on authentication state
2025-04-18 14:54:15.900 [DBG] UI updated for logged-in user: admin
2025-04-18 14:54:15.900 [INF] User logged in successfully through login dialog
2025-04-18 14:54:17.216 [DBG] Requests button clicked
2025-04-18 14:54:17.224 [DBG] Status filter changed to: All Requests
2025-04-18 14:54:17.225 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 118
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 97
2025-04-18 14:54:17.231 [ERR] Error in StatusComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdatePagination() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 137
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.StatusComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 188
2025-04-18 14:54:56.916 [INF] Requests list view shown
2025-04-18 14:54:56.943 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:54:56.945 [INF] Loaded 0 document requests
2025-04-18 14:54:57.916 [DBG] Logout button clicked
2025-04-18 14:54:57.916 [INF] User admin logged out
2025-04-18 14:54:57.916 [DBG] Updating UI based on authentication state
2025-04-18 14:54:57.916 [DBG] UI updated for non-authenticated state
2025-04-18 14:54:57.916 [INF] User logged out successfully
2025-04-18 14:54:59.300 [INF] MainWindow closing
2025-04-18 14:54:59.310 [INF] Application shutting down
2025-04-18 14:55:19.498 [INF] Logging initialized
2025-04-18 14:55:19.538 [INF] Application starting up
2025-04-18 14:55:19.540 [INF] Starting application diagnostics
2025-04-18 14:55:19.570 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-145519.txt
2025-04-18 14:55:19.670 [INF] Ensuring database is created
2025-04-18 14:55:20.004 [INF] Database created or already exists
2025-04-18 14:55:20.034 [DBG] Initializing MainWindow
2025-04-18 14:55:20.121 [DBG] Updating UI based on authentication state
2025-04-18 14:55:20.121 [DBG] UI updated for non-authenticated state
2025-04-18 14:55:20.121 [INF] MainWindow initialized successfully
2025-04-18 14:55:20.224 [INF] MainWindow loaded
2025-04-18 14:55:20.231 [INF] Application started successfully
2025-04-18 14:55:43.377 [DBG] Login button clicked
2025-04-18 14:55:43.377 [DBG] Initializing LoginWindow
2025-04-18 14:55:43.524 [INF] LoginWindow initialized successfully
2025-04-18 14:55:47.842 [DBG] Login button clicked
2025-04-18 14:55:47.926 [INF] User admin logged in successfully
2025-04-18 14:55:47.926 [INF] User admin logged in successfully
2025-04-18 14:55:47.931 [DBG] Updating UI based on authentication state
2025-04-18 14:55:47.931 [DBG] UI updated for logged-in user: admin
2025-04-18 14:55:47.932 [INF] User logged in successfully through login dialog
2025-04-18 14:55:49.017 [DBG] Requests button clicked
2025-04-18 14:55:49.024 [DBG] Status filter changed to: All Requests
2025-04-18 14:55:49.024 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 118
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 97
2025-04-18 14:55:49.030 [ERR] Error in StatusComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdatePagination() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 137
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.StatusComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 188
2025-04-18 14:55:50.033 [INF] Requests list view shown
2025-04-18 14:55:50.060 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:55:50.062 [INF] Loaded 0 document requests
2025-04-18 14:55:51.242 [INF] Adding new document request
2025-04-18 14:55:54.922 [DBG] Logout button clicked
2025-04-18 14:55:54.922 [INF] User admin logged out
2025-04-18 14:55:54.922 [DBG] Updating UI based on authentication state
2025-04-18 14:55:54.922 [DBG] UI updated for non-authenticated state
2025-04-18 14:55:54.923 [INF] User logged out successfully
2025-04-18 14:55:56.010 [INF] MainWindow closing
2025-04-18 14:55:56.019 [INF] Application shutting down
2025-04-18 14:58:17.406 [INF] Logging initialized
2025-04-18 14:58:17.441 [INF] Application starting up
2025-04-18 14:58:17.443 [INF] Starting application diagnostics
2025-04-18 14:58:17.473 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-145817.txt
2025-04-18 14:58:17.560 [INF] Ensuring database is created
2025-04-18 14:58:17.899 [INF] Database created or already exists
2025-04-18 14:58:17.929 [DBG] Initializing MainWindow
2025-04-18 14:58:18.020 [DBG] Updating UI based on authentication state
2025-04-18 14:58:18.020 [DBG] UI updated for non-authenticated state
2025-04-18 14:58:18.020 [INF] MainWindow initialized successfully
2025-04-18 14:58:18.117 [INF] MainWindow loaded
2025-04-18 14:58:18.122 [INF] Application started successfully
2025-04-18 14:58:20.792 [DBG] Login button clicked
2025-04-18 14:58:20.792 [DBG] Initializing LoginWindow
2025-04-18 14:58:20.948 [INF] LoginWindow initialized successfully
2025-04-18 14:58:25.369 [DBG] Login button clicked
2025-04-18 14:58:25.454 [INF] User admin logged in successfully
2025-04-18 14:58:25.455 [INF] User admin logged in successfully
2025-04-18 14:58:25.460 [DBG] Updating UI based on authentication state
2025-04-18 14:58:25.460 [DBG] UI updated for logged-in user: admin
2025-04-18 14:58:25.460 [INF] User logged in successfully through login dialog
2025-04-18 14:58:26.905 [DBG] Requests button clicked
2025-04-18 14:58:26.911 [DBG] Status filter changed to: All Requests
2025-04-18 14:58:26.912 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 14:58:26.917 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 14:58:26.932 [INF] RequestsListView initialized successfully
2025-04-18 14:58:26.933 [INF] Requests list view shown
2025-04-18 14:58:26.960 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 14:58:26.962 [INF] Loaded 0 document requests
2025-04-18 14:58:30.026 [INF] Adding new document request
2025-04-18 14:58:51.331 [DBG] Documents button clicked
2025-04-18 14:58:51.332 [DBG] Initializing DocumentsListView
2025-04-18 14:58:51.335 [INF] DocumentsListView initialized successfully
2025-04-18 14:58:51.335 [INF] Documents list view shown
2025-04-18 14:58:51.344 [DBG] Loading documents
2025-04-18 14:58:51.350 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 14:58:51.350 [INF] Documents loaded successfully. Total count: 0
2025-04-18 14:58:52.739 [INF] Adding new document
2025-04-18 14:58:52.739 [DBG] Initializing DocumentAddView
2025-04-18 14:58:52.741 [DBG] Document type changed to: Birth Certificate
2025-04-18 14:58:52.752 [INF] DocumentAddView initialized successfully
2025-04-18 15:03:29.023 [DBG] Cancel button clicked
2025-04-18 15:03:30.255 [DBG] Logout button clicked
2025-04-18 15:03:30.256 [INF] User admin logged out
2025-04-18 15:03:30.256 [DBG] Updating UI based on authentication state
2025-04-18 15:03:30.256 [DBG] UI updated for non-authenticated state
2025-04-18 15:03:30.256 [INF] User logged out successfully
2025-04-18 15:03:31.094 [INF] MainWindow closing
2025-04-18 15:03:31.102 [INF] Application shutting down
2025-04-18 15:03:48.030 [INF] Logging initialized
2025-04-18 15:03:48.067 [INF] Application starting up
2025-04-18 15:03:48.070 [INF] Starting application diagnostics
2025-04-18 15:03:48.099 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-150348.txt
2025-04-18 15:03:48.187 [INF] Ensuring database is created
2025-04-18 15:03:48.519 [INF] Database created or already exists
2025-04-18 15:03:48.547 [DBG] Initializing MainWindow
2025-04-18 15:03:48.636 [DBG] Updating UI based on authentication state
2025-04-18 15:03:48.636 [DBG] UI updated for non-authenticated state
2025-04-18 15:03:48.636 [INF] MainWindow initialized successfully
2025-04-18 15:03:48.734 [INF] MainWindow loaded
2025-04-18 15:03:48.740 [INF] Application started successfully
2025-04-18 15:03:50.225 [DBG] Login button clicked
2025-04-18 15:03:50.225 [DBG] Initializing LoginWindow
2025-04-18 15:03:50.384 [INF] LoginWindow initialized successfully
2025-04-18 15:03:56.377 [DBG] Login button clicked
2025-04-18 15:03:56.466 [INF] User admin logged in successfully
2025-04-18 15:03:56.466 [INF] User admin logged in successfully
2025-04-18 15:03:56.472 [DBG] Updating UI based on authentication state
2025-04-18 15:03:56.472 [DBG] UI updated for logged-in user: admin
2025-04-18 15:03:56.472 [INF] User logged in successfully through login dialog
2025-04-18 15:03:59.810 [DBG] Documents button clicked
2025-04-18 15:03:59.810 [DBG] Initializing DocumentsListView
2025-04-18 15:03:59.831 [INF] DocumentsListView initialized successfully
2025-04-18 15:03:59.832 [INF] Documents list view shown
2025-04-18 15:03:59.856 [DBG] Loading documents
2025-04-18 15:03:59.865 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 15:03:59.867 [INF] Documents loaded successfully. Total count: 0
2025-04-18 15:04:01.018 [INF] Adding new document
2025-04-18 15:04:01.018 [DBG] Initializing DocumentAddView
2025-04-18 15:04:01.020 [DBG] Document type changed to: Birth Certificate
2025-04-18 15:04:01.043 [INF] DocumentAddView initialized successfully
2025-04-18 15:04:08.739 [DBG] Browse front button clicked
2025-04-18 15:05:08.933 [DBG] Front file selected: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 15:05:15.017 [DBG] Browse back button clicked
2025-04-18 15:05:18.728 [DBG] Back file selected: C:\Users\snugg\Downloads\1477553920.pdf
2025-04-18 15:05:26.962 [DBG] Preview back button clicked for file: C:\Users\snugg\Downloads\1477553920.pdf
2025-04-18 15:05:43.740 [DBG] Preview front button clicked for file: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 15:05:56.190 [DBG] Cancel button clicked
2025-04-18 15:06:42.162 [DBG] Logout button clicked
2025-04-18 15:06:42.162 [INF] User admin logged out
2025-04-18 15:06:42.162 [DBG] Updating UI based on authentication state
2025-04-18 15:06:42.162 [DBG] UI updated for non-authenticated state
2025-04-18 15:06:42.162 [INF] User logged out successfully
2025-04-18 15:06:43.258 [INF] MainWindow closing
2025-04-18 15:06:43.265 [INF] Application shutting down
2025-04-18 15:10:36.702 [INF] Logging initialized
2025-04-18 15:10:36.735 [INF] Application starting up
2025-04-18 15:10:36.737 [INF] Starting application diagnostics
2025-04-18 15:10:36.765 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-151036.txt
2025-04-18 15:10:36.862 [INF] Ensuring database is created
2025-04-18 15:10:37.202 [INF] Database created or already exists
2025-04-18 15:10:37.230 [DBG] Initializing MainWindow
2025-04-18 15:10:37.318 [DBG] Updating UI based on authentication state
2025-04-18 15:10:37.318 [DBG] UI updated for non-authenticated state
2025-04-18 15:10:37.318 [INF] MainWindow initialized successfully
2025-04-18 15:10:37.423 [INF] MainWindow loaded
2025-04-18 15:10:37.428 [INF] Application started successfully
2025-04-18 15:10:40.082 [DBG] Login button clicked
2025-04-18 15:10:40.083 [DBG] Initializing LoginWindow
2025-04-18 15:10:40.239 [INF] LoginWindow initialized successfully
2025-04-18 15:10:44.970 [DBG] Login button clicked
2025-04-18 15:10:45.059 [INF] User admin logged in successfully
2025-04-18 15:10:45.060 [INF] User admin logged in successfully
2025-04-18 15:10:45.067 [DBG] Updating UI based on authentication state
2025-04-18 15:10:45.068 [DBG] UI updated for logged-in user: admin
2025-04-18 15:10:45.068 [INF] User logged in successfully through login dialog
2025-04-18 15:10:47.467 [DBG] Documents button clicked
2025-04-18 15:10:47.467 [DBG] Initializing DocumentsListView
2025-04-18 15:10:47.489 [INF] DocumentsListView initialized successfully
2025-04-18 15:10:47.489 [INF] Documents list view shown
2025-04-18 15:10:47.513 [DBG] Loading documents
2025-04-18 15:10:47.522 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 15:10:47.524 [INF] Documents loaded successfully. Total count: 0
2025-04-18 15:10:49.579 [INF] Adding new document
2025-04-18 15:10:49.579 [DBG] Initializing DocumentAddView
2025-04-18 15:10:49.581 [DBG] Document type changed to: Birth Certificate
2025-04-18 15:10:49.595 [INF] DocumentAddView initialized successfully
2025-04-18 15:10:52.611 [DBG] Browse front button clicked
2025-04-18 15:10:54.477 [DBG] Front file selected: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 15:10:56.308 [DBG] Preview front button clicked for file: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 15:11:05.236 [DBG] Browse back button clicked
2025-04-18 15:11:07.000 [DBG] Back file selected: C:\Users\snugg\Downloads\1477553920.pdf
2025-04-18 15:11:07.741 [DBG] Preview back button clicked for file: C:\Users\snugg\Downloads\1477553920.pdf
2025-04-18 15:11:16.957 [DBG] Cancel button clicked
2025-04-18 15:11:18.710 [INF] MainWindow closing
2025-04-18 15:11:18.719 [INF] Application shutting down
2025-04-18 15:12:55.207 [INF] Logging initialized
2025-04-18 15:12:55.240 [INF] Application starting up
2025-04-18 15:12:55.242 [INF] Starting application diagnostics
2025-04-18 15:12:55.284 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-151255.txt
2025-04-18 15:12:55.369 [INF] Ensuring database is created
2025-04-18 15:12:55.682 [INF] Database created or already exists
2025-04-18 15:12:55.709 [DBG] Initializing MainWindow
2025-04-18 15:12:55.793 [DBG] Updating UI based on authentication state
2025-04-18 15:12:55.793 [DBG] UI updated for non-authenticated state
2025-04-18 15:12:55.793 [INF] MainWindow initialized successfully
2025-04-18 15:12:55.886 [INF] MainWindow loaded
2025-04-18 15:12:55.890 [INF] Application started successfully
2025-04-18 15:12:57.313 [DBG] Login button clicked
2025-04-18 15:12:57.313 [DBG] Initializing LoginWindow
2025-04-18 15:12:57.462 [INF] LoginWindow initialized successfully
2025-04-18 15:13:01.561 [DBG] Login button clicked
2025-04-18 15:13:01.646 [INF] User admin logged in successfully
2025-04-18 15:13:01.646 [INF] User admin logged in successfully
2025-04-18 15:13:01.651 [DBG] Updating UI based on authentication state
2025-04-18 15:13:01.651 [DBG] UI updated for logged-in user: admin
2025-04-18 15:13:01.651 [INF] User logged in successfully through login dialog
2025-04-18 15:13:02.712 [DBG] Requests button clicked
2025-04-18 15:13:02.719 [DBG] Status filter changed to: All Requests
2025-04-18 15:13:02.720 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 15:13:02.725 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 15:13:02.740 [INF] RequestsListView initialized successfully
2025-04-18 15:13:02.740 [INF] Requests list view shown
2025-04-18 15:13:02.860 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 15:13:02.862 [INF] Loaded 0 document requests
2025-04-18 15:13:05.368 [INF] Adding new document request
2025-04-18 15:13:14.457 [DBG] Logout button clicked
2025-04-18 15:13:14.458 [INF] User admin logged out
2025-04-18 15:13:14.458 [DBG] Updating UI based on authentication state
2025-04-18 15:13:14.458 [DBG] UI updated for non-authenticated state
2025-04-18 15:13:14.458 [INF] User logged out successfully
2025-04-18 15:13:15.186 [INF] MainWindow closing
2025-04-18 15:13:15.195 [INF] Application shutting down
2025-04-18 15:20:13.574 [INF] Logging initialized
2025-04-18 15:20:13.607 [INF] Application starting up
2025-04-18 15:20:13.610 [INF] Starting application diagnostics
2025-04-18 15:20:13.636 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-152013.txt
2025-04-18 15:20:13.722 [INF] Ensuring database is created
2025-04-18 15:20:14.084 [INF] Database created or already exists
2025-04-18 15:20:14.112 [DBG] Initializing MainWindow
2025-04-18 15:20:14.202 [DBG] Updating UI based on authentication state
2025-04-18 15:20:14.202 [DBG] UI updated for non-authenticated state
2025-04-18 15:20:14.202 [INF] MainWindow initialized successfully
2025-04-18 15:20:14.300 [INF] MainWindow loaded
2025-04-18 15:20:14.305 [INF] Application started successfully
2025-04-18 15:20:17.364 [DBG] Login button clicked
2025-04-18 15:20:17.364 [DBG] Initializing LoginWindow
2025-04-18 15:20:17.524 [INF] LoginWindow initialized successfully
2025-04-18 15:20:21.844 [DBG] Login button clicked
2025-04-18 15:20:21.934 [INF] User admin logged in successfully
2025-04-18 15:20:21.934 [INF] User admin logged in successfully
2025-04-18 15:20:21.939 [DBG] Updating UI based on authentication state
2025-04-18 15:20:21.939 [DBG] UI updated for logged-in user: admin
2025-04-18 15:20:21.939 [INF] User logged in successfully through login dialog
2025-04-18 15:20:22.972 [DBG] Dashboard button clicked
2025-04-18 15:20:22.972 [DBG] Initializing DashboardView
2025-04-18 15:20:23.184 [INF] DashboardView initialized successfully
2025-04-18 15:20:23.184 [INF] Dashboard view shown
2025-04-18 15:20:23.196 [DBG] DashboardView loaded, refreshing data
2025-04-18 15:20:23.196 [DBG] Refreshing dashboard data
2025-04-18 15:20:23.197 [DBG] Updating dashboard statistics
2025-04-18 15:20:23.242 [INF] Dashboard statistics updated successfully
2025-04-18 15:20:23.242 [DBG] Updating dashboard charts
2025-04-18 15:20:23.244 [DBG] Updating Documents by Type chart
2025-04-18 15:20:23.245 [INF] Documents by Type chart updated successfully
2025-04-18 15:20:23.247 [DBG] Updating Monthly Documents chart
2025-04-18 15:20:23.251 [INF] Monthly Documents chart updated successfully
2025-04-18 15:20:23.251 [INF] Dashboard charts updated successfully
2025-04-18 15:20:23.253 [DBG] Updating activity feed
2025-04-18 15:20:23.269 [INF] Activity feed updated successfully with 0 items
2025-04-18 15:20:23.270 [INF] Dashboard data refreshed successfully
2025-04-18 15:20:26.748 [DBG] Refresh button clicked
2025-04-18 15:20:26.749 [DBG] Refreshing dashboard data
2025-04-18 15:20:26.749 [DBG] Updating dashboard statistics
2025-04-18 15:20:26.750 [INF] Dashboard statistics updated successfully
2025-04-18 15:20:26.750 [DBG] Updating dashboard charts
2025-04-18 15:20:26.750 [DBG] Updating Documents by Type chart
2025-04-18 15:20:26.750 [INF] Documents by Type chart updated successfully
2025-04-18 15:20:26.750 [DBG] Updating Monthly Documents chart
2025-04-18 15:20:26.750 [INF] Monthly Documents chart updated successfully
2025-04-18 15:20:26.750 [INF] Dashboard charts updated successfully
2025-04-18 15:20:26.750 [DBG] Updating activity feed
2025-04-18 15:20:26.751 [INF] Activity feed updated successfully with 0 items
2025-04-18 15:20:26.751 [INF] Dashboard data refreshed successfully
2025-04-18 15:20:34.173 [DBG] Documents button clicked
2025-04-18 15:20:34.174 [DBG] Initializing DocumentsListView
2025-04-18 15:20:34.187 [INF] DocumentsListView initialized successfully
2025-04-18 15:20:34.187 [INF] Documents list view shown
2025-04-18 15:20:34.205 [DBG] Loading documents
2025-04-18 15:20:34.207 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 15:20:34.207 [INF] Documents loaded successfully. Total count: 0
2025-04-18 15:20:35.197 [DBG] Requests button clicked
2025-04-18 15:20:35.200 [DBG] Status filter changed to: All Requests
2025-04-18 15:20:35.201 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 15:20:35.206 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 15:20:35.208 [INF] RequestsListView initialized successfully
2025-04-18 15:20:35.210 [INF] Requests list view shown
2025-04-18 15:20:35.220 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 15:20:35.220 [INF] Loaded 0 document requests
2025-04-18 15:20:39.405 [DBG] Documents button clicked
2025-04-18 15:20:39.405 [DBG] Initializing DocumentsListView
2025-04-18 15:20:39.407 [INF] DocumentsListView initialized successfully
2025-04-18 15:20:39.407 [INF] Documents list view shown
2025-04-18 15:20:39.414 [DBG] Loading documents
2025-04-18 15:20:39.415 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 15:20:39.415 [INF] Documents loaded successfully. Total count: 0
2025-04-18 15:23:11.261 [DBG] Logout button clicked
2025-04-18 15:23:11.261 [INF] User admin logged out
2025-04-18 15:23:11.261 [DBG] Updating UI based on authentication state
2025-04-18 15:23:11.261 [DBG] UI updated for non-authenticated state
2025-04-18 15:23:11.262 [INF] User logged out successfully
2025-04-18 15:23:11.788 [INF] MainWindow closing
2025-04-18 15:23:11.796 [INF] Application shutting down
2025-04-18 15:27:38.547 [INF] Logging initialized
2025-04-18 15:27:38.579 [INF] Application starting up
2025-04-18 15:27:38.582 [INF] Starting application diagnostics
2025-04-18 15:27:38.609 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-152738.txt
2025-04-18 15:27:38.696 [INF] Ensuring database is created
2025-04-18 15:27:39.049 [INF] Database created or already exists
2025-04-18 15:27:39.049 [INF] Starting database seeding
2025-04-18 15:27:40.253 [INF] Checking if document seeding is required...
2025-04-18 15:27:40.391 [INF] No documents found in database. Starting document seeding...
2025-04-18 15:27:43.126 [INF] Successfully seeded 30 documents
2025-04-18 15:27:43.128 [INF] Checking if request seeding is required...
2025-04-18 15:27:43.130 [INF] No requests found in database. Starting request seeding...
2025-04-18 15:27:43.500 [INF] Successfully seeded 15 requests
2025-04-18 15:27:43.500 [INF] Database seeding completed
2025-04-18 15:27:43.525 [DBG] Initializing MainWindow
2025-04-18 15:27:43.592 [DBG] Updating UI based on authentication state
2025-04-18 15:27:43.592 [DBG] UI updated for non-authenticated state
2025-04-18 15:27:43.592 [INF] MainWindow initialized successfully
2025-04-18 15:27:43.683 [INF] MainWindow loaded
2025-04-18 15:27:43.688 [INF] Application started successfully
2025-04-18 15:27:47.961 [DBG] Login button clicked
2025-04-18 15:27:47.961 [DBG] Initializing LoginWindow
2025-04-18 15:27:47.990 [INF] LoginWindow initialized successfully
2025-04-18 15:27:54.913 [DBG] Login button clicked
2025-04-18 15:27:54.925 [INF] User admin logged in successfully
2025-04-18 15:27:54.925 [INF] User admin logged in successfully
2025-04-18 15:27:54.930 [DBG] Updating UI based on authentication state
2025-04-18 15:27:54.930 [DBG] UI updated for logged-in user: admin
2025-04-18 15:27:54.930 [INF] User logged in successfully through login dialog
2025-04-18 15:27:57.386 [DBG] Documents button clicked
2025-04-18 15:27:57.386 [DBG] Initializing DocumentsListView
2025-04-18 15:27:57.404 [INF] DocumentsListView initialized successfully
2025-04-18 15:27:57.405 [INF] Documents list view shown
2025-04-18 15:27:57.426 [DBG] Loading documents
2025-04-18 15:27:57.430 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:27:57.430 [INF] Documents loaded successfully. Total count: 30
2025-04-18 15:28:00.186 [INF] Viewing document details for document ID: 1
2025-04-18 15:28:00.186 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 15:28:00.191 [DBG] Loading document details for document ID: 1
2025-04-18 15:28:00.191 [DBG] Getting document by ID: 1
2025-04-18 15:28:00.330 [INF] Retrieved document with ID: 1
2025-04-18 15:28:00.331 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:28:00.332 [INF] DocumentDetailsView initialized successfully
2025-04-18 15:28:03.995 [WRN] Document file not found for document ID: 1
2025-04-18 15:28:13.819 [DBG] Close button clicked
2025-04-18 15:28:23.316 [INF] Editing document with ID: 8
2025-04-18 15:28:23.317 [DBG] Initializing DocumentEditView for document ID: 8
2025-04-18 15:28:23.324 [DBG] Loading document details for document ID: 8
2025-04-18 15:28:23.324 [DBG] Getting document by ID: 8
2025-04-18 15:28:23.326 [INF] Retrieved document with ID: 8
2025-04-18 15:28:23.329 [INF] Document details loaded successfully for document ID: 8
2025-04-18 15:28:23.329 [INF] DocumentEditView initialized successfully
2025-04-18 15:28:27.293 [INF] Viewing document details for document ID: 1
2025-04-18 15:28:27.293 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 15:28:27.295 [DBG] Loading document details for document ID: 1
2025-04-18 15:28:27.295 [DBG] Getting document by ID: 1
2025-04-18 15:28:27.296 [INF] Retrieved document with ID: 1
2025-04-18 15:28:27.296 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:28:27.296 [INF] DocumentDetailsView initialized successfully
2025-04-18 15:38:35.527 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 15:38:35.527 [DBG] Navigated to next page: 2
2025-04-18 15:38:36.838 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:38:36.838 [DBG] Navigated to previous page: 1
2025-04-18 15:39:02.556 [INF] Viewing document details for document ID: 1
2025-04-18 15:39:02.556 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 15:39:02.557 [DBG] Loading document details for document ID: 1
2025-04-18 15:39:02.557 [DBG] Getting document by ID: 1
2025-04-18 15:39:02.559 [INF] Retrieved document with ID: 1
2025-04-18 15:39:02.559 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:39:02.559 [INF] DocumentDetailsView initialized successfully
2025-04-18 15:39:04.948 [INF] Editing document with ID: 1
2025-04-18 15:39:04.949 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 15:39:04.952 [DBG] Loading document details for document ID: 1
2025-04-18 15:39:04.952 [DBG] Getting document by ID: 1
2025-04-18 15:39:04.952 [INF] Retrieved document with ID: 1
2025-04-18 15:39:04.953 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:39:04.953 [INF] DocumentEditView initialized successfully
2025-04-18 15:39:08.421 [INF] Viewing document details for document ID: 1
2025-04-18 15:39:08.421 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 15:39:08.422 [DBG] Loading document details for document ID: 1
2025-04-18 15:39:08.422 [DBG] Getting document by ID: 1
2025-04-18 15:39:08.423 [INF] Retrieved document with ID: 1
2025-04-18 15:39:08.423 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:39:08.423 [INF] DocumentDetailsView initialized successfully
2025-04-18 15:40:22.868 [INF] Viewing document details for document ID: 1
2025-04-18 15:40:22.868 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 15:40:22.870 [DBG] Loading document details for document ID: 1
2025-04-18 15:40:22.870 [DBG] Getting document by ID: 1
2025-04-18 15:40:22.871 [INF] Retrieved document with ID: 1
2025-04-18 15:40:22.871 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:40:22.871 [INF] DocumentDetailsView initialized successfully
2025-04-18 15:42:16.599 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 15:42:16.599 [DBG] Navigated to next page: 2
2025-04-18 15:42:19.890 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:42:19.891 [DBG] Navigated to previous page: 1
2025-04-18 15:42:33.176 [DBG] Logout button clicked
2025-04-18 15:42:33.176 [INF] User admin logged out
2025-04-18 15:42:33.176 [DBG] Updating UI based on authentication state
2025-04-18 15:42:33.176 [DBG] UI updated for non-authenticated state
2025-04-18 15:42:33.176 [INF] User logged out successfully
2025-04-18 15:42:33.696 [INF] MainWindow closing
2025-04-18 15:42:33.703 [INF] Application shutting down
2025-04-18 15:44:06.409 [INF] Logging initialized
2025-04-18 15:44:06.442 [INF] Application starting up
2025-04-18 15:44:06.444 [INF] Starting application diagnostics
2025-04-18 15:44:06.472 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-154406.txt
2025-04-18 15:44:06.571 [INF] Ensuring database is created
2025-04-18 15:44:06.912 [INF] Database created or already exists
2025-04-18 15:44:06.912 [INF] Starting database seeding
2025-04-18 15:44:06.915 [INF] Checking if document seeding is required...
2025-04-18 15:44:07.050 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 15:44:07.051 [INF] Checking if request seeding is required...
2025-04-18 15:44:07.053 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 15:44:07.053 [INF] Database seeding completed
2025-04-18 15:44:07.083 [DBG] Initializing MainWindow
2025-04-18 15:44:07.170 [DBG] Updating UI based on authentication state
2025-04-18 15:44:07.170 [DBG] UI updated for non-authenticated state
2025-04-18 15:44:07.170 [INF] MainWindow initialized successfully
2025-04-18 15:44:07.265 [INF] MainWindow loaded
2025-04-18 15:44:07.270 [INF] Application started successfully
2025-04-18 15:44:09.746 [DBG] Login button clicked
2025-04-18 15:44:09.747 [DBG] Initializing LoginWindow
2025-04-18 15:44:09.775 [INF] LoginWindow initialized successfully
2025-04-18 15:44:14.291 [DBG] Login button clicked
2025-04-18 15:44:14.377 [INF] User admin logged in successfully
2025-04-18 15:44:14.377 [INF] User admin logged in successfully
2025-04-18 15:44:14.383 [DBG] Updating UI based on authentication state
2025-04-18 15:44:14.383 [DBG] UI updated for logged-in user: admin
2025-04-18 15:44:14.383 [INF] User logged in successfully through login dialog
2025-04-18 15:44:15.995 [DBG] Documents button clicked
2025-04-18 15:44:15.995 [DBG] Initializing DocumentsListView
2025-04-18 15:44:16.016 [INF] DocumentsListView initialized successfully
2025-04-18 15:44:16.016 [INF] Documents list view shown
2025-04-18 15:44:16.039 [DBG] Loading documents
2025-04-18 15:44:16.086 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:44:16.090 [ERR] Error loading documents
System.InvalidOperationException: After a 'SetterBaseCollection' is in use (sealed), it cannot be modified.
   at System.Windows.SetterBaseCollection.CheckSealed()
   at System.Windows.SetterBaseCollection.InsertItem(Int32 index, SetterBase item)
   at CivilRegistryApp.Infrastructure.ClipboardHelper.MakeDataGridColumnCopyable(DataGrid dataGrid, String columnName) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Infrastructure\ClipboardHelper.cs:line 208
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.LoadDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 77
2025-04-18 15:45:37.068 [INF] Viewing document details for document ID: 1
2025-04-18 15:45:37.068 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 15:45:37.072 [DBG] Loading document details for document ID: 1
2025-04-18 15:45:37.072 [DBG] Getting document by ID: 1
2025-04-18 15:45:37.119 [INF] Retrieved document with ID: 1
2025-04-18 15:45:37.120 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:45:37.120 [INF] DocumentDetailsView initialized successfully
2025-04-18 15:45:41.860 [DBG] Close button clicked
2025-04-18 15:45:42.805 [INF] Editing document with ID: 1
2025-04-18 15:45:42.805 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 15:45:42.812 [DBG] Loading document details for document ID: 1
2025-04-18 15:45:42.812 [DBG] Getting document by ID: 1
2025-04-18 15:45:42.814 [INF] Retrieved document with ID: 1
2025-04-18 15:45:42.818 [INF] Document details loaded successfully for document ID: 1
2025-04-18 15:45:42.818 [INF] DocumentEditView initialized successfully
2025-04-18 15:45:58.309 [DBG] Cancel button clicked
2025-04-18 15:46:02.366 [DBG] Logout button clicked
2025-04-18 15:46:02.366 [INF] User admin logged out
2025-04-18 15:46:02.366 [DBG] Updating UI based on authentication state
2025-04-18 15:46:02.366 [DBG] UI updated for non-authenticated state
2025-04-18 15:46:02.366 [INF] User logged out successfully
2025-04-18 15:46:02.949 [INF] MainWindow closing
2025-04-18 15:46:02.958 [INF] Application shutting down
2025-04-18 15:46:18.985 [INF] Logging initialized
2025-04-18 15:46:19.017 [INF] Application starting up
2025-04-18 15:46:19.020 [INF] Starting application diagnostics
2025-04-18 15:46:19.156 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-154619.txt
2025-04-18 15:46:19.262 [INF] Ensuring database is created
2025-04-18 15:46:19.604 [INF] Database created or already exists
2025-04-18 15:46:19.604 [INF] Starting database seeding
2025-04-18 15:46:19.608 [INF] Checking if document seeding is required...
2025-04-18 15:46:19.772 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 15:46:19.773 [INF] Checking if request seeding is required...
2025-04-18 15:46:19.775 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 15:46:19.775 [INF] Database seeding completed
2025-04-18 15:46:19.805 [DBG] Initializing MainWindow
2025-04-18 15:46:19.896 [DBG] Updating UI based on authentication state
2025-04-18 15:46:19.896 [DBG] UI updated for non-authenticated state
2025-04-18 15:46:19.896 [INF] MainWindow initialized successfully
2025-04-18 15:46:19.992 [INF] MainWindow loaded
2025-04-18 15:46:19.998 [INF] Application started successfully
2025-04-18 15:46:21.968 [DBG] Login button clicked
2025-04-18 15:46:21.969 [DBG] Initializing LoginWindow
2025-04-18 15:46:21.997 [INF] LoginWindow initialized successfully
2025-04-18 15:46:26.600 [DBG] Login button clicked
2025-04-18 15:46:26.686 [INF] User admin logged in successfully
2025-04-18 15:46:26.686 [INF] User admin logged in successfully
2025-04-18 15:46:26.691 [DBG] Updating UI based on authentication state
2025-04-18 15:46:26.692 [DBG] UI updated for logged-in user: admin
2025-04-18 15:46:26.692 [INF] User logged in successfully through login dialog
2025-04-18 15:46:27.664 [DBG] Documents button clicked
2025-04-18 15:46:27.664 [DBG] Initializing DocumentsListView
2025-04-18 15:46:27.685 [INF] DocumentsListView initialized successfully
2025-04-18 15:46:27.686 [INF] Documents list view shown
2025-04-18 15:46:27.709 [DBG] Loading documents
2025-04-18 15:46:27.758 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:46:27.761 [ERR] Error loading documents
System.InvalidOperationException: After a 'SetterBaseCollection' is in use (sealed), it cannot be modified.
   at System.Windows.SetterBaseCollection.CheckSealed()
   at System.Windows.SetterBaseCollection.InsertItem(Int32 index, SetterBase item)
   at CivilRegistryApp.Infrastructure.ClipboardHelper.MakeDataGridColumnCopyable(DataGrid dataGrid, String columnName) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Infrastructure\ClipboardHelper.cs:line 212
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.LoadDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 77
2025-04-18 15:47:12.781 [DBG] Logout button clicked
2025-04-18 15:47:12.781 [INF] User admin logged out
2025-04-18 15:47:12.781 [DBG] Updating UI based on authentication state
2025-04-18 15:47:12.781 [DBG] UI updated for non-authenticated state
2025-04-18 15:47:12.781 [INF] User logged out successfully
2025-04-18 15:47:13.269 [INF] MainWindow closing
2025-04-18 15:47:13.278 [INF] Application shutting down
2025-04-18 15:50:57.194 [INF] Logging initialized
2025-04-18 15:50:57.230 [INF] Application starting up
2025-04-18 15:50:57.233 [INF] Starting application diagnostics
2025-04-18 15:50:57.260 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-155057.txt
2025-04-18 15:50:57.351 [INF] Ensuring database is created
2025-04-18 15:50:57.711 [INF] Database created or already exists
2025-04-18 15:50:57.711 [INF] Starting database seeding
2025-04-18 15:50:57.714 [INF] Checking if document seeding is required...
2025-04-18 15:50:57.863 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 15:50:57.864 [INF] Checking if request seeding is required...
2025-04-18 15:50:57.867 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 15:50:57.867 [INF] Database seeding completed
2025-04-18 15:50:57.899 [DBG] Initializing MainWindow
2025-04-18 15:50:57.987 [DBG] Updating UI based on authentication state
2025-04-18 15:50:57.987 [DBG] UI updated for non-authenticated state
2025-04-18 15:50:57.987 [INF] MainWindow initialized successfully
2025-04-18 15:50:58.080 [INF] MainWindow loaded
2025-04-18 15:50:58.084 [INF] Application started successfully
2025-04-18 15:51:00.509 [DBG] Login button clicked
2025-04-18 15:51:00.509 [DBG] Initializing LoginWindow
2025-04-18 15:51:00.540 [INF] LoginWindow initialized successfully
2025-04-18 15:51:05.805 [DBG] Login button clicked
2025-04-18 15:51:05.887 [INF] User admin logged in successfully
2025-04-18 15:51:05.887 [INF] User admin logged in successfully
2025-04-18 15:51:05.893 [DBG] Updating UI based on authentication state
2025-04-18 15:51:05.893 [DBG] UI updated for logged-in user: admin
2025-04-18 15:51:05.893 [INF] User logged in successfully through login dialog
2025-04-18 15:51:07.412 [DBG] Documents button clicked
2025-04-18 15:51:07.412 [DBG] Initializing DocumentsListView
2025-04-18 15:51:07.435 [INF] DocumentsListView initialized successfully
2025-04-18 15:51:07.435 [INF] Documents list view shown
2025-04-18 15:51:07.459 [DBG] Loading documents
2025-04-18 15:51:07.507 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:51:07.510 [ERR] Error loading documents
System.InvalidOperationException: After a 'SetterBaseCollection' is in use (sealed), it cannot be modified.
   at System.Windows.SetterBaseCollection.CheckSealed()
   at System.Windows.SetterBaseCollection.InsertItem(Int32 index, SetterBase item)
   at CivilRegistryApp.Infrastructure.ClipboardHelper.MakeDataGridColumnCopyable(DataGrid dataGrid, String columnName) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Infrastructure\ClipboardHelper.cs:line 180
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.LoadDocumentsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 77
2025-04-18 15:52:42.366 [DBG] Logout button clicked
2025-04-18 15:52:42.366 [INF] User admin logged out
2025-04-18 15:52:42.366 [DBG] Updating UI based on authentication state
2025-04-18 15:52:42.366 [DBG] UI updated for non-authenticated state
2025-04-18 15:52:42.367 [INF] User logged out successfully
2025-04-18 15:52:43.270 [INF] MainWindow closing
2025-04-18 15:52:43.280 [INF] Application shutting down
2025-04-18 15:54:16.857 [INF] Logging initialized
2025-04-18 15:54:16.892 [INF] Application starting up
2025-04-18 15:54:16.895 [INF] Starting application diagnostics
2025-04-18 15:54:16.923 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-155416.txt
2025-04-18 15:54:17.013 [INF] Ensuring database is created
2025-04-18 15:54:17.407 [INF] Database created or already exists
2025-04-18 15:54:17.408 [INF] Starting database seeding
2025-04-18 15:54:17.411 [INF] Checking if document seeding is required...
2025-04-18 15:54:17.542 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 15:54:17.543 [INF] Checking if request seeding is required...
2025-04-18 15:54:17.545 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 15:54:17.545 [INF] Database seeding completed
2025-04-18 15:54:17.574 [DBG] Initializing MainWindow
2025-04-18 15:54:17.664 [DBG] Updating UI based on authentication state
2025-04-18 15:54:17.664 [DBG] UI updated for non-authenticated state
2025-04-18 15:54:17.664 [INF] MainWindow initialized successfully
2025-04-18 15:54:17.759 [INF] MainWindow loaded
2025-04-18 15:54:17.765 [INF] Application started successfully
2025-04-18 15:54:21.864 [DBG] Login button clicked
2025-04-18 15:54:21.864 [DBG] Initializing LoginWindow
2025-04-18 15:54:21.892 [INF] LoginWindow initialized successfully
2025-04-18 15:54:27.192 [DBG] Login button clicked
2025-04-18 15:54:27.274 [INF] User admin logged in successfully
2025-04-18 15:54:27.274 [INF] User admin logged in successfully
2025-04-18 15:54:27.279 [DBG] Updating UI based on authentication state
2025-04-18 15:54:27.280 [DBG] UI updated for logged-in user: admin
2025-04-18 15:54:27.280 [INF] User logged in successfully through login dialog
2025-04-18 15:54:28.625 [DBG] Documents button clicked
2025-04-18 15:54:28.625 [DBG] Initializing DocumentsListView
2025-04-18 15:54:28.647 [INF] DocumentsListView initialized successfully
2025-04-18 15:54:28.647 [INF] Documents list view shown
2025-04-18 15:54:28.670 [DBG] Loading documents
2025-04-18 15:54:28.719 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:54:28.721 [INF] Documents loaded successfully. Total count: 30
2025-04-18 15:54:39.186 [DBG] Search button clicked
2025-04-18 15:54:39.197 [DBG] Filter applied. Filtered count: 1, Current page: 1, Total pages: 1
2025-04-18 15:54:41.402 [DBG] Requests button clicked
2025-04-18 15:54:41.404 [DBG] Status filter changed to: All Requests
2025-04-18 15:54:41.405 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 15:54:41.412 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 15:54:41.414 [INF] RequestsListView initialized successfully
2025-04-18 15:54:41.414 [INF] Requests list view shown
2025-04-18 15:54:41.481 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 15:54:41.481 [INF] Loaded 15 document requests
2025-04-18 15:54:48.402 [DBG] Search button clicked with text: M-388693
2025-04-18 15:54:48.408 [DBG] Applied filters: Status=All Requests, Search=m-388693, Filtered count=0
2025-04-18 15:54:53.451 [DBG] Search button clicked with text: 
2025-04-18 15:54:53.451 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 15:55:09.125 [INF] Viewing request details for request ID: 1
2025-04-18 15:55:09.161 [DBG] Getting document by ID: 26
2025-04-18 15:55:09.186 [INF] Retrieved document with ID: 26
2025-04-18 15:55:09.187 [INF] Loaded details for request ID: 1
2025-04-18 15:55:12.709 [WRN] Document file not found for document ID: 26
2025-04-18 15:55:15.974 [INF] Adding new document request
2025-04-18 15:55:27.799 [DBG] Documents button clicked
2025-04-18 15:55:27.799 [DBG] Initializing DocumentsListView
2025-04-18 15:55:27.801 [INF] DocumentsListView initialized successfully
2025-04-18 15:55:27.801 [INF] Documents list view shown
2025-04-18 15:55:27.815 [DBG] Loading documents
2025-04-18 15:55:27.816 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:55:27.816 [INF] Documents loaded successfully. Total count: 30
2025-04-18 15:55:36.215 [DBG] Requests button clicked
2025-04-18 15:55:36.216 [DBG] Status filter changed to: All Requests
2025-04-18 15:55:36.216 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 15:55:36.216 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 15:55:36.218 [INF] RequestsListView initialized successfully
2025-04-18 15:55:36.218 [INF] Requests list view shown
2025-04-18 15:55:36.235 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 15:55:36.235 [INF] Loaded 15 document requests
2025-04-18 15:55:43.104 [INF] Viewing request details for request ID: 1
2025-04-18 15:55:43.131 [DBG] Getting document by ID: 26
2025-04-18 15:55:43.131 [INF] Retrieved document with ID: 26
2025-04-18 15:55:43.131 [INF] Loaded details for request ID: 1
2025-04-18 15:55:51.393 [INF] Adding new document request
2025-04-18 15:55:55.073 [DBG] Getting document by ID: 2
2025-04-18 15:55:55.074 [INF] Retrieved document with ID: 2
2025-04-18 15:55:55.074 [INF] Document found for ID: 2
2025-04-18 15:56:07.515 [DBG] Users button clicked
2025-04-18 15:56:07.516 [DBG] Initializing RegistrationWindow
2025-04-18 15:56:07.517 [INF] RegistrationWindow initialized successfully
2025-04-18 15:56:09.099 [DBG] Cancel button clicked
2025-04-18 15:56:09.103 [INF] User creation canceled
2025-04-18 15:56:10.044 [DBG] Dashboard button clicked
2025-04-18 15:56:10.044 [DBG] Initializing DashboardView
2025-04-18 15:56:10.058 [INF] DashboardView initialized successfully
2025-04-18 15:56:10.058 [INF] Dashboard view shown
2025-04-18 15:56:10.072 [DBG] DashboardView loaded, refreshing data
2025-04-18 15:56:10.072 [DBG] Refreshing dashboard data
2025-04-18 15:56:10.072 [DBG] Updating dashboard statistics
2025-04-18 15:56:10.074 [INF] Dashboard statistics updated successfully
2025-04-18 15:56:10.074 [DBG] Updating dashboard charts
2025-04-18 15:56:10.075 [DBG] Updating Documents by Type chart
2025-04-18 15:56:10.132 [INF] Documents by Type chart updated successfully
2025-04-18 15:56:10.134 [DBG] Updating Monthly Documents chart
2025-04-18 15:56:10.136 [INF] Monthly Documents chart updated successfully
2025-04-18 15:56:10.136 [INF] Dashboard charts updated successfully
2025-04-18 15:56:10.137 [DBG] Updating activity feed
2025-04-18 15:56:10.140 [INF] Activity feed updated successfully with 10 items
2025-04-18 15:56:10.140 [INF] Dashboard data refreshed successfully
2025-04-18 15:56:20.523 [DBG] Dashboard button clicked
2025-04-18 15:56:20.523 [DBG] Initializing DashboardView
2025-04-18 15:56:20.525 [INF] DashboardView initialized successfully
2025-04-18 15:56:20.525 [INF] Dashboard view shown
2025-04-18 15:56:20.531 [DBG] DashboardView loaded, refreshing data
2025-04-18 15:56:20.531 [DBG] Refreshing dashboard data
2025-04-18 15:56:20.531 [DBG] Updating dashboard statistics
2025-04-18 15:56:20.532 [INF] Dashboard statistics updated successfully
2025-04-18 15:56:20.532 [DBG] Updating dashboard charts
2025-04-18 15:56:20.532 [DBG] Updating Documents by Type chart
2025-04-18 15:56:20.532 [INF] Documents by Type chart updated successfully
2025-04-18 15:56:20.532 [DBG] Updating Monthly Documents chart
2025-04-18 15:56:20.533 [INF] Monthly Documents chart updated successfully
2025-04-18 15:56:20.533 [INF] Dashboard charts updated successfully
2025-04-18 15:56:20.533 [DBG] Updating activity feed
2025-04-18 15:56:20.533 [INF] Activity feed updated successfully with 10 items
2025-04-18 15:56:20.533 [INF] Dashboard data refreshed successfully
2025-04-18 15:56:24.229 [DBG] Logout button clicked
2025-04-18 15:56:24.229 [INF] User admin logged out
2025-04-18 15:56:24.229 [DBG] Updating UI based on authentication state
2025-04-18 15:56:24.229 [DBG] UI updated for non-authenticated state
2025-04-18 15:56:24.229 [INF] User logged out successfully
2025-04-18 15:57:38.019 [DBG] Dashboard button clicked
2025-04-18 15:57:38.019 [DBG] Initializing DashboardView
2025-04-18 15:57:38.020 [INF] DashboardView initialized successfully
2025-04-18 15:57:38.020 [INF] Dashboard view shown
2025-04-18 15:57:38.025 [DBG] DashboardView loaded, refreshing data
2025-04-18 15:57:38.026 [DBG] Refreshing dashboard data
2025-04-18 15:57:38.026 [DBG] Updating dashboard statistics
2025-04-18 15:57:38.026 [INF] Dashboard statistics updated successfully
2025-04-18 15:57:38.026 [DBG] Updating dashboard charts
2025-04-18 15:57:38.027 [DBG] Updating Documents by Type chart
2025-04-18 15:57:38.027 [INF] Documents by Type chart updated successfully
2025-04-18 15:57:38.027 [DBG] Updating Monthly Documents chart
2025-04-18 15:57:38.027 [INF] Monthly Documents chart updated successfully
2025-04-18 15:57:38.027 [INF] Dashboard charts updated successfully
2025-04-18 15:57:38.027 [DBG] Updating activity feed
2025-04-18 15:57:38.027 [INF] Activity feed updated successfully with 10 items
2025-04-18 15:57:38.027 [INF] Dashboard data refreshed successfully
2025-04-18 15:57:40.140 [DBG] Refresh button clicked
2025-04-18 15:57:40.140 [DBG] Refreshing dashboard data
2025-04-18 15:57:40.140 [DBG] Updating dashboard statistics
2025-04-18 15:57:40.141 [INF] Dashboard statistics updated successfully
2025-04-18 15:57:40.141 [DBG] Updating dashboard charts
2025-04-18 15:57:40.141 [DBG] Updating Documents by Type chart
2025-04-18 15:57:40.141 [INF] Documents by Type chart updated successfully
2025-04-18 15:57:40.141 [DBG] Updating Monthly Documents chart
2025-04-18 15:57:40.141 [INF] Monthly Documents chart updated successfully
2025-04-18 15:57:40.141 [INF] Dashboard charts updated successfully
2025-04-18 15:57:40.141 [DBG] Updating activity feed
2025-04-18 15:57:40.142 [INF] Activity feed updated successfully with 10 items
2025-04-18 15:57:40.142 [INF] Dashboard data refreshed successfully
2025-04-18 15:57:45.460 [DBG] Documents button clicked
2025-04-18 15:57:45.460 [DBG] Initializing DocumentsListView
2025-04-18 15:57:45.462 [INF] DocumentsListView initialized successfully
2025-04-18 15:57:45.462 [INF] Documents list view shown
2025-04-18 15:57:45.474 [DBG] Loading documents
2025-04-18 15:57:45.474 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:57:45.475 [INF] Documents loaded successfully. Total count: 30
2025-04-18 15:57:52.990 [INF] Editing document with ID: 2
2025-04-18 15:57:52.990 [ERR] Error in EditButton_Click
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.EditButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 332
2025-04-18 15:57:56.037 [INF] Editing document with ID: 3
2025-04-18 15:57:56.037 [ERR] Error in EditButton_Click
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.EditButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 332
2025-04-18 15:57:57.765 [INF] Editing document with ID: 1
2025-04-18 15:57:57.765 [ERR] Error in EditButton_Click
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.EditButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 332
2025-04-18 15:57:59.445 [DBG] Login button clicked
2025-04-18 15:57:59.445 [DBG] Initializing LoginWindow
2025-04-18 15:57:59.447 [INF] LoginWindow initialized successfully
2025-04-18 15:58:00.817 [INF] Login dialog canceled or closed without login
2025-04-18 15:58:01.646 [INF] MainWindow closing
2025-04-18 15:58:01.657 [INF] Application shutting down
2025-04-18 15:58:27.523 [INF] Logging initialized
2025-04-18 15:58:27.555 [INF] Application starting up
2025-04-18 15:58:27.558 [INF] Starting application diagnostics
2025-04-18 15:58:27.584 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-155827.txt
2025-04-18 15:58:27.671 [INF] Ensuring database is created
2025-04-18 15:58:28.022 [INF] Database created or already exists
2025-04-18 15:58:28.022 [INF] Starting database seeding
2025-04-18 15:58:28.025 [INF] Checking if document seeding is required...
2025-04-18 15:58:28.155 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 15:58:28.156 [INF] Checking if request seeding is required...
2025-04-18 15:58:28.159 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 15:58:28.159 [INF] Database seeding completed
2025-04-18 15:58:28.188 [DBG] Initializing MainWindow
2025-04-18 15:58:28.276 [DBG] Updating UI based on authentication state
2025-04-18 15:58:28.276 [DBG] UI updated for non-authenticated state
2025-04-18 15:58:28.276 [INF] MainWindow initialized successfully
2025-04-18 15:58:28.369 [INF] MainWindow loaded
2025-04-18 15:58:28.374 [INF] Application started successfully
2025-04-18 15:58:31.321 [DBG] Login button clicked
2025-04-18 15:58:31.321 [DBG] Initializing LoginWindow
2025-04-18 15:58:31.350 [INF] LoginWindow initialized successfully
2025-04-18 15:58:40.480 [DBG] Login button clicked
2025-04-18 15:58:40.570 [INF] User admin logged in successfully
2025-04-18 15:58:40.570 [INF] User admin logged in successfully
2025-04-18 15:58:40.577 [DBG] Updating UI based on authentication state
2025-04-18 15:58:40.577 [DBG] UI updated for logged-in user: admin
2025-04-18 15:58:40.578 [DBG] Initializing DashboardView
2025-04-18 15:58:40.604 [INF] DashboardView initialized successfully
2025-04-18 15:58:40.604 [INF] Dashboard view loaded
2025-04-18 15:58:40.604 [INF] User logged in successfully through login dialog
2025-04-18 15:58:40.618 [DBG] DashboardView loaded, refreshing data
2025-04-18 15:58:40.618 [DBG] Refreshing dashboard data
2025-04-18 15:58:40.619 [DBG] Updating dashboard statistics
2025-04-18 15:58:40.723 [INF] Dashboard statistics updated successfully
2025-04-18 15:58:40.724 [DBG] Updating dashboard charts
2025-04-18 15:58:40.726 [DBG] Updating Documents by Type chart
2025-04-18 15:58:40.730 [INF] Documents by Type chart updated successfully
2025-04-18 15:58:40.732 [DBG] Updating Monthly Documents chart
2025-04-18 15:58:40.734 [INF] Monthly Documents chart updated successfully
2025-04-18 15:58:40.734 [INF] Dashboard charts updated successfully
2025-04-18 15:58:40.735 [DBG] Updating activity feed
2025-04-18 15:58:40.740 [INF] Activity feed updated successfully with 10 items
2025-04-18 15:58:40.741 [INF] Dashboard data refreshed successfully
2025-04-18 15:58:45.770 [DBG] Dashboard button clicked
2025-04-18 15:58:45.771 [DBG] Initializing DashboardView
2025-04-18 15:58:45.773 [INF] DashboardView initialized successfully
2025-04-18 15:58:45.773 [INF] Dashboard view loaded
2025-04-18 15:58:45.773 [INF] Dashboard view shown from button click
2025-04-18 15:58:45.778 [DBG] DashboardView loaded, refreshing data
2025-04-18 15:58:45.778 [DBG] Refreshing dashboard data
2025-04-18 15:58:45.778 [DBG] Updating dashboard statistics
2025-04-18 15:58:45.779 [INF] Dashboard statistics updated successfully
2025-04-18 15:58:45.779 [DBG] Updating dashboard charts
2025-04-18 15:58:45.779 [DBG] Updating Documents by Type chart
2025-04-18 15:58:45.780 [INF] Documents by Type chart updated successfully
2025-04-18 15:58:45.780 [DBG] Updating Monthly Documents chart
2025-04-18 15:58:45.780 [INF] Monthly Documents chart updated successfully
2025-04-18 15:58:45.780 [INF] Dashboard charts updated successfully
2025-04-18 15:58:45.780 [DBG] Updating activity feed
2025-04-18 15:58:45.781 [INF] Activity feed updated successfully with 10 items
2025-04-18 15:58:45.781 [INF] Dashboard data refreshed successfully
2025-04-18 15:58:46.707 [DBG] Documents button clicked
2025-04-18 15:58:46.708 [DBG] Initializing DocumentsListView
2025-04-18 15:58:46.720 [INF] DocumentsListView initialized successfully
2025-04-18 15:58:46.721 [INF] Documents list view shown
2025-04-18 15:58:46.739 [DBG] Loading documents
2025-04-18 15:58:46.741 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:58:46.742 [INF] Documents loaded successfully. Total count: 30
2025-04-18 15:58:49.948 [DBG] Requests button clicked
2025-04-18 15:58:49.950 [DBG] Status filter changed to: All Requests
2025-04-18 15:58:49.951 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 15:58:49.956 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 15:58:49.958 [INF] RequestsListView initialized successfully
2025-04-18 15:58:49.958 [INF] Requests list view shown
2025-04-18 15:58:49.970 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 15:58:49.970 [INF] Loaded 15 document requests
2025-04-18 15:59:02.316 [DBG] Documents button clicked
2025-04-18 15:59:02.316 [DBG] Initializing DocumentsListView
2025-04-18 15:59:02.319 [INF] DocumentsListView initialized successfully
2025-04-18 15:59:02.319 [INF] Documents list view shown
2025-04-18 15:59:02.343 [DBG] Loading documents
2025-04-18 15:59:02.343 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:59:02.344 [INF] Documents loaded successfully. Total count: 30
2025-04-18 15:59:04.756 [DBG] Search triggered by Enter key
2025-04-18 15:59:04.764 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 15:59:09.117 [DBG] Search button clicked
2025-04-18 15:59:09.118 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 15:59:10.644 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 15:59:10.644 [DBG] Navigated to next page: 2
2025-04-18 15:59:14.158 [INF] Editing document with ID: 24
2025-04-18 15:59:14.158 [DBG] Initializing DocumentEditView for document ID: 24
2025-04-18 15:59:14.171 [DBG] Loading document details for document ID: 24
2025-04-18 15:59:14.171 [DBG] Getting document by ID: 24
2025-04-18 15:59:14.199 [INF] Retrieved document with ID: 24
2025-04-18 15:59:14.203 [INF] Document details loaded successfully for document ID: 24
2025-04-18 15:59:14.203 [INF] DocumentEditView initialized successfully
2025-04-18 15:59:22.598 [INF] Editing document with ID: 21
2025-04-18 15:59:22.598 [DBG] Initializing DocumentEditView for document ID: 21
2025-04-18 15:59:22.602 [DBG] Loading document details for document ID: 21
2025-04-18 15:59:22.602 [DBG] Getting document by ID: 21
2025-04-18 15:59:22.603 [INF] Retrieved document with ID: 21
2025-04-18 15:59:22.603 [INF] Document details loaded successfully for document ID: 21
2025-04-18 15:59:22.603 [INF] DocumentEditView initialized successfully
2025-04-18 15:59:29.679 [DBG] Cancel button clicked
2025-04-18 15:59:31.256 [INF] Adding new document
2025-04-18 15:59:31.256 [DBG] Initializing DocumentAddView
2025-04-18 15:59:31.257 [DBG] Document type changed to: Birth Certificate
2025-04-18 15:59:31.261 [INF] DocumentAddView initialized successfully
2025-04-18 15:59:34.424 [INF] Editing document with ID: 21
2025-04-18 15:59:34.424 [DBG] Initializing DocumentEditView for document ID: 21
2025-04-18 15:59:34.426 [DBG] Loading document details for document ID: 21
2025-04-18 15:59:34.426 [DBG] Getting document by ID: 21
2025-04-18 15:59:34.427 [INF] Retrieved document with ID: 21
2025-04-18 15:59:34.428 [INF] Document details loaded successfully for document ID: 21
2025-04-18 15:59:34.428 [INF] DocumentEditView initialized successfully
2025-04-18 16:13:06.697 [INF] MainWindow closing
2025-04-18 16:13:06.706 [INF] Application shutting down
2025-04-18 16:13:25.345 [INF] Logging initialized
2025-04-18 16:13:25.378 [INF] Application starting up
2025-04-18 16:13:25.381 [INF] Starting application diagnostics
2025-04-18 16:13:25.408 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-161325.txt
2025-04-18 16:13:25.495 [INF] Ensuring database is created
2025-04-18 16:13:25.853 [INF] Database created or already exists
2025-04-18 16:13:25.854 [INF] Starting database seeding
2025-04-18 16:13:25.857 [INF] Checking if document seeding is required...
2025-04-18 16:13:25.991 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 16:13:25.992 [INF] Checking if request seeding is required...
2025-04-18 16:13:25.994 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 16:13:25.994 [INF] Database seeding completed
2025-04-18 16:13:26.023 [DBG] Initializing MainWindow
2025-04-18 16:13:26.112 [DBG] Updating UI based on authentication state
2025-04-18 16:13:26.133 [DBG] UI updated for non-authenticated state
2025-04-18 16:13:26.133 [INF] MainWindow initialized successfully
2025-04-18 16:13:26.231 [INF] MainWindow loaded
2025-04-18 16:13:26.236 [INF] Application started successfully
2025-04-18 16:13:28.180 [DBG] Login button clicked
2025-04-18 16:13:28.180 [DBG] Initializing LoginWindow
2025-04-18 16:13:28.208 [INF] LoginWindow initialized successfully
2025-04-18 16:13:33.732 [DBG] Login button clicked
2025-04-18 16:13:33.812 [INF] User admin logged in successfully
2025-04-18 16:13:33.812 [INF] User admin logged in successfully
2025-04-18 16:13:33.817 [DBG] Updating UI based on authentication state
2025-04-18 16:13:33.818 [DBG] UI updated for logged-in user: admin
2025-04-18 16:13:33.818 [DBG] Initializing DashboardView
2025-04-18 16:13:33.841 [INF] DashboardView initialized successfully
2025-04-18 16:13:33.842 [INF] Dashboard view loaded
2025-04-18 16:13:33.842 [INF] User logged in successfully through login dialog
2025-04-18 16:13:33.854 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:13:33.854 [DBG] Refreshing dashboard data
2025-04-18 16:13:33.855 [DBG] Updating dashboard statistics
2025-04-18 16:13:33.950 [INF] Dashboard statistics updated successfully
2025-04-18 16:13:33.951 [DBG] Updating dashboard charts
2025-04-18 16:13:33.953 [DBG] Updating Documents by Type chart
2025-04-18 16:13:33.957 [INF] Documents by Type chart updated successfully
2025-04-18 16:13:33.959 [DBG] Updating Monthly Documents chart
2025-04-18 16:13:33.962 [INF] Monthly Documents chart updated successfully
2025-04-18 16:13:33.962 [INF] Dashboard charts updated successfully
2025-04-18 16:13:33.963 [DBG] Updating activity feed
2025-04-18 16:13:33.968 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:13:33.969 [INF] Dashboard data refreshed successfully
2025-04-18 16:13:39.349 [DBG] Documents button clicked
2025-04-18 16:13:39.349 [DBG] Initializing DocumentsListView
2025-04-18 16:13:39.366 [INF] DocumentsListView initialized successfully
2025-04-18 16:13:39.366 [INF] Documents list view shown
2025-04-18 16:13:39.385 [DBG] Loading documents
2025-04-18 16:13:39.387 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:13:39.388 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:13:40.733 [INF] Editing document with ID: 1
2025-04-18 16:13:40.733 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:13:40.743 [DBG] Loading document details for document ID: 1
2025-04-18 16:13:40.744 [DBG] Getting document by ID: 1
2025-04-18 16:13:40.774 [INF] Retrieved document with ID: 1
2025-04-18 16:13:40.780 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:13:40.780 [INF] DocumentEditView initialized successfully
2025-04-18 16:13:50.678 [DBG] Cancel button clicked
2025-04-18 16:13:56.415 [DBG] Logout button clicked
2025-04-18 16:13:56.415 [INF] User admin logged out
2025-04-18 16:13:56.415 [DBG] Updating UI based on authentication state
2025-04-18 16:13:56.415 [DBG] UI updated for non-authenticated state
2025-04-18 16:13:56.416 [INF] User logged out successfully
2025-04-18 16:13:58.190 [INF] MainWindow closing
2025-04-18 16:13:58.199 [INF] Application shutting down
2025-04-18 16:16:22.797 [INF] Logging initialized
2025-04-18 16:16:22.831 [INF] Application starting up
2025-04-18 16:16:22.833 [INF] Starting application diagnostics
2025-04-18 16:16:22.860 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-161622.txt
2025-04-18 16:16:22.949 [INF] Ensuring database is created
2025-04-18 16:16:23.314 [INF] Database created or already exists
2025-04-18 16:16:23.314 [INF] Starting database seeding
2025-04-18 16:16:23.317 [INF] Checking if document seeding is required...
2025-04-18 16:16:23.448 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 16:16:23.449 [INF] Checking if request seeding is required...
2025-04-18 16:16:23.451 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 16:16:23.451 [INF] Database seeding completed
2025-04-18 16:16:23.481 [DBG] Initializing MainWindow
2025-04-18 16:16:23.571 [DBG] Updating UI based on authentication state
2025-04-18 16:16:23.571 [DBG] UI updated for non-authenticated state
2025-04-18 16:16:23.571 [INF] MainWindow initialized successfully
2025-04-18 16:16:23.667 [INF] MainWindow loaded
2025-04-18 16:16:23.672 [INF] Application started successfully
2025-04-18 16:16:24.966 [DBG] Login button clicked
2025-04-18 16:16:24.966 [DBG] Initializing LoginWindow
2025-04-18 16:16:24.995 [INF] LoginWindow initialized successfully
2025-04-18 16:16:30.535 [DBG] Login button clicked
2025-04-18 16:16:30.616 [INF] User admin logged in successfully
2025-04-18 16:16:30.616 [INF] User admin logged in successfully
2025-04-18 16:16:30.622 [DBG] Updating UI based on authentication state
2025-04-18 16:16:30.622 [DBG] UI updated for logged-in user: admin
2025-04-18 16:16:30.623 [DBG] Initializing DashboardView
2025-04-18 16:16:30.650 [INF] DashboardView initialized successfully
2025-04-18 16:16:30.650 [INF] Dashboard view loaded
2025-04-18 16:16:30.650 [INF] User logged in successfully through login dialog
2025-04-18 16:16:30.664 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:16:30.664 [DBG] Refreshing dashboard data
2025-04-18 16:16:30.665 [DBG] Updating dashboard statistics
2025-04-18 16:16:30.763 [INF] Dashboard statistics updated successfully
2025-04-18 16:16:30.763 [DBG] Updating dashboard charts
2025-04-18 16:16:30.766 [DBG] Updating Documents by Type chart
2025-04-18 16:16:30.770 [INF] Documents by Type chart updated successfully
2025-04-18 16:16:30.772 [DBG] Updating Monthly Documents chart
2025-04-18 16:16:30.774 [INF] Monthly Documents chart updated successfully
2025-04-18 16:16:30.774 [INF] Dashboard charts updated successfully
2025-04-18 16:16:30.775 [DBG] Updating activity feed
2025-04-18 16:16:30.781 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:16:30.782 [INF] Dashboard data refreshed successfully
2025-04-18 16:16:34.142 [DBG] Documents button clicked
2025-04-18 16:16:34.142 [DBG] Initializing DocumentsListView
2025-04-18 16:16:34.160 [INF] DocumentsListView initialized successfully
2025-04-18 16:16:34.161 [INF] Documents list view shown
2025-04-18 16:16:34.180 [DBG] Loading documents
2025-04-18 16:16:34.183 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:16:34.184 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:16:35.711 [INF] Editing document with ID: 1
2025-04-18 16:16:35.711 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:16:35.722 [DBG] Loading document details for document ID: 1
2025-04-18 16:16:35.722 [DBG] Getting document by ID: 1
2025-04-18 16:16:35.754 [INF] Retrieved document with ID: 1
2025-04-18 16:16:35.760 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:16:35.760 [INF] DocumentEditView initialized successfully
2025-04-18 16:16:38.471 [DBG] Preview front button clicked for file: SampleData/MarriageCertificate_Front_0.jpg
2025-04-18 16:16:38.473 [ERR] Error loading image for preview: SampleData/MarriageCertificate_Front_0.jpg
System.UriFormatException: Invalid URI: The format of the URI could not be determined.
   at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
   at System.Uri..ctor(String uriString)
   at CivilRegistryApp.Modules.Documents.Views.DocumentPreviewWindow.LoadImage() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentPreviewWindow.xaml.cs:line 58
2025-04-18 16:16:42.885 [ERR] Error in PreviewFrontButton_Click
System.InvalidOperationException: Cannot set Visibility or call Show, ShowDialog, or WindowInteropHelper.EnsureHandle after a Window has closed.
   at System.Windows.Window.VerifyCanShow()
   at System.Windows.Window.ShowDialog()
   at CivilRegistryApp.Modules.Documents.Views.DocumentEditView.PreviewFrontButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentEditView.xaml.cs:line 499
2025-04-18 16:16:52.080 [INF] Adding new document
2025-04-18 16:16:52.081 [DBG] Initializing DocumentAddView
2025-04-18 16:16:52.082 [DBG] Document type changed to: Birth Certificate
2025-04-18 16:16:52.086 [INF] DocumentAddView initialized successfully
2025-04-18 16:16:53.960 [DBG] Browse front button clicked
2025-04-18 16:16:56.130 [DBG] Front file selected: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 16:16:56.905 [DBG] Preview front button clicked for file: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 16:17:03.201 [INF] Editing document with ID: 1
2025-04-18 16:17:03.201 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:17:03.205 [DBG] Loading document details for document ID: 1
2025-04-18 16:17:03.205 [DBG] Getting document by ID: 1
2025-04-18 16:17:03.206 [INF] Retrieved document with ID: 1
2025-04-18 16:17:03.207 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:17:03.207 [INF] DocumentEditView initialized successfully
2025-04-18 16:18:58.541 [DBG] Cancel button clicked
2025-04-18 16:18:59.901 [DBG] Logout button clicked
2025-04-18 16:18:59.901 [INF] User admin logged out
2025-04-18 16:18:59.901 [DBG] Updating UI based on authentication state
2025-04-18 16:18:59.901 [DBG] UI updated for non-authenticated state
2025-04-18 16:18:59.901 [INF] User logged out successfully
2025-04-18 16:19:00.284 [INF] MainWindow closing
2025-04-18 16:19:00.296 [INF] Application shutting down
2025-04-18 16:21:21.101 [INF] Logging initialized
2025-04-18 16:21:21.133 [INF] Application starting up
2025-04-18 16:21:21.136 [INF] Starting application diagnostics
2025-04-18 16:21:21.162 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-162121.txt
2025-04-18 16:21:21.250 [INF] Ensuring database is created
2025-04-18 16:21:21.601 [INF] Database created or already exists
2025-04-18 16:21:21.601 [INF] Starting database seeding
2025-04-18 16:21:21.604 [INF] Checking if document seeding is required...
2025-04-18 16:21:21.733 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 16:21:21.734 [INF] Checking if request seeding is required...
2025-04-18 16:21:21.737 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 16:21:21.737 [INF] Database seeding completed
2025-04-18 16:21:21.766 [DBG] Initializing MainWindow
2025-04-18 16:21:21.855 [DBG] Updating UI based on authentication state
2025-04-18 16:21:21.855 [DBG] UI updated for non-authenticated state
2025-04-18 16:21:21.856 [INF] MainWindow initialized successfully
2025-04-18 16:21:21.948 [INF] MainWindow loaded
2025-04-18 16:21:21.954 [INF] Application started successfully
2025-04-18 16:21:24.532 [DBG] Login button clicked
2025-04-18 16:21:24.532 [DBG] Initializing LoginWindow
2025-04-18 16:21:24.561 [INF] LoginWindow initialized successfully
2025-04-18 16:21:29.244 [DBG] Login button clicked
2025-04-18 16:21:29.324 [INF] User admin logged in successfully
2025-04-18 16:21:29.325 [INF] User admin logged in successfully
2025-04-18 16:21:29.330 [DBG] Updating UI based on authentication state
2025-04-18 16:21:29.330 [DBG] UI updated for logged-in user: admin
2025-04-18 16:21:29.330 [DBG] Initializing DashboardView
2025-04-18 16:21:29.353 [INF] DashboardView initialized successfully
2025-04-18 16:21:29.354 [INF] Dashboard view loaded
2025-04-18 16:21:29.354 [INF] User logged in successfully through login dialog
2025-04-18 16:21:29.366 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:21:29.366 [DBG] Refreshing dashboard data
2025-04-18 16:21:29.367 [DBG] Updating dashboard statistics
2025-04-18 16:21:29.463 [INF] Dashboard statistics updated successfully
2025-04-18 16:21:29.463 [DBG] Updating dashboard charts
2025-04-18 16:21:29.465 [DBG] Updating Documents by Type chart
2025-04-18 16:21:29.469 [INF] Documents by Type chart updated successfully
2025-04-18 16:21:29.471 [DBG] Updating Monthly Documents chart
2025-04-18 16:21:29.473 [INF] Monthly Documents chart updated successfully
2025-04-18 16:21:29.473 [INF] Dashboard charts updated successfully
2025-04-18 16:21:29.474 [DBG] Updating activity feed
2025-04-18 16:21:29.479 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:21:29.480 [INF] Dashboard data refreshed successfully
2025-04-18 16:21:30.787 [DBG] Documents button clicked
2025-04-18 16:21:30.788 [DBG] Initializing DocumentsListView
2025-04-18 16:21:30.803 [INF] DocumentsListView initialized successfully
2025-04-18 16:21:30.803 [INF] Documents list view shown
2025-04-18 16:21:30.828 [DBG] Loading documents
2025-04-18 16:21:30.831 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:21:30.831 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:21:32.669 [INF] Editing document with ID: 1
2025-04-18 16:21:32.669 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:21:32.681 [DBG] Loading document details for document ID: 1
2025-04-18 16:21:32.681 [DBG] Getting document by ID: 1
2025-04-18 16:21:32.711 [INF] Retrieved document with ID: 1
2025-04-18 16:21:32.717 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:21:32.717 [INF] DocumentEditView initialized successfully
2025-04-18 16:21:34.909 [DBG] Preview front button clicked for file: SampleData/MarriageCertificate_Front_0.jpg
2025-04-18 16:21:46.374 [DBG] Preview back button clicked for file: SampleData/MarriageCertificate_Back_0.jpg
2025-04-18 16:22:04.831 [INF] Editing document with ID: 1
2025-04-18 16:22:04.832 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:22:04.836 [DBG] Loading document details for document ID: 1
2025-04-18 16:22:04.836 [DBG] Getting document by ID: 1
2025-04-18 16:22:04.837 [INF] Retrieved document with ID: 1
2025-04-18 16:22:04.838 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:22:04.838 [INF] DocumentEditView initialized successfully
2025-04-18 16:23:01.596 [DBG] Cancel button clicked
2025-04-18 16:23:08.974 [INF] Viewing document details for document ID: 2
2025-04-18 16:23:08.974 [DBG] Initializing DocumentDetailsView for document ID: 2
2025-04-18 16:23:08.977 [DBG] Loading document details for document ID: 2
2025-04-18 16:23:08.977 [DBG] Getting document by ID: 2
2025-04-18 16:23:08.978 [INF] Retrieved document with ID: 2
2025-04-18 16:23:08.978 [INF] Document details loaded successfully for document ID: 2
2025-04-18 16:23:08.978 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:23:13.559 [INF] Viewing document details for document ID: 1
2025-04-18 16:23:13.559 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 16:23:13.561 [DBG] Loading document details for document ID: 1
2025-04-18 16:23:13.561 [DBG] Getting document by ID: 1
2025-04-18 16:23:13.561 [INF] Retrieved document with ID: 1
2025-04-18 16:23:13.562 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:23:13.562 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:23:23.736 [WRN] Document file not found for document ID: 1
2025-04-18 16:23:58.635 [INF] Viewing document details for document ID: 1
2025-04-18 16:23:58.636 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 16:23:58.637 [DBG] Loading document details for document ID: 1
2025-04-18 16:23:58.637 [DBG] Getting document by ID: 1
2025-04-18 16:23:58.638 [INF] Retrieved document with ID: 1
2025-04-18 16:23:58.638 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:23:58.638 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:27:43.058 [DBG] Close button clicked
2025-04-18 16:27:45.178 [INF] Editing document with ID: 1
2025-04-18 16:27:45.178 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:27:45.182 [DBG] Loading document details for document ID: 1
2025-04-18 16:27:45.182 [DBG] Getting document by ID: 1
2025-04-18 16:27:45.183 [INF] Retrieved document with ID: 1
2025-04-18 16:27:45.184 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:27:45.184 [INF] DocumentEditView initialized successfully
2025-04-18 16:27:55.299 [DBG] Cancel button clicked
2025-04-18 16:32:44.856 [DBG] Logout button clicked
2025-04-18 16:32:44.856 [INF] User admin logged out
2025-04-18 16:32:44.856 [DBG] Updating UI based on authentication state
2025-04-18 16:32:44.856 [DBG] UI updated for non-authenticated state
2025-04-18 16:32:44.856 [INF] User logged out successfully
2025-04-18 16:32:46.712 [INF] MainWindow closing
2025-04-18 16:32:46.720 [INF] Application shutting down
2025-04-18 16:36:32.965 [INF] Logging initialized
2025-04-18 16:36:32.998 [INF] Application starting up
2025-04-18 16:36:33.001 [INF] Starting application diagnostics
2025-04-18 16:36:33.032 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-163633.txt
2025-04-18 16:36:33.120 [INF] Ensuring database is created
2025-04-18 16:36:33.473 [INF] Database created or already exists
2025-04-18 16:36:33.473 [INF] Starting database seeding
2025-04-18 16:36:33.476 [INF] Checking if document seeding is required...
2025-04-18 16:36:33.609 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 16:36:33.610 [INF] Checking if request seeding is required...
2025-04-18 16:36:33.612 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 16:36:33.612 [INF] Database seeding completed
2025-04-18 16:36:33.642 [DBG] Initializing MainWindow
2025-04-18 16:36:33.733 [DBG] Updating UI based on authentication state
2025-04-18 16:36:33.733 [DBG] UI updated for non-authenticated state
2025-04-18 16:36:33.733 [INF] MainWindow initialized successfully
2025-04-18 16:36:33.829 [INF] MainWindow loaded
2025-04-18 16:36:33.833 [INF] Application started successfully
2025-04-18 16:36:36.887 [DBG] Login button clicked
2025-04-18 16:36:36.887 [DBG] Initializing LoginWindow
2025-04-18 16:36:36.920 [INF] LoginWindow initialized successfully
2025-04-18 16:36:45.865 [DBG] Login button clicked
2025-04-18 16:36:45.945 [INF] User admin logged in successfully
2025-04-18 16:36:45.945 [INF] User admin logged in successfully
2025-04-18 16:36:45.950 [DBG] Updating UI based on authentication state
2025-04-18 16:36:45.951 [DBG] UI updated for logged-in user: admin
2025-04-18 16:36:45.951 [DBG] Initializing DashboardView
2025-04-18 16:36:45.974 [INF] DashboardView initialized successfully
2025-04-18 16:36:45.975 [INF] Dashboard view loaded
2025-04-18 16:36:45.975 [INF] User logged in successfully through login dialog
2025-04-18 16:36:45.988 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:36:45.988 [DBG] Refreshing dashboard data
2025-04-18 16:36:45.989 [DBG] Updating dashboard statistics
2025-04-18 16:36:46.089 [INF] Dashboard statistics updated successfully
2025-04-18 16:36:46.089 [DBG] Updating dashboard charts
2025-04-18 16:36:46.091 [DBG] Updating Documents by Type chart
2025-04-18 16:36:46.095 [INF] Documents by Type chart updated successfully
2025-04-18 16:36:46.097 [DBG] Updating Monthly Documents chart
2025-04-18 16:36:46.099 [INF] Monthly Documents chart updated successfully
2025-04-18 16:36:46.099 [INF] Dashboard charts updated successfully
2025-04-18 16:36:46.100 [DBG] Updating activity feed
2025-04-18 16:36:46.105 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:36:46.106 [INF] Dashboard data refreshed successfully
2025-04-18 16:36:48.096 [DBG] Documents button clicked
2025-04-18 16:36:48.097 [DBG] Initializing DocumentsListView
2025-04-18 16:36:48.120 [INF] DocumentsListView initialized successfully
2025-04-18 16:36:48.120 [INF] Documents list view shown
2025-04-18 16:36:48.154 [DBG] Loading documents
2025-04-18 16:36:48.157 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:36:48.158 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:36:49.993 [INF] Viewing document details for document ID: 1
2025-04-18 16:36:49.993 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 16:36:49.998 [DBG] Loading document details for document ID: 1
2025-04-18 16:36:49.998 [DBG] Getting document by ID: 1
2025-04-18 16:36:50.029 [INF] Retrieved document with ID: 1
2025-04-18 16:36:50.031 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:36:50.031 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:41:06.634 [DBG] Close button clicked
2025-04-18 16:41:08.483 [INF] Adding new document
2025-04-18 16:41:08.483 [DBG] Initializing DocumentAddView
2025-04-18 16:41:08.485 [DBG] Document type changed to: Birth Certificate
2025-04-18 16:41:08.495 [INF] DocumentAddView initialized successfully
2025-04-18 16:41:11.571 [DBG] Document type changed to: Marriage Certificate
2025-04-18 16:41:24.364 [DBG] Cancel button clicked
2025-04-18 16:41:25.580 [DBG] Logout button clicked
2025-04-18 16:41:25.580 [INF] User admin logged out
2025-04-18 16:41:25.580 [DBG] Updating UI based on authentication state
2025-04-18 16:41:25.580 [DBG] UI updated for non-authenticated state
2025-04-18 16:41:25.580 [INF] User logged out successfully
2025-04-18 16:41:25.972 [INF] MainWindow closing
2025-04-18 16:41:25.982 [INF] Application shutting down
2025-04-18 16:43:37.595 [INF] Logging initialized
2025-04-18 16:43:37.641 [INF] Application starting up
2025-04-18 16:43:37.643 [INF] Starting application diagnostics
2025-04-18 16:43:37.673 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-164337.txt
2025-04-18 16:43:37.766 [INF] Ensuring database is created
2025-04-18 16:43:38.100 [INF] Database created or already exists
2025-04-18 16:43:38.101 [INF] Starting database seeding
2025-04-18 16:43:38.104 [INF] Checking if document seeding is required...
2025-04-18 16:43:38.234 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 16:43:38.235 [INF] Checking if request seeding is required...
2025-04-18 16:43:38.237 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 16:43:38.237 [INF] Database seeding completed
2025-04-18 16:43:38.267 [DBG] Initializing MainWindow
2025-04-18 16:43:38.359 [DBG] Updating UI based on authentication state
2025-04-18 16:43:38.359 [DBG] UI updated for non-authenticated state
2025-04-18 16:43:38.359 [INF] MainWindow initialized successfully
2025-04-18 16:43:38.455 [INF] MainWindow loaded
2025-04-18 16:43:38.460 [INF] Application started successfully
2025-04-18 16:43:41.202 [DBG] Login button clicked
2025-04-18 16:43:41.202 [DBG] Initializing LoginWindow
2025-04-18 16:43:41.231 [INF] LoginWindow initialized successfully
2025-04-18 16:43:51.020 [DBG] Login button clicked
2025-04-18 16:43:51.103 [INF] User admin logged in successfully
2025-04-18 16:43:51.103 [INF] User admin logged in successfully
2025-04-18 16:43:51.108 [DBG] Updating UI based on authentication state
2025-04-18 16:43:51.109 [DBG] UI updated for logged-in user: admin
2025-04-18 16:43:51.109 [DBG] Initializing DashboardView
2025-04-18 16:43:51.132 [INF] DashboardView initialized successfully
2025-04-18 16:43:51.132 [INF] Dashboard view loaded
2025-04-18 16:43:51.132 [INF] User logged in successfully through login dialog
2025-04-18 16:43:51.145 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:43:51.145 [DBG] Refreshing dashboard data
2025-04-18 16:43:51.146 [DBG] Updating dashboard statistics
2025-04-18 16:43:51.241 [INF] Dashboard statistics updated successfully
2025-04-18 16:43:51.241 [DBG] Updating dashboard charts
2025-04-18 16:43:51.243 [DBG] Updating Documents by Type chart
2025-04-18 16:43:51.247 [INF] Documents by Type chart updated successfully
2025-04-18 16:43:51.249 [DBG] Updating Monthly Documents chart
2025-04-18 16:43:51.251 [INF] Monthly Documents chart updated successfully
2025-04-18 16:43:51.251 [INF] Dashboard charts updated successfully
2025-04-18 16:43:51.252 [DBG] Updating activity feed
2025-04-18 16:43:51.257 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:43:51.258 [INF] Dashboard data refreshed successfully
2025-04-18 16:44:24.310 [DBG] Documents button clicked
2025-04-18 16:44:24.311 [DBG] Initializing DocumentsListView
2025-04-18 16:44:24.324 [INF] DocumentsListView initialized successfully
2025-04-18 16:44:24.324 [INF] Documents list view shown
2025-04-18 16:44:24.341 [DBG] Loading documents
2025-04-18 16:44:24.343 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:44:24.344 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:44:25.519 [INF] Viewing document details for document ID: 1
2025-04-18 16:44:25.520 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 16:44:25.524 [DBG] Loading document details for document ID: 1
2025-04-18 16:44:25.524 [DBG] Getting document by ID: 1
2025-04-18 16:44:25.553 [INF] Retrieved document with ID: 1
2025-04-18 16:44:25.555 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:44:25.555 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:44:30.392 [DBG] Preview front button clicked for file: SampleData/MarriageCertificate_Front_0.jpg
2025-04-18 16:44:35.416 [DBG] Preview back button clicked for file: SampleData/MarriageCertificate_Back_0.jpg
2025-04-18 16:44:46.761 [DBG] Close button clicked
2025-04-18 16:44:49.594 [INF] Editing document with ID: 1
2025-04-18 16:44:49.594 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 16:44:49.602 [DBG] Loading document details for document ID: 1
2025-04-18 16:44:49.603 [DBG] Getting document by ID: 1
2025-04-18 16:44:49.604 [INF] Retrieved document with ID: 1
2025-04-18 16:44:49.608 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:44:49.608 [INF] DocumentEditView initialized successfully
2025-04-18 16:45:01.435 [INF] Viewing document details for document ID: 1
2025-04-18 16:45:01.435 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 16:45:01.437 [DBG] Loading document details for document ID: 1
2025-04-18 16:45:01.437 [DBG] Getting document by ID: 1
2025-04-18 16:45:01.438 [INF] Retrieved document with ID: 1
2025-04-18 16:45:01.438 [INF] Document details loaded successfully for document ID: 1
2025-04-18 16:45:01.438 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:45:06.995 [DBG] Logout button clicked
2025-04-18 16:45:06.995 [INF] User admin logged out
2025-04-18 16:45:06.995 [DBG] Updating UI based on authentication state
2025-04-18 16:45:06.995 [DBG] UI updated for non-authenticated state
2025-04-18 16:45:06.996 [INF] User logged out successfully
2025-04-18 16:45:08.579 [INF] MainWindow closing
2025-04-18 16:45:08.588 [INF] Application shutting down
2025-04-18 16:49:49.343 [INF] Logging initialized
2025-04-18 16:49:49.375 [INF] Application starting up
2025-04-18 16:49:49.378 [INF] Starting application diagnostics
2025-04-18 16:49:49.404 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-164949.txt
2025-04-18 16:49:49.490 [INF] Ensuring database is created
2025-04-18 16:49:49.843 [INF] Database created or already exists
2025-04-18 16:49:49.843 [INF] Starting database seeding
2025-04-18 16:49:49.846 [INF] Checking if document seeding is required...
2025-04-18 16:49:49.975 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 16:49:49.975 [INF] Checking if request seeding is required...
2025-04-18 16:49:49.978 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 16:49:49.978 [INF] Database seeding completed
2025-04-18 16:49:50.006 [DBG] Initializing MainWindow
2025-04-18 16:49:50.096 [DBG] Updating UI based on authentication state
2025-04-18 16:49:50.096 [DBG] UI updated for non-authenticated state
2025-04-18 16:49:50.096 [INF] MainWindow initialized successfully
2025-04-18 16:49:50.189 [INF] MainWindow loaded
2025-04-18 16:49:50.194 [INF] Application started successfully
2025-04-18 16:49:53.272 [DBG] Login button clicked
2025-04-18 16:49:53.272 [DBG] Initializing LoginWindow
2025-04-18 16:49:53.301 [INF] LoginWindow initialized successfully
2025-04-18 16:49:57.768 [DBG] Login button clicked
2025-04-18 16:49:57.852 [INF] User admin logged in successfully
2025-04-18 16:49:57.852 [INF] User admin logged in successfully
2025-04-18 16:49:57.858 [DBG] Updating UI based on authentication state
2025-04-18 16:49:57.858 [DBG] UI updated for logged-in user: admin
2025-04-18 16:49:57.859 [DBG] Initializing DashboardView
2025-04-18 16:49:57.883 [INF] DashboardView initialized successfully
2025-04-18 16:49:57.883 [INF] Dashboard view loaded
2025-04-18 16:49:57.883 [INF] User logged in successfully through login dialog
2025-04-18 16:49:57.897 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:49:57.897 [DBG] Refreshing dashboard data
2025-04-18 16:49:57.898 [DBG] Updating dashboard statistics
2025-04-18 16:49:58.012 [INF] Dashboard statistics updated successfully
2025-04-18 16:49:58.012 [DBG] Updating dashboard charts
2025-04-18 16:49:58.014 [DBG] Updating Documents by Type chart
2025-04-18 16:49:58.018 [INF] Documents by Type chart updated successfully
2025-04-18 16:49:58.020 [DBG] Updating Monthly Documents chart
2025-04-18 16:49:58.022 [INF] Monthly Documents chart updated successfully
2025-04-18 16:49:58.022 [INF] Dashboard charts updated successfully
2025-04-18 16:49:58.023 [DBG] Updating activity feed
2025-04-18 16:49:58.028 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:49:58.029 [INF] Dashboard data refreshed successfully
2025-04-18 16:50:00.744 [DBG] Database Utility button clicked
2025-04-18 16:50:00.746 [DBG] DatabaseUtilityWindow initialized
2025-04-18 16:50:05.493 [INF] Starting to clear document data from database...
2025-04-18 16:50:05.497 [INF] Removing 15 document requests
2025-04-18 16:50:05.680 [INF] Successfully removed all document requests
2025-04-18 16:50:05.681 [INF] Removing 30 documents
2025-04-18 16:50:05.832 [INF] Successfully removed all documents
2025-04-18 16:50:05.833 [INF] Document data clearing completed successfully
2025-04-18 16:50:05.833 [INF] Document data cleared successfully via DatabaseUtilityWindow
2025-04-18 16:50:11.021 [INF] Database Utility window closed
2025-04-18 16:50:13.547 [DBG] Refresh button clicked
2025-04-18 16:50:13.547 [DBG] Refreshing dashboard data
2025-04-18 16:50:13.547 [DBG] Updating dashboard statistics
2025-04-18 16:50:13.548 [INF] Dashboard statistics updated successfully
2025-04-18 16:50:13.548 [DBG] Updating dashboard charts
2025-04-18 16:50:13.548 [DBG] Updating Documents by Type chart
2025-04-18 16:50:13.548 [INF] Documents by Type chart updated successfully
2025-04-18 16:50:13.548 [DBG] Updating Monthly Documents chart
2025-04-18 16:50:13.548 [INF] Monthly Documents chart updated successfully
2025-04-18 16:50:13.548 [INF] Dashboard charts updated successfully
2025-04-18 16:50:13.549 [DBG] Updating activity feed
2025-04-18 16:50:13.550 [INF] Activity feed updated successfully with 0 items
2025-04-18 16:50:13.550 [INF] Dashboard data refreshed successfully
2025-04-18 16:50:16.051 [DBG] Documents button clicked
2025-04-18 16:50:16.051 [DBG] Initializing DocumentsListView
2025-04-18 16:50:16.063 [INF] DocumentsListView initialized successfully
2025-04-18 16:50:16.063 [INF] Documents list view shown
2025-04-18 16:50:16.079 [DBG] Loading documents
2025-04-18 16:50:16.081 [DBG] Filter applied. Filtered count: 0, Current page: 1, Total pages: 1
2025-04-18 16:50:16.082 [INF] Documents loaded successfully. Total count: 0
2025-04-18 16:50:18.107 [INF] Adding new document
2025-04-18 16:50:18.108 [DBG] Initializing DocumentAddView
2025-04-18 16:50:18.109 [DBG] Document type changed to: Birth Certificate
2025-04-18 16:50:18.124 [INF] DocumentAddView initialized successfully
2025-04-18 16:50:20.715 [DBG] Document type changed to: Marriage Certificate
2025-04-18 16:50:23.107 [DBG] Document type changed to: Death Certificate
2025-04-18 16:50:25.243 [DBG] Document type changed to: Other
2025-04-18 16:50:29.067 [DBG] Cancel button clicked
2025-04-18 16:55:34.866 [DBG] Logout button clicked
2025-04-18 16:55:34.867 [INF] User admin logged out
2025-04-18 16:55:34.867 [DBG] Updating UI based on authentication state
2025-04-18 16:55:34.867 [DBG] UI updated for non-authenticated state
2025-04-18 16:55:34.867 [INF] User logged out successfully
2025-04-18 16:55:35.354 [INF] MainWindow closing
2025-04-18 16:55:35.364 [INF] Application shutting down
2025-04-18 16:55:56.479 [INF] Logging initialized
2025-04-18 16:55:56.515 [INF] Application starting up
2025-04-18 16:55:56.517 [INF] Starting application diagnostics
2025-04-18 16:55:56.545 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-165556.txt
2025-04-18 16:55:56.638 [INF] Ensuring database is created
2025-04-18 16:55:56.997 [INF] Database created or already exists
2025-04-18 16:55:56.998 [INF] Starting database seeding
2025-04-18 16:55:57.000 [INF] Checking if document seeding is required...
2025-04-18 16:55:57.131 [INF] No documents found in database. Starting document seeding...
2025-04-18 16:55:57.597 [INF] Successfully seeded 30 documents
2025-04-18 16:55:57.599 [INF] Checking if request seeding is required...
2025-04-18 16:55:57.601 [INF] No requests found in database. Starting request seeding...
2025-04-18 16:55:57.749 [INF] Successfully seeded 15 requests
2025-04-18 16:55:57.749 [INF] Database seeding completed
2025-04-18 16:55:57.780 [DBG] Initializing MainWindow
2025-04-18 16:55:57.871 [DBG] Updating UI based on authentication state
2025-04-18 16:55:57.871 [DBG] UI updated for non-authenticated state
2025-04-18 16:55:57.871 [INF] MainWindow initialized successfully
2025-04-18 16:55:57.974 [INF] MainWindow loaded
2025-04-18 16:55:57.980 [INF] Application started successfully
2025-04-18 16:56:01.349 [DBG] Login button clicked
2025-04-18 16:56:01.350 [DBG] Initializing LoginWindow
2025-04-18 16:56:01.379 [INF] LoginWindow initialized successfully
2025-04-18 16:56:10.525 [DBG] Login button clicked
2025-04-18 16:56:10.538 [INF] User admin logged in successfully
2025-04-18 16:56:10.539 [INF] User admin logged in successfully
2025-04-18 16:56:10.544 [DBG] Updating UI based on authentication state
2025-04-18 16:56:10.545 [DBG] UI updated for logged-in user: admin
2025-04-18 16:56:10.545 [DBG] Initializing DashboardView
2025-04-18 16:56:10.579 [INF] DashboardView initialized successfully
2025-04-18 16:56:10.579 [INF] Dashboard view loaded
2025-04-18 16:56:10.579 [INF] User logged in successfully through login dialog
2025-04-18 16:56:10.592 [DBG] DashboardView loaded, refreshing data
2025-04-18 16:56:10.592 [DBG] Refreshing dashboard data
2025-04-18 16:56:10.593 [DBG] Updating dashboard statistics
2025-04-18 16:56:10.632 [INF] Dashboard statistics updated successfully
2025-04-18 16:56:10.633 [DBG] Updating dashboard charts
2025-04-18 16:56:10.635 [DBG] Updating Documents by Type chart
2025-04-18 16:56:10.639 [INF] Documents by Type chart updated successfully
2025-04-18 16:56:10.641 [DBG] Updating Monthly Documents chart
2025-04-18 16:56:10.643 [INF] Monthly Documents chart updated successfully
2025-04-18 16:56:10.643 [INF] Dashboard charts updated successfully
2025-04-18 16:56:10.644 [DBG] Updating activity feed
2025-04-18 16:56:10.651 [INF] Activity feed updated successfully with 10 items
2025-04-18 16:56:10.651 [INF] Dashboard data refreshed successfully
2025-04-18 16:56:16.191 [DBG] Documents button clicked
2025-04-18 16:56:16.191 [DBG] Initializing DocumentsListView
2025-04-18 16:56:16.205 [INF] DocumentsListView initialized successfully
2025-04-18 16:56:16.205 [INF] Documents list view shown
2025-04-18 16:56:16.224 [DBG] Loading documents
2025-04-18 16:56:16.226 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:56:16.227 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:56:19.671 [INF] Viewing document details for document ID: 31
2025-04-18 16:56:19.672 [DBG] Initializing DocumentDetailsView for document ID: 31
2025-04-18 16:56:19.676 [DBG] Loading document details for document ID: 31
2025-04-18 16:56:19.676 [DBG] Getting document by ID: 31
2025-04-18 16:56:19.704 [INF] Retrieved document with ID: 31
2025-04-18 16:56:19.721 [INF] Document details loaded successfully for document ID: 31
2025-04-18 16:56:19.721 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:56:35.433 [DBG] Preview front button clicked for file: SampleData/BirthCertificate_Front_0.jpg
2025-04-18 16:56:37.793 [DBG] Preview back button clicked for file: SampleData/BirthCertificate_Back_0.jpg
2025-04-18 16:56:39.929 [DBG] Close button clicked
2025-04-18 16:56:45.033 [INF] Viewing document details for document ID: 39
2025-04-18 16:56:45.034 [DBG] Initializing DocumentDetailsView for document ID: 39
2025-04-18 16:56:45.036 [DBG] Loading document details for document ID: 39
2025-04-18 16:56:45.036 [DBG] Getting document by ID: 39
2025-04-18 16:56:45.037 [INF] Retrieved document with ID: 39
2025-04-18 16:56:45.037 [INF] Document details loaded successfully for document ID: 39
2025-04-18 16:56:45.037 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:57:00.483 [DBG] Preview front button clicked for file: SampleData/MarriageCertificate_Front_8.jpg
2025-04-18 16:57:39.687 [DBG] Close button clicked
2025-04-18 16:57:46.921 [INF] Viewing document details for document ID: 39
2025-04-18 16:57:46.921 [DBG] Initializing DocumentDetailsView for document ID: 39
2025-04-18 16:57:46.923 [DBG] Loading document details for document ID: 39
2025-04-18 16:57:46.923 [DBG] Getting document by ID: 39
2025-04-18 16:57:46.924 [INF] Retrieved document with ID: 39
2025-04-18 16:57:46.924 [INF] Document details loaded successfully for document ID: 39
2025-04-18 16:57:46.924 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:57:50.104 [DBG] Close button clicked
2025-04-18 16:57:50.663 [INF] Viewing document details for document ID: 39
2025-04-18 16:57:50.663 [DBG] Initializing DocumentDetailsView for document ID: 39
2025-04-18 16:57:50.665 [DBG] Loading document details for document ID: 39
2025-04-18 16:57:50.665 [DBG] Getting document by ID: 39
2025-04-18 16:57:50.665 [INF] Retrieved document with ID: 39
2025-04-18 16:57:50.666 [INF] Document details loaded successfully for document ID: 39
2025-04-18 16:57:50.666 [INF] DocumentDetailsView initialized successfully
2025-04-18 16:57:52.088 [DBG] Close button clicked
2025-04-18 16:57:54.032 [INF] Editing document with ID: 39
2025-04-18 16:57:54.033 [DBG] Initializing DocumentEditView for document ID: 39
2025-04-18 16:57:54.041 [DBG] Loading document details for document ID: 39
2025-04-18 16:57:54.041 [DBG] Getting document by ID: 39
2025-04-18 16:57:54.041 [INF] Retrieved document with ID: 39
2025-04-18 16:57:54.046 [INF] Document details loaded successfully for document ID: 39
2025-04-18 16:57:54.046 [INF] DocumentEditView initialized successfully
2025-04-18 16:58:01.065 [DBG] Cancel button clicked
2025-04-18 16:58:02.761 [DBG] Database Utility button clicked
2025-04-18 16:58:02.762 [DBG] DatabaseUtilityWindow initialized
2025-04-18 16:58:04.197 [INF] Database Utility window closed
2025-04-18 16:58:06.970 [DBG] Requests button clicked
2025-04-18 16:58:06.972 [DBG] Status filter changed to: All Requests
2025-04-18 16:58:06.973 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 16:58:06.978 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 16:58:06.979 [INF] RequestsListView initialized successfully
2025-04-18 16:58:06.980 [INF] Requests list view shown
2025-04-18 16:58:06.992 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 16:58:06.992 [INF] Loaded 15 document requests
2025-04-18 16:58:08.610 [INF] Viewing request details for request ID: 16
2025-04-18 16:58:08.635 [DBG] Getting document by ID: 57
2025-04-18 16:58:08.635 [INF] Retrieved document with ID: 57
2025-04-18 16:58:08.636 [INF] Loaded details for request ID: 16
2025-04-18 16:58:10.547 [WRN] Document file not found for document ID: 57
2025-04-18 16:58:15.915 [INF] Processing request ID: 16
2025-04-18 16:58:15.938 [DBG] Getting document by ID: 57
2025-04-18 16:58:15.938 [INF] Retrieved document with ID: 57
2025-04-18 16:58:15.938 [INF] Loaded details for request ID: 16
2025-04-18 16:58:37.453 [DBG] Requests button clicked
2025-04-18 16:58:37.454 [DBG] Status filter changed to: All Requests
2025-04-18 16:58:37.454 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 16:58:37.454 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 16:58:37.455 [INF] RequestsListView initialized successfully
2025-04-18 16:58:37.455 [INF] Requests list view shown
2025-04-18 16:58:37.465 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 16:58:37.465 [INF] Loaded 15 document requests
2025-04-18 16:58:38.541 [DBG] Documents button clicked
2025-04-18 16:58:38.541 [DBG] Initializing DocumentsListView
2025-04-18 16:58:38.543 [INF] DocumentsListView initialized successfully
2025-04-18 16:58:38.543 [INF] Documents list view shown
2025-04-18 16:58:38.552 [DBG] Loading documents
2025-04-18 16:58:38.553 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 16:58:38.553 [INF] Documents loaded successfully. Total count: 30
2025-04-18 16:58:39.821 [INF] Adding new document
2025-04-18 16:58:39.821 [DBG] Initializing DocumentAddView
2025-04-18 16:58:39.823 [DBG] Document type changed to: Birth Certificate
2025-04-18 16:58:39.826 [INF] DocumentAddView initialized successfully
2025-04-18 16:58:43.765 [DBG] Document type changed to: Other
2025-04-18 16:58:53.550 [DBG] Cancel button clicked
2025-04-18 16:58:57.958 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 16:58:57.958 [DBG] Navigated to next page: 2
2025-04-18 16:59:00.607 [INF] Editing document with ID: 54
2025-04-18 16:59:00.607 [DBG] Initializing DocumentEditView for document ID: 54
2025-04-18 16:59:00.611 [DBG] Loading document details for document ID: 54
2025-04-18 16:59:00.611 [DBG] Getting document by ID: 54
2025-04-18 16:59:00.612 [INF] Retrieved document with ID: 54
2025-04-18 16:59:00.612 [INF] Document details loaded successfully for document ID: 54
2025-04-18 16:59:00.612 [INF] DocumentEditView initialized successfully
2025-04-18 17:00:54.331 [INF] Viewing document details for document ID: 54
2025-04-18 17:00:54.331 [DBG] Initializing DocumentDetailsView for document ID: 54
2025-04-18 17:00:54.333 [DBG] Loading document details for document ID: 54
2025-04-18 17:00:54.333 [DBG] Getting document by ID: 54
2025-04-18 17:00:54.334 [INF] Retrieved document with ID: 54
2025-04-18 17:00:54.334 [INF] Document details loaded successfully for document ID: 54
2025-04-18 17:00:54.334 [INF] DocumentDetailsView initialized successfully
2025-04-18 17:01:00.836 [INF] Editing document with ID: 54
2025-04-18 17:01:00.836 [DBG] Initializing DocumentEditView for document ID: 54
2025-04-18 17:01:00.840 [DBG] Loading document details for document ID: 54
2025-04-18 17:01:00.840 [DBG] Getting document by ID: 54
2025-04-18 17:01:00.841 [INF] Retrieved document with ID: 54
2025-04-18 17:01:00.841 [INF] Document details loaded successfully for document ID: 54
2025-04-18 17:01:00.841 [INF] DocumentEditView initialized successfully
2025-04-18 17:03:51.820 [DBG] Cancel button clicked
2025-04-18 17:03:53.212 [DBG] Logout button clicked
2025-04-18 17:03:53.212 [INF] User admin logged out
2025-04-18 17:03:53.212 [DBG] Updating UI based on authentication state
2025-04-18 17:03:53.212 [DBG] UI updated for non-authenticated state
2025-04-18 17:03:53.213 [INF] User logged out successfully
2025-04-18 17:03:54.204 [INF] MainWindow closing
2025-04-18 17:03:54.213 [INF] Application shutting down
2025-04-18 17:19:02.193 [INF] Logging initialized
2025-04-18 17:19:02.227 [INF] Application starting up
2025-04-18 17:19:02.230 [INF] Starting application diagnostics
2025-04-18 17:19:02.257 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-171902.txt
2025-04-18 17:19:02.359 [INF] Ensuring database is created
2025-04-18 17:19:02.716 [INF] Database created or already exists
2025-04-18 17:19:02.717 [INF] Starting database seeding
2025-04-18 17:19:02.719 [INF] Checking if document seeding is required...
2025-04-18 17:19:02.849 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 17:19:02.850 [INF] Checking if request seeding is required...
2025-04-18 17:19:02.852 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 17:19:02.852 [INF] Database seeding completed
2025-04-18 17:19:02.882 [DBG] Initializing MainWindow
2025-04-18 17:19:02.972 [DBG] Updating UI based on authentication state
2025-04-18 17:19:02.972 [DBG] UI updated for non-authenticated state
2025-04-18 17:19:02.973 [INF] MainWindow initialized successfully
2025-04-18 17:19:03.075 [INF] MainWindow loaded
2025-04-18 17:19:03.080 [INF] Application started successfully
2025-04-18 17:19:04.353 [DBG] Login button clicked
2025-04-18 17:19:04.356 [DBG] Initializing LoginWindow
2025-04-18 17:19:04.384 [INF] LoginWindow initialized successfully
2025-04-18 17:19:08.721 [DBG] Login button clicked
2025-04-18 17:19:08.801 [INF] User admin logged in successfully
2025-04-18 17:19:08.801 [INF] User admin logged in successfully
2025-04-18 17:19:08.806 [DBG] Updating UI based on authentication state
2025-04-18 17:19:08.807 [DBG] UI updated for logged-in user: admin
2025-04-18 17:19:08.807 [DBG] Initializing DashboardView
2025-04-18 17:19:08.830 [INF] DashboardView initialized successfully
2025-04-18 17:19:08.830 [INF] Dashboard view loaded
2025-04-18 17:19:08.831 [INF] User logged in successfully through login dialog
2025-04-18 17:19:08.844 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:19:08.845 [DBG] Refreshing dashboard data
2025-04-18 17:19:08.845 [DBG] Updating dashboard statistics
2025-04-18 17:19:08.948 [INF] Dashboard statistics updated successfully
2025-04-18 17:19:08.948 [DBG] Updating dashboard charts
2025-04-18 17:19:08.951 [DBG] Updating Documents by Type chart
2025-04-18 17:19:08.955 [INF] Documents by Type chart updated successfully
2025-04-18 17:19:08.956 [DBG] Updating Monthly Documents chart
2025-04-18 17:19:08.959 [INF] Monthly Documents chart updated successfully
2025-04-18 17:19:08.959 [INF] Dashboard charts updated successfully
2025-04-18 17:19:08.960 [DBG] Updating activity feed
2025-04-18 17:19:08.964 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:19:08.966 [INF] Dashboard data refreshed successfully
2025-04-18 17:19:14.473 [DBG] Documents button clicked
2025-04-18 17:19:14.474 [DBG] Initializing DocumentsListView
2025-04-18 17:19:14.488 [INF] DocumentsListView initialized successfully
2025-04-18 17:19:14.488 [INF] Documents list view shown
2025-04-18 17:19:14.509 [DBG] Loading documents
2025-04-18 17:19:14.511 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:19:14.512 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:19:16.788 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 17:19:16.789 [DBG] Navigated to next page: 2
2025-04-18 17:19:18.682 [INF] Viewing document details for document ID: 55
2025-04-18 17:19:18.682 [DBG] Initializing DocumentDetailsView for document ID: 55
2025-04-18 17:19:18.687 [DBG] Loading document details for document ID: 55
2025-04-18 17:19:18.687 [DBG] Getting document by ID: 55
2025-04-18 17:19:18.718 [INF] Retrieved document with ID: 55
2025-04-18 17:19:18.727 [INF] Document details loaded successfully for document ID: 55
2025-04-18 17:19:18.727 [INF] DocumentDetailsView initialized successfully
2025-04-18 17:19:21.347 [INF] Editing document with ID: 55
2025-04-18 17:19:21.347 [DBG] Initializing DocumentEditView for document ID: 55
2025-04-18 17:19:21.355 [DBG] Loading document details for document ID: 55
2025-04-18 17:19:21.355 [DBG] Getting document by ID: 55
2025-04-18 17:19:21.356 [INF] Retrieved document with ID: 55
2025-04-18 17:19:21.361 [INF] Document details loaded successfully for document ID: 55
2025-04-18 17:19:21.361 [INF] DocumentEditView initialized successfully
2025-04-18 17:19:48.101 [DBG] Cancel button clicked
2025-04-18 17:19:58.774 [DBG] Requests button clicked
2025-04-18 17:19:58.776 [DBG] Status filter changed to: All Requests
2025-04-18 17:19:58.777 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 17:19:58.782 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 17:19:58.784 [INF] RequestsListView initialized successfully
2025-04-18 17:19:58.784 [INF] Requests list view shown
2025-04-18 17:19:58.800 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:19:58.801 [INF] Loaded 15 document requests
2025-04-18 17:20:03.822 [INF] Viewing request details for request ID: 27
2025-04-18 17:20:03.860 [DBG] Getting document by ID: 57
2025-04-18 17:20:03.861 [INF] Retrieved document with ID: 57
2025-04-18 17:20:03.862 [INF] Loaded details for request ID: 27
2025-04-18 17:20:14.224 [WRN] Document file not found for document ID: 57
2025-04-18 17:20:17.888 [INF] Viewing request details for request ID: 27
2025-04-18 17:20:17.911 [DBG] Getting document by ID: 57
2025-04-18 17:20:17.911 [INF] Retrieved document with ID: 57
2025-04-18 17:20:17.911 [INF] Loaded details for request ID: 27
2025-04-18 17:20:21.057 [INF] Processing request ID: 27
2025-04-18 17:20:21.082 [DBG] Getting document by ID: 57
2025-04-18 17:20:21.082 [INF] Retrieved document with ID: 57
2025-04-18 17:20:21.083 [INF] Loaded details for request ID: 27
2025-04-18 17:20:36.017 [WRN] Document file not found for document ID: 57
2025-04-18 17:20:52.123 [INF] Viewing request details for request ID: 27
2025-04-18 17:20:52.145 [DBG] Getting document by ID: 57
2025-04-18 17:20:52.145 [INF] Retrieved document with ID: 57
2025-04-18 17:20:52.145 [INF] Loaded details for request ID: 27
2025-04-18 17:21:56.305 [DBG] Logout button clicked
2025-04-18 17:21:56.305 [INF] User admin logged out
2025-04-18 17:21:56.306 [DBG] Updating UI based on authentication state
2025-04-18 17:21:56.306 [DBG] UI updated for non-authenticated state
2025-04-18 17:21:56.306 [INF] User logged out successfully
2025-04-18 17:21:56.761 [INF] MainWindow closing
2025-04-18 17:21:56.768 [INF] Application shutting down
2025-04-18 17:34:37.172 [INF] Logging initialized
2025-04-18 17:34:37.215 [INF] Application starting up
2025-04-18 17:34:37.218 [INF] Starting application diagnostics
2025-04-18 17:34:37.246 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-173437.txt
2025-04-18 17:34:37.336 [INF] Ensuring database is created
2025-04-18 17:34:37.668 [INF] Database created or already exists
2025-04-18 17:34:37.668 [INF] Starting database seeding
2025-04-18 17:34:37.671 [INF] Checking if document seeding is required...
2025-04-18 17:34:37.803 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 17:34:37.804 [INF] Checking if request seeding is required...
2025-04-18 17:34:37.806 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 17:34:37.806 [INF] Database seeding completed
2025-04-18 17:34:37.835 [DBG] Initializing MainWindow
2025-04-18 17:34:37.925 [DBG] Updating UI based on authentication state
2025-04-18 17:34:37.926 [DBG] UI updated for non-authenticated state
2025-04-18 17:34:37.926 [INF] MainWindow initialized successfully
2025-04-18 17:34:38.030 [INF] MainWindow loaded
2025-04-18 17:34:38.036 [INF] Application started successfully
2025-04-18 17:34:40.607 [DBG] Login button clicked
2025-04-18 17:34:40.607 [DBG] Initializing LoginWindow
2025-04-18 17:34:40.635 [INF] LoginWindow initialized successfully
2025-04-18 17:34:45.366 [DBG] Login button clicked
2025-04-18 17:34:45.448 [INF] User admin logged in successfully
2025-04-18 17:34:45.449 [INF] User admin logged in successfully
2025-04-18 17:34:45.454 [DBG] Updating UI based on authentication state
2025-04-18 17:34:45.455 [DBG] UI updated for logged-in user: admin
2025-04-18 17:34:45.455 [DBG] Initializing DashboardView
2025-04-18 17:34:45.478 [INF] DashboardView initialized successfully
2025-04-18 17:34:45.478 [INF] Dashboard view loaded
2025-04-18 17:34:45.478 [INF] User logged in successfully through login dialog
2025-04-18 17:34:45.491 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:34:45.492 [DBG] Refreshing dashboard data
2025-04-18 17:34:45.493 [DBG] Updating dashboard statistics
2025-04-18 17:34:45.588 [INF] Dashboard statistics updated successfully
2025-04-18 17:34:45.589 [DBG] Updating dashboard charts
2025-04-18 17:34:45.591 [DBG] Updating Documents by Type chart
2025-04-18 17:34:45.595 [INF] Documents by Type chart updated successfully
2025-04-18 17:34:45.597 [DBG] Updating Monthly Documents chart
2025-04-18 17:34:45.599 [INF] Monthly Documents chart updated successfully
2025-04-18 17:34:45.599 [INF] Dashboard charts updated successfully
2025-04-18 17:34:45.600 [DBG] Updating activity feed
2025-04-18 17:34:45.605 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:34:45.606 [INF] Dashboard data refreshed successfully
2025-04-18 17:34:52.296 [DBG] Requests button clicked
2025-04-18 17:34:52.301 [DBG] Status filter changed to: All Requests
2025-04-18 17:34:52.301 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 17:34:52.307 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 17:34:52.320 [INF] RequestsListView initialized successfully
2025-04-18 17:34:52.320 [INF] Requests list view shown
2025-04-18 17:34:52.341 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:34:52.342 [INF] Loaded 15 document requests
2025-04-18 17:34:53.664 [INF] Viewing request details for request ID: 16
2025-04-18 17:34:53.702 [DBG] Getting document by ID: 57
2025-04-18 17:34:53.731 [INF] Retrieved document with ID: 57
2025-04-18 17:34:53.732 [INF] Loaded details for request ID: 16
2025-04-18 17:34:56.169 [WRN] Document file not found for document ID: 57
2025-04-18 17:35:00.497 [WRN] Document file not found for document ID: 57
2025-04-18 17:35:20.427 [DBG] Documents button clicked
2025-04-18 17:35:20.427 [DBG] Initializing DocumentsListView
2025-04-18 17:35:20.431 [INF] DocumentsListView initialized successfully
2025-04-18 17:35:20.431 [INF] Documents list view shown
2025-04-18 17:35:20.441 [DBG] Loading documents
2025-04-18 17:35:20.443 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:35:20.443 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:35:22.948 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 17:35:22.948 [DBG] Navigated to next page: 2
2025-04-18 17:35:26.323 [INF] Editing document with ID: 57
2025-04-18 17:35:26.324 [DBG] Initializing DocumentEditView for document ID: 57
2025-04-18 17:35:26.331 [DBG] Loading document details for document ID: 57
2025-04-18 17:35:26.332 [DBG] Getting document by ID: 57
2025-04-18 17:35:26.332 [INF] Retrieved document with ID: 57
2025-04-18 17:35:26.338 [INF] Document details loaded successfully for document ID: 57
2025-04-18 17:35:26.338 [INF] DocumentEditView initialized successfully
2025-04-18 17:35:28.251 [DBG] Browse front button clicked
2025-04-18 17:35:30.423 [DBG] Front file selected: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 17:35:31.652 [DBG] Browse back button clicked
2025-04-18 17:35:34.014 [DBG] Back file selected: C:\Users\snugg\Downloads\test_front.jpg
2025-04-18 17:35:35.311 [DBG] Save button clicked
2025-04-18 17:36:02.766 [DBG] Save button clicked
2025-04-18 17:36:02.780 [DBG] Updating document with ID: 57
2025-04-18 17:36:02.966 [INF] Document updated successfully with ID: 57
2025-04-18 17:36:02.966 [INF] Document updated successfully for document ID: 57
2025-04-18 17:36:04.239 [DBG] Loading documents
2025-04-18 17:36:04.248 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 17:36:04.248 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:36:09.464 [INF] Viewing document details for document ID: 57
2025-04-18 17:36:09.465 [DBG] Initializing DocumentDetailsView for document ID: 57
2025-04-18 17:36:09.467 [DBG] Loading document details for document ID: 57
2025-04-18 17:36:09.468 [DBG] Getting document by ID: 57
2025-04-18 17:36:09.468 [INF] Retrieved document with ID: 57
2025-04-18 17:36:09.469 [INF] Document details loaded successfully for document ID: 57
2025-04-18 17:36:09.469 [INF] DocumentDetailsView initialized successfully
2025-04-18 17:36:27.402 [DBG] Preview front button clicked for file: E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\DocumentStorage\CENOMAR\aa9e3909-6769-4b35-b31c-f3be896c1b59_test_front.jpg
2025-04-18 17:36:30.410 [DBG] Preview back button clicked for file: E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\DocumentStorage\CENOMAR\b2012aa0-6d41-4a38-9d34-33bd356f6b0b_test_front.jpg
2025-04-18 17:36:33.931 [DBG] Close button clicked
2025-04-18 17:36:35.835 [DBG] Users button clicked
2025-04-18 17:36:35.835 [DBG] Initializing RegistrationWindow
2025-04-18 17:36:35.836 [INF] RegistrationWindow initialized successfully
2025-04-18 17:36:37.154 [DBG] Cancel button clicked
2025-04-18 17:36:37.159 [INF] User creation canceled
2025-04-18 17:36:37.883 [DBG] Requests button clicked
2025-04-18 17:36:37.884 [DBG] Status filter changed to: All Requests
2025-04-18 17:36:37.884 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 17:36:37.885 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 17:36:37.886 [INF] RequestsListView initialized successfully
2025-04-18 17:36:37.886 [INF] Requests list view shown
2025-04-18 17:36:37.895 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:36:37.895 [INF] Loaded 15 document requests
2025-04-18 17:36:41.810 [DBG] Search button clicked with text: 57
2025-04-18 17:36:41.815 [DBG] Applied filters: Status=All Requests, Search=57, Filtered count=2
2025-04-18 17:36:46.659 [INF] Viewing request details for request ID: 27
2025-04-18 17:36:46.674 [DBG] Getting document by ID: 57
2025-04-18 17:36:46.675 [INF] Retrieved document with ID: 57
2025-04-18 17:36:46.678 [INF] Loaded details for request ID: 27
2025-04-18 17:36:48.532 [INF] Opening document preview for document ID: 57
2025-04-18 17:37:06.054 [INF] Processing request ID: 27
2025-04-18 17:37:06.069 [DBG] Getting document by ID: 57
2025-04-18 17:37:06.069 [INF] Retrieved document with ID: 57
2025-04-18 17:37:06.070 [INF] Loaded details for request ID: 27
2025-04-18 17:37:08.029 [INF] Opening document preview for document ID: 57
2025-04-18 17:37:25.783 [INF] Viewing request details for request ID: 27
2025-04-18 17:37:25.804 [DBG] Getting document by ID: 57
2025-04-18 17:37:25.805 [INF] Retrieved document with ID: 57
2025-04-18 17:37:25.805 [INF] Loaded details for request ID: 27
2025-04-18 17:37:28.792 [DBG] Documents button clicked
2025-04-18 17:37:28.792 [DBG] Initializing DocumentsListView
2025-04-18 17:37:28.794 [INF] DocumentsListView initialized successfully
2025-04-18 17:37:28.794 [INF] Documents list view shown
2025-04-18 17:37:28.800 [DBG] Loading documents
2025-04-18 17:37:28.801 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:37:28.801 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:37:30.631 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 17:37:30.631 [DBG] Navigated to next page: 2
2025-04-18 17:37:33.368 [INF] Viewing document details for document ID: 57
2025-04-18 17:37:33.368 [DBG] Initializing DocumentDetailsView for document ID: 57
2025-04-18 17:37:33.370 [DBG] Loading document details for document ID: 57
2025-04-18 17:37:33.370 [DBG] Getting document by ID: 57
2025-04-18 17:37:33.370 [INF] Retrieved document with ID: 57
2025-04-18 17:37:33.371 [INF] Document details loaded successfully for document ID: 57
2025-04-18 17:37:33.371 [INF] DocumentDetailsView initialized successfully
2025-04-18 17:37:52.482 [DBG] Close button clicked
2025-04-18 17:38:10.629 [INF] Adding new document
2025-04-18 17:38:10.629 [DBG] Initializing DocumentAddView
2025-04-18 17:38:10.630 [DBG] Document type changed to: Birth Certificate
2025-04-18 17:38:10.634 [INF] DocumentAddView initialized successfully
2025-04-18 17:38:12.676 [DBG] Document type changed to: Marriage Certificate
2025-04-18 17:38:18.485 [DBG] Document type changed to: Death Certificate
2025-04-18 17:38:21.141 [DBG] Document type changed to: Other
2025-04-18 17:40:46.955 [DBG] Logout button clicked
2025-04-18 17:40:46.956 [INF] User admin logged out
2025-04-18 17:40:46.956 [DBG] Updating UI based on authentication state
2025-04-18 17:40:46.956 [DBG] UI updated for non-authenticated state
2025-04-18 17:40:46.956 [INF] User logged out successfully
2025-04-18 17:40:47.395 [INF] MainWindow closing
2025-04-18 17:40:47.403 [INF] Application shutting down
2025-04-18 17:41:38.097 [INF] Logging initialized
2025-04-18 17:41:38.131 [INF] Application starting up
2025-04-18 17:41:38.133 [INF] Starting application diagnostics
2025-04-18 17:41:38.159 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-174138.txt
2025-04-18 17:41:38.244 [INF] Ensuring database is created
2025-04-18 17:41:38.671 [INF] Database created or already exists
2025-04-18 17:41:38.671 [INF] Starting database seeding
2025-04-18 17:41:38.674 [INF] Checking if document seeding is required...
2025-04-18 17:41:38.808 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 17:41:38.809 [INF] Checking if request seeding is required...
2025-04-18 17:41:38.811 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 17:41:38.811 [INF] Database seeding completed
2025-04-18 17:41:38.840 [DBG] Initializing MainWindow
2025-04-18 17:41:38.929 [DBG] Updating UI based on authentication state
2025-04-18 17:41:38.929 [DBG] UI updated for non-authenticated state
2025-04-18 17:41:38.929 [INF] MainWindow initialized successfully
2025-04-18 17:41:39.028 [INF] MainWindow loaded
2025-04-18 17:41:39.033 [INF] Application started successfully
2025-04-18 17:41:40.714 [DBG] Login button clicked
2025-04-18 17:41:40.714 [DBG] Initializing LoginWindow
2025-04-18 17:41:40.743 [INF] LoginWindow initialized successfully
2025-04-18 17:41:44.600 [DBG] Login button clicked
2025-04-18 17:41:44.685 [INF] User admin logged in successfully
2025-04-18 17:41:44.686 [INF] User admin logged in successfully
2025-04-18 17:41:44.691 [DBG] Updating UI based on authentication state
2025-04-18 17:41:44.692 [DBG] UI updated for logged-in user: admin
2025-04-18 17:41:44.692 [DBG] Initializing DashboardView
2025-04-18 17:41:44.717 [INF] DashboardView initialized successfully
2025-04-18 17:41:44.717 [INF] Dashboard view loaded
2025-04-18 17:41:44.717 [INF] User logged in successfully through login dialog
2025-04-18 17:41:44.731 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:41:44.732 [DBG] Refreshing dashboard data
2025-04-18 17:41:44.733 [DBG] Updating dashboard statistics
2025-04-18 17:41:44.838 [INF] Dashboard statistics updated successfully
2025-04-18 17:41:44.838 [DBG] Updating dashboard charts
2025-04-18 17:41:44.840 [DBG] Updating Documents by Type chart
2025-04-18 17:41:44.845 [INF] Documents by Type chart updated successfully
2025-04-18 17:41:44.846 [DBG] Updating Monthly Documents chart
2025-04-18 17:41:44.849 [INF] Monthly Documents chart updated successfully
2025-04-18 17:41:44.849 [INF] Dashboard charts updated successfully
2025-04-18 17:41:44.850 [DBG] Updating activity feed
2025-04-18 17:41:44.856 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:41:44.858 [INF] Dashboard data refreshed successfully
2025-04-18 17:41:48.233 [DBG] Dashboard button clicked
2025-04-18 17:41:48.234 [DBG] Initializing DashboardView
2025-04-18 17:41:48.236 [INF] DashboardView initialized successfully
2025-04-18 17:41:48.236 [INF] Dashboard view loaded
2025-04-18 17:41:48.236 [INF] Dashboard view shown from button click
2025-04-18 17:41:48.241 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:41:48.241 [DBG] Refreshing dashboard data
2025-04-18 17:41:48.241 [DBG] Updating dashboard statistics
2025-04-18 17:41:48.242 [INF] Dashboard statistics updated successfully
2025-04-18 17:41:48.242 [DBG] Updating dashboard charts
2025-04-18 17:41:48.242 [DBG] Updating Documents by Type chart
2025-04-18 17:41:48.243 [INF] Documents by Type chart updated successfully
2025-04-18 17:41:48.243 [DBG] Updating Monthly Documents chart
2025-04-18 17:41:48.243 [INF] Monthly Documents chart updated successfully
2025-04-18 17:41:48.243 [INF] Dashboard charts updated successfully
2025-04-18 17:41:48.243 [DBG] Updating activity feed
2025-04-18 17:41:48.244 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:41:48.244 [INF] Dashboard data refreshed successfully
2025-04-18 17:41:53.570 [DBG] Documents button clicked
2025-04-18 17:41:53.570 [DBG] Initializing DocumentsListView
2025-04-18 17:41:53.584 [INF] DocumentsListView initialized successfully
2025-04-18 17:41:53.585 [INF] Documents list view shown
2025-04-18 17:41:53.605 [DBG] Loading documents
2025-04-18 17:41:53.607 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:41:53.608 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:41:55.394 [DBG] Requests button clicked
2025-04-18 17:41:55.398 [DBG] Status filter changed to: All Requests
2025-04-18 17:41:55.399 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 17:41:55.406 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 17:41:55.409 [INF] RequestsListView initialized successfully
2025-04-18 17:41:55.409 [INF] Requests list view shown
2025-04-18 17:41:55.428 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:41:55.428 [INF] Loaded 15 document requests
2025-04-18 17:41:58.435 [INF] Processing request ID: 21
2025-04-18 17:41:58.468 [DBG] Getting document by ID: 32
2025-04-18 17:41:58.497 [INF] Retrieved document with ID: 32
2025-04-18 17:41:58.498 [INF] Loaded details for request ID: 21
2025-04-18 17:42:08.757 [WRN] Document file not found for document ID: 32
2025-04-18 17:42:12.801 [INF] Document request 21 status updated to Approved by user admin
2025-04-18 17:42:12.802 [INF] Updated status for request ID: 21 to Approved
2025-04-18 17:42:13.763 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:42:13.763 [INF] Loaded 15 document requests
2025-04-18 17:42:22.093 [DBG] Dashboard button clicked
2025-04-18 17:42:22.093 [DBG] Initializing DashboardView
2025-04-18 17:42:22.095 [INF] DashboardView initialized successfully
2025-04-18 17:42:22.095 [INF] Dashboard view loaded
2025-04-18 17:42:22.095 [INF] Dashboard view shown from button click
2025-04-18 17:42:22.101 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:42:22.101 [DBG] Refreshing dashboard data
2025-04-18 17:42:22.101 [DBG] Updating dashboard statistics
2025-04-18 17:42:22.102 [INF] Dashboard statistics updated successfully
2025-04-18 17:42:22.102 [DBG] Updating dashboard charts
2025-04-18 17:42:22.102 [DBG] Updating Documents by Type chart
2025-04-18 17:42:22.102 [INF] Documents by Type chart updated successfully
2025-04-18 17:42:22.102 [DBG] Updating Monthly Documents chart
2025-04-18 17:42:22.102 [INF] Monthly Documents chart updated successfully
2025-04-18 17:42:22.102 [INF] Dashboard charts updated successfully
2025-04-18 17:42:22.102 [DBG] Updating activity feed
2025-04-18 17:42:22.103 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:42:22.103 [INF] Dashboard data refreshed successfully
2025-04-18 17:42:33.622 [DBG] Documents button clicked
2025-04-18 17:42:33.622 [DBG] Initializing DocumentsListView
2025-04-18 17:42:33.625 [INF] DocumentsListView initialized successfully
2025-04-18 17:42:33.625 [INF] Documents list view shown
2025-04-18 17:42:33.631 [DBG] Loading documents
2025-04-18 17:42:33.632 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:42:33.632 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:42:34.894 [DBG] Users button clicked
2025-04-18 17:42:34.895 [DBG] Initializing RegistrationWindow
2025-04-18 17:42:34.896 [INF] RegistrationWindow initialized successfully
2025-04-18 17:42:36.327 [DBG] Cancel button clicked
2025-04-18 17:42:36.330 [INF] User creation canceled
2025-04-18 17:42:49.321 [INF] Adding new document
2025-04-18 17:42:49.321 [DBG] Initializing DocumentAddView
2025-04-18 17:42:49.322 [DBG] Document type changed to: Birth Certificate
2025-04-18 17:42:49.331 [INF] DocumentAddView initialized successfully
2025-04-18 17:42:53.896 [DBG] Requests button clicked
2025-04-18 17:42:53.898 [DBG] Status filter changed to: All Requests
2025-04-18 17:42:53.898 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 17:42:53.898 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 17:42:53.899 [INF] RequestsListView initialized successfully
2025-04-18 17:42:53.899 [INF] Requests list view shown
2025-04-18 17:42:53.916 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:42:53.916 [INF] Loaded 15 document requests
2025-04-18 17:42:54.913 [INF] Adding new document request
2025-04-18 17:44:08.816 [DBG] Documents button clicked
2025-04-18 17:44:08.816 [DBG] Initializing DocumentsListView
2025-04-18 17:44:08.818 [INF] DocumentsListView initialized successfully
2025-04-18 17:44:08.819 [INF] Documents list view shown
2025-04-18 17:44:08.860 [DBG] Loading documents
2025-04-18 17:44:08.860 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:44:08.860 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:44:48.860 [DBG] Logout button clicked
2025-04-18 17:44:48.860 [INF] User admin logged out
2025-04-18 17:44:48.860 [DBG] Updating UI based on authentication state
2025-04-18 17:44:48.860 [DBG] UI updated for non-authenticated state
2025-04-18 17:44:48.860 [INF] User logged out successfully
2025-04-18 17:44:49.348 [INF] MainWindow closing
2025-04-18 17:44:49.357 [INF] Application shutting down
2025-04-18 17:52:40.571 [INF] Logging initialized
2025-04-18 17:52:40.606 [INF] Application starting up
2025-04-18 17:52:40.609 [INF] Starting application diagnostics
2025-04-18 17:52:40.636 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-175240.txt
2025-04-18 17:52:40.722 [INF] Ensuring database is created
2025-04-18 17:52:41.047 [INF] Database created or already exists
2025-04-18 17:52:41.047 [INF] Starting database seeding
2025-04-18 17:52:41.050 [INF] Checking if document seeding is required...
2025-04-18 17:52:41.183 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 17:52:41.183 [INF] Checking if request seeding is required...
2025-04-18 17:52:41.186 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 17:52:41.186 [INF] Database seeding completed
2025-04-18 17:52:41.216 [DBG] Initializing MainWindow
2025-04-18 17:52:41.307 [DBG] Updating UI based on authentication state
2025-04-18 17:52:41.307 [DBG] UI updated for non-authenticated state
2025-04-18 17:52:41.307 [INF] MainWindow initialized successfully
2025-04-18 17:52:41.410 [INF] MainWindow loaded
2025-04-18 17:52:41.415 [INF] Application started successfully
2025-04-18 17:52:42.908 [DBG] Login button clicked
2025-04-18 17:52:42.909 [DBG] Initializing LoginWindow
2025-04-18 17:52:42.938 [INF] LoginWindow initialized successfully
2025-04-18 17:52:46.617 [DBG] Login button clicked
2025-04-18 17:52:46.696 [INF] User admin logged in successfully
2025-04-18 17:52:46.696 [INF] User admin logged in successfully
2025-04-18 17:52:46.702 [DBG] Updating UI based on authentication state
2025-04-18 17:52:46.702 [DBG] UI updated for logged-in user: admin
2025-04-18 17:52:46.702 [DBG] Initializing DashboardView
2025-04-18 17:52:46.725 [INF] DashboardView initialized successfully
2025-04-18 17:52:46.725 [INF] Dashboard view loaded
2025-04-18 17:52:46.725 [INF] User logged in successfully through login dialog
2025-04-18 17:52:46.738 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:52:46.739 [DBG] Refreshing dashboard data
2025-04-18 17:52:46.739 [DBG] Updating dashboard statistics
2025-04-18 17:52:46.832 [INF] Dashboard statistics updated successfully
2025-04-18 17:52:46.832 [DBG] Updating dashboard charts
2025-04-18 17:52:46.834 [DBG] Updating Documents by Type chart
2025-04-18 17:52:46.838 [INF] Documents by Type chart updated successfully
2025-04-18 17:52:46.840 [DBG] Updating Monthly Documents chart
2025-04-18 17:52:46.842 [INF] Monthly Documents chart updated successfully
2025-04-18 17:52:46.842 [INF] Dashboard charts updated successfully
2025-04-18 17:52:46.843 [DBG] Updating activity feed
2025-04-18 17:52:46.848 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:52:46.849 [INF] Dashboard data refreshed successfully
2025-04-18 17:52:51.325 [DBG] Documents button clicked
2025-04-18 17:52:51.325 [DBG] Initializing DocumentsListView
2025-04-18 17:52:51.353 [INF] DocumentsListView initialized successfully
2025-04-18 17:52:51.353 [INF] Documents list view shown
2025-04-18 17:52:51.372 [DBG] Loading documents
2025-04-18 17:52:51.374 [DBG] Populating filter dropdowns
2025-04-18 17:52:51.376 [INF] Filter dropdowns populated successfully
2025-04-18 17:52:51.378 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 17:52:51.379 [INF] Documents loaded successfully. Total count: 30
2025-04-18 17:52:54.454 [DBG] Advanced search panel toggled. Visible: true
2025-04-18 17:53:24.521 [DBG] Advanced search panel toggled. Visible: false
2025-04-18 17:53:25.025 [DBG] Advanced search panel toggled. Visible: true
2025-04-18 17:53:25.505 [DBG] Advanced search panel toggled. Visible: false
2025-04-18 17:53:25.921 [DBG] Advanced search panel toggled. Visible: true
2025-04-18 17:53:26.273 [DBG] Advanced search panel toggled. Visible: false
2025-04-18 17:53:34.322 [DBG] Requests button clicked
2025-04-18 17:53:34.324 [DBG] Status filter changed to: All Requests
2025-04-18 17:53:34.324 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 17:53:34.330 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 17:53:34.332 [INF] RequestsListView initialized successfully
2025-04-18 17:53:34.332 [INF] Requests list view shown
2025-04-18 17:53:34.352 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 17:53:34.353 [INF] Loaded 15 document requests
2025-04-18 17:53:37.210 [DBG] Dashboard button clicked
2025-04-18 17:53:37.210 [DBG] Initializing DashboardView
2025-04-18 17:53:37.212 [INF] DashboardView initialized successfully
2025-04-18 17:53:37.212 [INF] Dashboard view loaded
2025-04-18 17:53:37.212 [INF] Dashboard view shown from button click
2025-04-18 17:53:37.220 [DBG] DashboardView loaded, refreshing data
2025-04-18 17:53:37.220 [DBG] Refreshing dashboard data
2025-04-18 17:53:37.220 [DBG] Updating dashboard statistics
2025-04-18 17:53:37.221 [INF] Dashboard statistics updated successfully
2025-04-18 17:53:37.221 [DBG] Updating dashboard charts
2025-04-18 17:53:37.221 [DBG] Updating Documents by Type chart
2025-04-18 17:53:37.221 [INF] Documents by Type chart updated successfully
2025-04-18 17:53:37.221 [DBG] Updating Monthly Documents chart
2025-04-18 17:53:37.222 [INF] Monthly Documents chart updated successfully
2025-04-18 17:53:37.222 [INF] Dashboard charts updated successfully
2025-04-18 17:53:37.222 [DBG] Updating activity feed
2025-04-18 17:53:37.222 [INF] Activity feed updated successfully with 10 items
2025-04-18 17:53:37.222 [INF] Dashboard data refreshed successfully
2025-04-18 18:10:51.661 [INF] Logging initialized
2025-04-18 18:10:51.716 [INF] Application starting up
2025-04-18 18:10:51.719 [INF] Starting application diagnostics
2025-04-18 18:10:51.761 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-181051.txt
2025-04-18 18:10:51.848 [INF] Ensuring database is created
2025-04-18 18:10:52.187 [INF] Database created or already exists
2025-04-18 18:10:52.188 [INF] Starting database seeding
2025-04-18 18:10:52.191 [INF] Checking if document seeding is required...
2025-04-18 18:10:52.329 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 18:10:52.330 [INF] Checking if request seeding is required...
2025-04-18 18:10:52.333 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 18:10:52.333 [INF] Database seeding completed
2025-04-18 18:10:52.361 [DBG] Initializing MainWindow
2025-04-18 18:10:52.447 [DBG] Updating UI based on authentication state
2025-04-18 18:10:52.448 [DBG] UI updated for non-authenticated state
2025-04-18 18:10:52.448 [INF] MainWindow initialized successfully
2025-04-18 18:10:52.555 [INF] MainWindow loaded
2025-04-18 18:10:52.561 [INF] Application started successfully
2025-04-18 18:10:54.539 [DBG] Login button clicked
2025-04-18 18:10:54.539 [DBG] Initializing LoginWindow
2025-04-18 18:10:54.567 [INF] LoginWindow initialized successfully
2025-04-18 18:10:58.527 [DBG] Login button clicked
2025-04-18 18:10:58.578 [ERR] Error during login for user admin
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:10:58.673 [ERR] Error during login attempt
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:11:04.955 [DBG] Login button clicked
2025-04-18 18:11:04.957 [ERR] Error during login for user admin
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:11:04.958 [ERR] Error during login attempt
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:11:09.276 [DBG] Login button clicked
2025-04-18 18:11:09.277 [ERR] Error during login for user admin
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:11:09.285 [ERR] Error during login attempt
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:11:09.756 [DBG] Login button clicked
2025-04-18 18:11:09.757 [ERR] Error during login for user admin
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:11:09.758 [ERR] Error during login attempt
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:11:09.932 [DBG] Login button clicked
2025-04-18 18:11:09.933 [ERR] Error during login for user admin
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:11:09.934 [ERR] Error during login attempt
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:11:10.684 [DBG] Cancel button clicked
2025-04-18 18:11:10.690 [INF] Login dialog canceled or closed without login
2025-04-18 18:11:11.956 [DBG] Login button clicked
2025-04-18 18:11:11.956 [DBG] Initializing LoginWindow
2025-04-18 18:11:11.959 [INF] LoginWindow initialized successfully
2025-04-18 18:11:20.421 [DBG] Login button clicked
2025-04-18 18:11:20.422 [ERR] Error during login for user admin
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:11:20.422 [ERR] Error during login attempt
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:12:58.927 [DBG] Cancel button clicked
2025-04-18 18:12:58.931 [INF] Login dialog canceled or closed without login
2025-04-18 18:13:00.287 [DBG] Documents button clicked
2025-04-18 18:13:00.288 [DBG] Initializing DocumentsListView
2025-04-18 18:13:00.322 [INF] DocumentsListView initialized successfully
2025-04-18 18:13:00.322 [INF] Documents list view shown
2025-04-18 18:13:00.344 [DBG] Loading documents
2025-04-18 18:13:00.405 [DBG] Populating filter dropdowns
2025-04-18 18:13:00.408 [ERR] Error populating filter dropdowns
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.PopulateFilterDropdowns() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 220
2025-04-18 18:13:01.709 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 18:13:01.711 [INF] Documents loaded successfully. Total count: 30
2025-04-18 18:13:02.471 [DBG] Requests button clicked
2025-04-18 18:13:02.474 [DBG] Status filter changed to: All Requests
2025-04-18 18:13:02.475 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 18:13:02.475 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 18:13:02.477 [INF] RequestsListView initialized successfully
2025-04-18 18:13:02.477 [INF] Requests list view shown
2025-04-18 18:13:02.527 [ERR] Error retrieving all document requests
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.DocumentRequestRepository.GetAllWithDetailsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\DocumentRequestRepository.cs:line 42
   at CivilRegistryApp.Modules.Requests.RequestService.GetAllRequestsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\RequestService.cs:line 29
2025-04-18 18:13:02.530 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 18:13:02.530 [INF] Loaded 0 document requests
2025-04-18 18:13:04.119 [DBG] Documents button clicked
2025-04-18 18:13:04.119 [DBG] Initializing DocumentsListView
2025-04-18 18:13:04.124 [INF] DocumentsListView initialized successfully
2025-04-18 18:13:04.124 [INF] Documents list view shown
2025-04-18 18:13:04.132 [DBG] Loading documents
2025-04-18 18:13:04.134 [DBG] Populating filter dropdowns
2025-04-18 18:13:04.135 [ERR] Error populating filter dropdowns
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.PopulateFilterDropdowns() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 220
2025-04-18 18:13:05.051 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 18:13:05.052 [INF] Documents loaded successfully. Total count: 30
2025-04-18 18:13:05.984 [DBG] Dashboard button clicked
2025-04-18 18:13:05.984 [DBG] Initializing DashboardView
2025-04-18 18:13:05.999 [INF] DashboardView initialized successfully
2025-04-18 18:13:05.999 [INF] Dashboard view loaded
2025-04-18 18:13:05.999 [INF] Dashboard view shown from button click
2025-04-18 18:13:06.012 [DBG] DashboardView loaded, refreshing data
2025-04-18 18:13:06.012 [DBG] Refreshing dashboard data
2025-04-18 18:13:06.013 [DBG] Updating dashboard statistics
2025-04-18 18:13:06.014 [ERR] Error retrieving all document requests
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.DocumentRequestRepository.GetAllWithDetailsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\DocumentRequestRepository.cs:line 42
   at CivilRegistryApp.Modules.Requests.RequestService.GetAllRequestsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\RequestService.cs:line 29
2025-04-18 18:13:06.015 [INF] Dashboard statistics updated successfully
2025-04-18 18:13:06.015 [DBG] Updating dashboard charts
2025-04-18 18:13:06.017 [DBG] Updating Documents by Type chart
2025-04-18 18:13:06.020 [INF] Documents by Type chart updated successfully
2025-04-18 18:13:06.022 [DBG] Updating Monthly Documents chart
2025-04-18 18:13:06.024 [INF] Monthly Documents chart updated successfully
2025-04-18 18:13:06.024 [INF] Dashboard charts updated successfully
2025-04-18 18:13:06.025 [DBG] Updating activity feed
2025-04-18 18:13:06.027 [ERR] Error retrieving all document requests
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.DocumentRequestRepository.GetAllWithDetailsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\DocumentRequestRepository.cs:line 42
   at CivilRegistryApp.Modules.Requests.RequestService.GetAllRequestsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\RequestService.cs:line 29
2025-04-18 18:13:06.029 [INF] Activity feed updated successfully with 5 items
2025-04-18 18:13:06.029 [INF] Dashboard data refreshed successfully
2025-04-18 18:13:07.808 [DBG] Documents button clicked
2025-04-18 18:13:07.808 [DBG] Initializing DocumentsListView
2025-04-18 18:13:07.812 [INF] DocumentsListView initialized successfully
2025-04-18 18:13:07.813 [INF] Documents list view shown
2025-04-18 18:13:07.821 [DBG] Loading documents
2025-04-18 18:13:07.821 [DBG] Populating filter dropdowns
2025-04-18 18:13:07.822 [ERR] Error populating filter dropdowns
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.PopulateFilterDropdowns() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 220
2025-04-18 18:13:09.331 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 18:13:09.332 [INF] Documents loaded successfully. Total count: 30
2025-04-18 18:13:12.592 [DBG] Documents button clicked
2025-04-18 18:13:12.592 [DBG] Initializing DocumentsListView
2025-04-18 18:13:12.604 [INF] DocumentsListView initialized successfully
2025-04-18 18:13:12.604 [INF] Documents list view shown
2025-04-18 18:13:12.633 [DBG] Loading documents
2025-04-18 18:13:12.634 [DBG] Populating filter dropdowns
2025-04-18 18:13:12.634 [ERR] Error populating filter dropdowns
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Documents.Views.DocumentsListView.PopulateFilterDropdowns() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Documents\Views\DocumentsListView.xaml.cs:line 220
2025-04-18 18:13:13.700 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 18:13:13.700 [INF] Documents loaded successfully. Total count: 30
2025-04-18 18:13:14.361 [DBG] Requests button clicked
2025-04-18 18:13:14.362 [DBG] Status filter changed to: All Requests
2025-04-18 18:13:14.362 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 18:13:14.362 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 18:13:14.363 [INF] RequestsListView initialized successfully
2025-04-18 18:13:14.363 [INF] Requests list view shown
2025-04-18 18:13:14.372 [ERR] Error retrieving all document requests
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.CanAddDocuments'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.DocumentRequestRepository.GetAllWithDetailsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\DocumentRequestRepository.cs:line 42
   at CivilRegistryApp.Modules.Requests.RequestService.GetAllRequestsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\RequestService.cs:line 29
2025-04-18 18:13:14.373 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=0
2025-04-18 18:13:14.373 [INF] Loaded 0 document requests
2025-04-18 18:13:17.105 [INF] MainWindow closing
2025-04-18 18:13:17.114 [INF] Application shutting down
2025-04-18 18:16:42.847 [INF] Logging initialized
2025-04-18 18:16:42.907 [INF] Application starting up
2025-04-18 18:16:42.910 [INF] Starting application diagnostics
2025-04-18 18:16:42.936 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-181642.txt
2025-04-18 18:16:43.022 [INF] Ensuring database is created
2025-04-18 18:16:43.358 [INF] Database created or already exists
2025-04-18 18:16:43.358 [INF] Checking for database schema updates
2025-04-18 18:16:43.505 [INF] Database schema needs to be updated to add permission columns
2025-04-18 18:16:44.134 [ERR] Error adding missing columns to database
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.Department'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 61
2025-04-18 18:16:44.143 [ERR] An error occurred while initializing the database
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.Department'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 61
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 21
2025-04-18 18:16:44.144 [ERR] Error creating database
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.Department'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 61
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 21
   at CivilRegistryApp.App.EnsureDatabaseCreatedAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 86
2025-04-18 18:16:44.147 [FTL] Unhandled exception in Application Startup
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.Department'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 61
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 21
   at CivilRegistryApp.App.EnsureDatabaseCreatedAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 86
   at CivilRegistryApp.App.OnStartup(StartupEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 60
2025-04-18 18:16:51.609 [INF] Application shutting down
2025-04-18 18:18:11.501 [INF] Logging initialized
2025-04-18 18:18:11.556 [INF] Application starting up
2025-04-18 18:18:11.558 [INF] Starting application diagnostics
2025-04-18 18:18:11.584 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-181811.txt
2025-04-18 18:18:11.671 [INF] Ensuring database is created
2025-04-18 18:18:12.005 [INF] Database created or already exists
2025-04-18 18:18:12.005 [INF] Checking for database schema updates
2025-04-18 18:18:12.122 [INF] Added missing column Email to Users table
2025-04-18 18:18:12.200 [INF] Added missing column PhoneNumber to Users table
2025-04-18 18:18:12.277 [INF] Added missing column Position to Users table
2025-04-18 18:18:12.355 [INF] Added missing column Department to Users table
2025-04-18 18:18:12.444 [INF] Added missing column ProfilePicturePath to Users table
2025-04-18 18:18:12.533 [INF] Added missing column LastLoginAt to Users table
2025-04-18 18:18:12.644 [INF] Added missing column LastPasswordChangeAt to Users table
2025-04-18 18:18:12.732 [INF] Added missing column LastUpdatedAt to Users table
2025-04-18 18:18:12.872 [ERR] Error adding missing columns to database
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.IsActive'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 99
2025-04-18 18:18:12.880 [ERR] An error occurred while initializing the database
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.IsActive'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 99
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 22
2025-04-18 18:18:12.882 [ERR] Error creating database
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.IsActive'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 99
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 22
   at CivilRegistryApp.App.EnsureDatabaseCreatedAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 86
2025-04-18 18:18:12.885 [FTL] Unhandled exception in Application Startup
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.IsActive'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 99
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 22
   at CivilRegistryApp.App.EnsureDatabaseCreatedAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 86
   at CivilRegistryApp.App.OnStartup(StartupEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 60
2025-04-18 18:18:15.360 [INF] Application shutting down
2025-04-18 18:19:50.063 [INF] Logging initialized
2025-04-18 18:19:50.123 [INF] Application starting up
2025-04-18 18:19:50.127 [INF] Starting application diagnostics
2025-04-18 18:19:50.203 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-181950.txt
2025-04-18 18:19:50.289 [INF] Ensuring database is created
2025-04-18 18:19:50.626 [INF] Database created or already exists
2025-04-18 18:19:50.626 [INF] Checking for database schema updates
2025-04-18 18:19:50.627 [INF] Database exists. Checking for schema updates.
2025-04-18 18:19:50.857 [INF] Added missing column IsActive to Users table
2025-04-18 18:19:51.011 [ERR] Error adding missing columns to database
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method14(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 124
2025-04-18 18:19:51.018 [ERR] An error occurred while initializing the database
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method14(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 124
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 32
2025-04-18 18:19:51.018 [ERR] Error creating database
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method14(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 124
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 32
   at CivilRegistryApp.App.EnsureDatabaseCreatedAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 86
2025-04-18 18:19:51.021 [FTL] Unhandled exception in Application Startup
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method14(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.DatabaseInitializer.AddMissingColumnsAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 124
   at CivilRegistryApp.Data.DatabaseInitializer.InitializeAsync(AppDbContext context) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\DatabaseInitializer.cs:line 32
   at CivilRegistryApp.App.EnsureDatabaseCreatedAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 86
   at CivilRegistryApp.App.OnStartup(StartupEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 60
2025-04-18 18:19:58.026 [INF] Application shutting down
2025-04-18 18:25:34.306 [INF] Logging initialized
2025-04-18 18:25:34.365 [INF] Application starting up
2025-04-18 18:25:34.368 [INF] Starting application diagnostics
2025-04-18 18:25:34.450 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-182534.txt
2025-04-18 18:25:34.538 [INF] Ensuring database is created
2025-04-18 18:25:34.890 [INF] Database created or already exists
2025-04-18 18:25:34.890 [INF] Checking for database schema updates
2025-04-18 18:25:34.892 [INF] Database exists. Checking for schema updates.
2025-04-18 18:25:34.893 [INF] Database schema is up to date
2025-04-18 18:25:34.893 [INF] Starting database seeding
2025-04-18 18:25:34.896 [INF] Checking if document seeding is required...
2025-04-18 18:25:35.033 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 18:25:35.034 [INF] Checking if request seeding is required...
2025-04-18 18:25:35.037 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 18:25:35.037 [INF] Database seeding completed
2025-04-18 18:25:35.064 [DBG] Initializing MainWindow
2025-04-18 18:25:35.153 [DBG] Updating UI based on authentication state
2025-04-18 18:25:35.153 [DBG] UI updated for non-authenticated state
2025-04-18 18:25:35.153 [INF] MainWindow initialized successfully
2025-04-18 18:25:35.255 [INF] MainWindow loaded
2025-04-18 18:25:35.262 [INF] Application started successfully
2025-04-18 18:25:37.524 [DBG] Login button clicked
2025-04-18 18:25:37.524 [DBG] Initializing LoginWindow
2025-04-18 18:25:37.553 [INF] LoginWindow initialized successfully
2025-04-18 18:25:43.435 [DBG] Login button clicked
2025-04-18 18:25:43.493 [ERR] Error during login for user admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method26(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
2025-04-18 18:25:43.500 [ERR] Error during login attempt
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method26(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 17
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 31
   at CivilRegistryApp.Modules.Auth.Views.LoginWindow.LoginButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\LoginWindow.xaml.cs:line 85
2025-04-18 18:26:17.184 [DBG] Cancel button clicked
2025-04-18 18:26:17.190 [INF] Login dialog canceled or closed without login
2025-04-18 18:26:19.151 [INF] MainWindow closing
2025-04-18 18:26:19.162 [INF] Application shutting down
2025-04-18 18:27:51.374 [INF] Logging initialized
2025-04-18 18:27:51.429 [INF] Application starting up
2025-04-18 18:27:51.432 [INF] Starting application diagnostics
2025-04-18 18:27:51.473 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-182751.txt
2025-04-18 18:27:51.561 [INF] Ensuring database is created
2025-04-18 18:27:51.923 [INF] Database created or already exists
2025-04-18 18:27:51.923 [INF] Checking for database schema updates
2025-04-18 18:27:51.924 [INF] Database exists. Checking for schema updates.
2025-04-18 18:27:51.926 [INF] Database schema is up to date
2025-04-18 18:27:51.926 [INF] Starting database seeding
2025-04-18 18:27:51.929 [INF] Checking if document seeding is required...
2025-04-18 18:27:52.067 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 18:27:52.067 [INF] Checking if request seeding is required...
2025-04-18 18:27:52.070 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 18:27:52.070 [INF] Database seeding completed
2025-04-18 18:27:52.097 [DBG] Initializing MainWindow
2025-04-18 18:27:52.184 [DBG] Updating UI based on authentication state
2025-04-18 18:27:52.184 [DBG] UI updated for non-authenticated state
2025-04-18 18:27:52.184 [INF] MainWindow initialized successfully
2025-04-18 18:27:52.284 [INF] MainWindow loaded
2025-04-18 18:27:52.290 [INF] Application started successfully
2025-04-18 18:27:54.025 [DBG] Login button clicked
2025-04-18 18:27:54.025 [DBG] Initializing LoginWindow
2025-04-18 18:27:54.056 [INF] LoginWindow initialized successfully
2025-04-18 18:27:59.515 [DBG] Login button clicked
2025-04-18 18:27:59.617 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:27:59.623 [INF] Login failed: User admin not found
2025-04-18 18:27:59.623 [WRN] Login failed for user admin
2025-04-18 18:28:07.010 [DBG] Login button clicked
2025-04-18 18:28:07.013 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:28:07.013 [INF] Login failed: User admin not found
2025-04-18 18:28:07.013 [WRN] Login failed for user admin
2025-04-18 18:28:08.299 [DBG] Login button clicked
2025-04-18 18:28:12.731 [DBG] Login button clicked
2025-04-18 18:28:12.732 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:28:12.732 [INF] Login failed: User admin not found
2025-04-18 18:28:12.732 [WRN] Login failed for user admin
2025-04-18 18:28:17.932 [DBG] Cancel button clicked
2025-04-18 18:28:17.938 [INF] Login dialog canceled or closed without login
2025-04-18 18:28:29.284 [INF] MainWindow closing
2025-04-18 18:28:29.291 [INF] Application shutting down
2025-04-18 18:29:28.176 [INF] Logging initialized
2025-04-18 18:29:28.234 [INF] Application starting up
2025-04-18 18:29:28.236 [INF] Starting application diagnostics
2025-04-18 18:29:28.263 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-182928.txt
2025-04-18 18:29:28.349 [INF] Ensuring database is created
2025-04-18 18:29:28.696 [INF] Database created or already exists
2025-04-18 18:29:28.696 [INF] Checking for database schema updates
2025-04-18 18:29:28.697 [INF] Database exists. Checking for schema updates.
2025-04-18 18:29:28.699 [INF] Database schema is up to date
2025-04-18 18:29:28.699 [INF] Starting database seeding
2025-04-18 18:29:28.702 [INF] Checking if document seeding is required...
2025-04-18 18:29:28.841 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 18:29:28.842 [INF] Checking if request seeding is required...
2025-04-18 18:29:28.845 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 18:29:28.845 [INF] Database seeding completed
2025-04-18 18:29:28.874 [DBG] Initializing MainWindow
2025-04-18 18:29:28.967 [DBG] Updating UI based on authentication state
2025-04-18 18:29:28.967 [DBG] UI updated for non-authenticated state
2025-04-18 18:29:28.967 [INF] MainWindow initialized successfully
2025-04-18 18:29:29.069 [INF] MainWindow loaded
2025-04-18 18:29:29.075 [INF] Application started successfully
2025-04-18 18:29:30.379 [DBG] Login button clicked
2025-04-18 18:29:30.379 [DBG] Initializing LoginWindow
2025-04-18 18:29:30.407 [INF] LoginWindow initialized successfully
2025-04-18 18:29:34.675 [DBG] Login button clicked
2025-04-18 18:29:34.727 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:29:34.734 [INF] Login failed: User admin not found
2025-04-18 18:29:34.734 [WRN] Login failed for user admin
2025-04-18 18:29:38.483 [DBG] Cancel button clicked
2025-04-18 18:29:38.488 [INF] Login dialog canceled or closed without login
2025-04-18 18:29:39.507 [INF] MainWindow closing
2025-04-18 18:29:39.516 [INF] Application shutting down
2025-04-18 18:33:35.807 [INF] Logging initialized
2025-04-18 18:33:35.864 [INF] Application starting up
2025-04-18 18:33:35.866 [INF] Starting application diagnostics
2025-04-18 18:33:35.893 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-183335.txt
2025-04-18 18:33:35.980 [INF] Ensuring database is created
2025-04-18 18:33:36.319 [INF] Database created or already exists
2025-04-18 18:33:36.319 [INF] Checking for database schema updates
2025-04-18 18:33:36.320 [INF] Database exists. Checking for schema updates.
2025-04-18 18:33:36.321 [INF] Database schema is up to date
2025-04-18 18:33:36.322 [INF] Starting database seeding
2025-04-18 18:33:36.325 [INF] Checking if document seeding is required...
2025-04-18 18:33:36.472 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 18:33:36.473 [INF] Checking if request seeding is required...
2025-04-18 18:33:36.475 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 18:33:36.475 [INF] Database seeding completed
2025-04-18 18:33:36.502 [DBG] Initializing MainWindow
2025-04-18 18:33:36.585 [DBG] Updating UI based on authentication state
2025-04-18 18:33:36.585 [DBG] UI updated for non-authenticated state
2025-04-18 18:33:36.585 [INF] MainWindow initialized successfully
2025-04-18 18:33:36.683 [INF] MainWindow loaded
2025-04-18 18:33:36.689 [INF] Application started successfully
2025-04-18 18:33:37.949 [DBG] Login button clicked
2025-04-18 18:33:37.949 [DBG] Initializing LoginWindow
2025-04-18 18:33:37.977 [INF] LoginWindow initialized successfully
2025-04-18 18:33:44.901 [DBG] Login button clicked
2025-04-18 18:33:44.952 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:33:44.958 [INF] Login failed: User admin not found
2025-04-18 18:33:44.958 [WRN] Login failed for user admin
2025-04-18 18:33:52.866 [INF] Login dialog canceled or closed without login
2025-04-18 18:35:44.146 [INF] Logging initialized
2025-04-18 18:35:44.202 [INF] Application starting up
2025-04-18 18:35:44.204 [INF] Starting application diagnostics
2025-04-18 18:35:44.230 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-183544.txt
2025-04-18 18:35:44.318 [INF] Ensuring database is created
2025-04-18 18:35:44.651 [INF] Database created or already exists
2025-04-18 18:35:44.651 [INF] Checking for database schema updates
2025-04-18 18:35:44.653 [INF] Database exists. Checking for schema updates.
2025-04-18 18:35:44.654 [INF] Database schema is up to date
2025-04-18 18:35:44.655 [INF] Starting database seeding
2025-04-18 18:35:44.657 [INF] Checking if document seeding is required...
2025-04-18 18:35:44.800 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 18:35:44.801 [INF] Checking if request seeding is required...
2025-04-18 18:35:44.804 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 18:35:44.804 [INF] Database seeding completed
2025-04-18 18:35:44.831 [DBG] Initializing MainWindow
2025-04-18 18:35:44.916 [DBG] Updating UI based on authentication state
2025-04-18 18:35:44.916 [DBG] UI updated for non-authenticated state
2025-04-18 18:35:44.916 [INF] MainWindow initialized successfully
2025-04-18 18:35:45.015 [INF] MainWindow loaded
2025-04-18 18:35:45.020 [INF] Application started successfully
2025-04-18 18:35:46.337 [DBG] Login button clicked
2025-04-18 18:35:46.337 [DBG] Initializing LoginWindow
2025-04-18 18:35:46.367 [INF] LoginWindow initialized successfully
2025-04-18 18:35:50.826 [DBG] Login button clicked
2025-04-18 18:35:50.878 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:35:50.884 [INF] Admin user not found. Creating default admin user.
2025-04-18 18:35:51.456 [ERR] Error creating default admin user
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Users.Username'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.SaveChangesAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 56
   at CivilRegistryApp.Modules.Auth.AuthenticationService.CreateDefaultAdminUser() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 144
2025-04-18 18:35:51.461 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:35:51.461 [ERR] Failed to create admin user.
2025-04-18 18:35:51.461 [WRN] Login failed for user admin
2025-04-18 18:35:58.303 [INF] Login dialog canceled or closed without login
2025-04-18 18:36:16.220 [DBG] Login button clicked
2025-04-18 18:36:16.220 [DBG] Initializing LoginWindow
2025-04-18 18:36:16.222 [INF] LoginWindow initialized successfully
2025-04-18 18:36:20.652 [DBG] Login button clicked
2025-04-18 18:36:20.653 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:36:20.653 [INF] Admin user not found. Creating default admin user.
2025-04-18 18:36:20.936 [ERR] Error creating default admin user
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Users.Username'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.SaveChangesAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 56
   at CivilRegistryApp.Modules.Auth.AuthenticationService.CreateDefaultAdminUser() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 144
2025-04-18 18:36:20.938 [ERR] Error retrieving user by username admin
System.InvalidOperationException: The data is NULL at ordinal 8. This method can't be called on NULL values. Check using IsDBNull before calling.
   at Microsoft.Data.Sqlite.SqliteValueReader.GetString(Int32 ordinal)
   at Microsoft.Data.Sqlite.SqliteDataReader.GetString(Int32 ordinal)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.UserRepository.GetByUsernameAsync(String username) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\UserRepository.cs:line 20
2025-04-18 18:36:20.938 [ERR] Failed to create admin user.
2025-04-18 18:36:20.938 [WRN] Login failed for user admin
2025-04-18 18:36:42.470 [DBG] Cancel button clicked
2025-04-18 18:36:42.475 [INF] Login dialog canceled or closed without login
2025-04-18 18:37:26.800 [INF] Logging initialized
2025-04-18 18:37:26.856 [INF] Application starting up
2025-04-18 18:37:26.859 [INF] Starting application diagnostics
2025-04-18 18:37:26.884 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-183726.txt
2025-04-18 18:37:26.970 [INF] Ensuring database is created
2025-04-18 18:37:27.653 [INF] Database created or already exists
2025-04-18 18:37:27.653 [INF] Checking for database schema updates
2025-04-18 18:37:27.655 [INF] Database exists. Checking for schema updates.
2025-04-18 18:37:27.657 [INF] Database schema is up to date
2025-04-18 18:37:27.657 [INF] Starting database seeding
2025-04-18 18:37:27.660 [INF] Checking if document seeding is required...
2025-04-18 18:37:27.763 [INF] No documents found in database. Starting document seeding...
2025-04-18 18:37:27.803 [WRN] No admin user found for document seeding. Creating a default admin user.
2025-04-18 18:37:28.173 [FTL] Unhandled exception in SeedData.SeedDocumentsAsync
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.SeedData.SeedDocumentsAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\SeedData.cs:line 43
2025-04-18 18:37:28.182 [ERR] Error seeding documents
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.SeedData.SeedDocumentsAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\SeedData.cs:line 43
2025-04-18 18:37:28.184 [INF] Checking if request seeding is required...
2025-04-18 18:37:28.187 [INF] No requests found in database. Starting request seeding...
2025-04-18 18:37:28.191 [WRN] No admin user found for request seeding. Skipping request seeding.
2025-04-18 18:37:28.191 [INF] Database seeding completed
2025-04-18 18:37:28.250 [DBG] Initializing MainWindow
2025-04-18 18:37:28.333 [DBG] Updating UI based on authentication state
2025-04-18 18:37:28.333 [DBG] UI updated for non-authenticated state
2025-04-18 18:37:28.333 [INF] MainWindow initialized successfully
2025-04-18 18:37:28.434 [INF] MainWindow loaded
2025-04-18 18:37:28.439 [INF] Application started successfully
2025-04-18 18:37:32.388 [DBG] Login button clicked
2025-04-18 18:37:32.388 [DBG] Initializing LoginWindow
2025-04-18 18:37:32.415 [INF] First run detected - no users in database
2025-04-18 18:37:32.416 [INF] LoginWindow initialized successfully
2025-04-18 18:37:34.660 [DBG] Create admin button clicked
2025-04-18 18:37:34.660 [DBG] Initializing RegistrationWindow
2025-04-18 18:37:34.672 [INF] RegistrationWindow initialized successfully
2025-04-18 18:37:49.591 [DBG] Register button clicked
2025-04-18 18:37:49.719 [ERR] Error during registration for user admin
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.SaveChangesAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 56
   at CivilRegistryApp.Modules.Auth.AuthenticationService.RegisterAsync(String username, String password, String fullName, String role, String email, String phoneNumber, String position, String department) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 198
2025-04-18 18:37:49.720 [ERR] Error during user registration
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.Repository`1.SaveChangesAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 56
   at CivilRegistryApp.Modules.Auth.AuthenticationService.RegisterAsync(String username, String password, String fullName, String role, String email, String phoneNumber, String position, String department) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 198
   at CivilRegistryApp.Modules.Auth.Views.RegistrationWindow.RegisterButton_Click(Object sender, RoutedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\Views\RegistrationWindow.xaml.cs:line 95
2025-04-18 18:38:28.153 [DBG] Cancel button clicked
2025-04-18 18:38:30.089 [DBG] Cancel button clicked
2025-04-18 18:38:30.093 [INF] Login dialog canceled or closed without login
2025-04-18 18:38:31.161 [INF] MainWindow closing
2025-04-18 18:38:31.171 [INF] Application shutting down
2025-04-18 18:40:50.788 [INF] Logging initialized
2025-04-18 18:40:50.845 [INF] Application starting up
2025-04-18 18:40:50.848 [INF] Starting application diagnostics
2025-04-18 18:40:50.877 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-184050.txt
2025-04-18 18:40:50.963 [INF] Ensuring database is created
2025-04-18 18:40:51.298 [INF] Database created or already exists
2025-04-18 18:40:51.298 [INF] Checking for database schema updates
2025-04-18 18:40:51.299 [INF] Database exists. Checking for schema updates.
2025-04-18 18:40:51.302 [INF] Database schema is up to date
2025-04-18 18:40:51.302 [INF] Starting database seeding
2025-04-18 18:40:51.306 [INF] Checking if document seeding is required...
2025-04-18 18:40:51.440 [INF] No documents found in database. Starting document seeding...
2025-04-18 18:40:51.481 [WRN] No admin user found for document seeding. Creating a default admin user.
2025-04-18 18:40:51.829 [FTL] Unhandled exception in SeedData.SeedDocumentsAsync
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.SeedData.SeedDocumentsAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\SeedData.cs:line 43
2025-04-18 18:40:51.841 [ERR] Error seeding documents
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.SeedData.SeedDocumentsAsync(AppDbContext dbContext) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\SeedData.cs:line 43
2025-04-18 18:40:51.843 [INF] Checking if request seeding is required...
2025-04-18 18:40:51.845 [INF] No requests found in database. Starting request seeding...
2025-04-18 18:40:51.847 [WRN] No admin user found for request seeding. Skipping request seeding.
2025-04-18 18:40:51.847 [INF] Database seeding completed
2025-04-18 18:40:51.873 [DBG] Initializing MainWindow
2025-04-18 18:40:51.953 [DBG] Updating UI based on authentication state
2025-04-18 18:40:51.953 [DBG] UI updated for non-authenticated state
2025-04-18 18:40:51.953 [INF] MainWindow initialized successfully
2025-04-18 18:40:52.053 [INF] MainWindow loaded
2025-04-18 18:40:52.059 [INF] Application started successfully
2025-04-18 18:40:53.289 [DBG] Login button clicked
2025-04-18 18:40:53.289 [DBG] Initializing LoginWindow
2025-04-18 18:40:53.323 [INF] First run detected - no users in database
2025-04-18 18:40:53.323 [INF] LoginWindow initialized successfully
2025-04-18 18:40:54.360 [DBG] Create admin button clicked
2025-04-18 18:40:54.361 [DBG] Initializing RegistrationWindow
2025-04-18 18:40:54.374 [INF] RegistrationWindow initialized successfully
2025-04-18 18:41:06.259 [DBG] Register button clicked
2025-04-18 18:41:06.622 [INF] Default admin user created successfully
2025-04-18 18:41:06.623 [INF] User admin registered successfully with role Admin
2025-04-18 18:41:06.628 [INF] Admin user created successfully
2025-04-18 18:41:13.586 [DBG] Login button clicked
2025-04-18 18:41:13.739 [ERR] Error during login for user admin
System.InvalidOperationException: The instance of entity type 'User' cannot be tracked because another instance with the same key value for {'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Attach(TEntity entity)
   at CivilRegistryApp.Data.Repositories.Repository`1.UpdateAsync(T entity) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 43
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 56
2025-04-18 18:41:13.739 [WRN] Login failed for user admin
2025-04-18 18:41:18.539 [DBG] Login button clicked
2025-04-18 18:41:18.646 [ERR] Error during login for user admin
System.InvalidOperationException: The instance of entity type 'User' cannot be tracked because another instance with the same key value for {'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Attach(TEntity entity)
   at CivilRegistryApp.Data.Repositories.Repository`1.UpdateAsync(T entity) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\Repository.cs:line 43
   at CivilRegistryApp.Modules.Auth.AuthenticationService.LoginAsync(String username, String password) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\AuthenticationService.cs:line 56
2025-04-18 18:41:18.646 [WRN] Login failed for user admin
2025-04-18 18:41:19.587 [DBG] Login button clicked
2025-04-18 18:41:23.483 [DBG] Login button clicked
2025-04-18 18:43:09.708 [INF] Logging initialized
2025-04-18 18:43:09.763 [INF] Application starting up
2025-04-18 18:43:09.766 [INF] Starting application diagnostics
2025-04-18 18:43:09.792 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-184309.txt
2025-04-18 18:43:09.881 [INF] Ensuring database is created
2025-04-18 18:43:10.221 [INF] Database created or already exists
2025-04-18 18:43:10.221 [INF] Checking for database schema updates
2025-04-18 18:43:10.223 [INF] Database exists. Checking for schema updates.
2025-04-18 18:43:10.224 [INF] Database schema is up to date
2025-04-18 18:43:10.225 [INF] Starting database seeding
2025-04-18 18:43:10.228 [INF] Checking if document seeding is required...
2025-04-18 18:43:10.364 [INF] No documents found in database. Starting document seeding...
2025-04-18 18:43:10.710 [INF] Successfully seeded 30 documents
2025-04-18 18:43:10.711 [INF] Checking if request seeding is required...
2025-04-18 18:43:10.714 [INF] No requests found in database. Starting request seeding...
2025-04-18 18:43:10.837 [INF] Successfully seeded 15 requests
2025-04-18 18:43:10.837 [INF] Database seeding completed
2025-04-18 18:43:10.864 [DBG] Initializing MainWindow
2025-04-18 18:43:10.938 [DBG] Updating UI based on authentication state
2025-04-18 18:43:10.938 [DBG] UI updated for non-authenticated state
2025-04-18 18:43:10.938 [INF] MainWindow initialized successfully
2025-04-18 18:43:11.039 [INF] MainWindow loaded
2025-04-18 18:43:11.044 [INF] Application started successfully
2025-04-18 18:43:12.406 [DBG] Login button clicked
2025-04-18 18:43:12.407 [DBG] Initializing LoginWindow
2025-04-18 18:43:12.438 [INF] LoginWindow initialized successfully
2025-04-18 18:43:17.919 [DBG] Login button clicked
2025-04-18 18:43:18.470 [INF] Admin user logged in successfully
2025-04-18 18:43:18.470 [INF] User admin logged in successfully
2025-04-18 18:43:18.475 [DBG] Updating UI based on authentication state
2025-04-18 18:43:18.475 [DBG] UI updated for logged-in user: admin
2025-04-18 18:43:18.475 [DBG] Initializing DashboardView
2025-04-18 18:43:18.497 [INF] DashboardView initialized successfully
2025-04-18 18:43:18.497 [INF] Dashboard view loaded
2025-04-18 18:43:18.497 [INF] User logged in successfully through login dialog
2025-04-18 18:43:18.510 [DBG] DashboardView loaded, refreshing data
2025-04-18 18:43:18.511 [DBG] Refreshing dashboard data
2025-04-18 18:43:18.512 [DBG] Updating dashboard statistics
2025-04-18 18:43:18.552 [INF] Dashboard statistics updated successfully
2025-04-18 18:43:18.553 [DBG] Updating dashboard charts
2025-04-18 18:43:18.555 [DBG] Updating Documents by Type chart
2025-04-18 18:43:18.559 [INF] Documents by Type chart updated successfully
2025-04-18 18:43:18.561 [DBG] Updating Monthly Documents chart
2025-04-18 18:43:18.563 [INF] Monthly Documents chart updated successfully
2025-04-18 18:43:18.563 [INF] Dashboard charts updated successfully
2025-04-18 18:43:18.564 [DBG] Updating activity feed
2025-04-18 18:43:18.568 [INF] Activity feed updated successfully with 10 items
2025-04-18 18:43:18.568 [INF] Dashboard data refreshed successfully
2025-04-18 18:43:23.848 [DBG] Profile button clicked
2025-04-18 18:43:23.881 [ERR] Error logging user activity: UserProfile, Opened user profile
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 18:43:23.907 [DBG] Loaded profile data for user admin
2025-04-18 18:43:23.909 [ERR] Error logging user activity: UserProfile, Viewed user profile
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 18:43:43.294 [INF] User profile window closed
2025-04-18 18:43:50.035 [DBG] Activity Log button clicked
2025-04-18 18:43:50.054 [ERR] Error logging user activity: Admin, Accessed activity logs
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 18:43:50.055 [INF] Activity log view shown
2025-04-18 18:43:50.097 [DBG] Populated activity type filter with 0 types
2025-04-18 18:43:50.101 [DBG] Populated user filter with 1 users
2025-04-18 18:43:50.113 [DBG] Applied filter. Showing 0 of 0 activities
2025-04-18 18:43:50.113 [INF] Loaded 0 activities
2025-04-18 18:43:50.115 [ERR] Error logging user activity: Admin, Viewed activity logs
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 18:43:53.634 [DBG] Database Utility button clicked
2025-04-18 18:43:53.635 [DBG] DatabaseUtilityWindow initialized
2025-04-18 18:43:54.829 [INF] Database Utility window closed
2025-04-18 18:43:55.547 [DBG] Documents button clicked
2025-04-18 18:43:55.547 [DBG] Initializing DocumentsListView
2025-04-18 18:43:55.554 [INF] DocumentsListView initialized successfully
2025-04-18 18:43:55.554 [INF] Documents list view shown
2025-04-18 18:43:55.563 [DBG] Loading documents
2025-04-18 18:43:55.565 [DBG] Populating filter dropdowns
2025-04-18 18:43:55.567 [INF] Filter dropdowns populated successfully
2025-04-18 18:43:55.568 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 18:43:55.569 [INF] Documents loaded successfully. Total count: 30
2025-04-18 18:43:56.722 [DBG] Requests button clicked
2025-04-18 18:43:56.724 [DBG] Status filter changed to: All Requests
2025-04-18 18:43:56.725 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 18:43:56.725 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 18:43:56.727 [INF] RequestsListView initialized successfully
2025-04-18 18:43:56.727 [INF] Requests list view shown
2025-04-18 18:43:56.739 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 18:43:56.739 [INF] Loaded 15 document requests
2025-04-18 18:43:57.818 [DBG] Dashboard button clicked
2025-04-18 18:43:57.818 [DBG] Initializing DashboardView
2025-04-18 18:43:57.820 [INF] DashboardView initialized successfully
2025-04-18 18:43:57.820 [INF] Dashboard view loaded
2025-04-18 18:43:57.820 [INF] Dashboard view shown from button click
2025-04-18 18:43:57.826 [DBG] DashboardView loaded, refreshing data
2025-04-18 18:43:57.826 [DBG] Refreshing dashboard data
2025-04-18 18:43:57.826 [DBG] Updating dashboard statistics
2025-04-18 18:43:57.826 [INF] Dashboard statistics updated successfully
2025-04-18 18:43:57.826 [DBG] Updating dashboard charts
2025-04-18 18:43:57.827 [DBG] Updating Documents by Type chart
2025-04-18 18:43:57.827 [INF] Documents by Type chart updated successfully
2025-04-18 18:43:57.827 [DBG] Updating Monthly Documents chart
2025-04-18 18:43:57.827 [INF] Monthly Documents chart updated successfully
2025-04-18 18:43:57.827 [INF] Dashboard charts updated successfully
2025-04-18 18:43:57.827 [DBG] Updating activity feed
2025-04-18 18:43:57.828 [INF] Activity feed updated successfully with 10 items
2025-04-18 18:43:57.828 [INF] Dashboard data refreshed successfully
2025-04-18 18:43:59.035 [DBG] Documents button clicked
2025-04-18 18:43:59.035 [DBG] Initializing DocumentsListView
2025-04-18 18:43:59.039 [INF] DocumentsListView initialized successfully
2025-04-18 18:43:59.039 [INF] Documents list view shown
2025-04-18 18:43:59.046 [DBG] Loading documents
2025-04-18 18:43:59.047 [DBG] Populating filter dropdowns
2025-04-18 18:43:59.048 [INF] Filter dropdowns populated successfully
2025-04-18 18:43:59.048 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 18:43:59.048 [INF] Documents loaded successfully. Total count: 30
2025-04-18 18:44:00.244 [INF] Viewing document details for document ID: 1
2025-04-18 18:44:00.244 [DBG] Initializing DocumentDetailsView for document ID: 1
2025-04-18 18:44:00.247 [DBG] Loading document details for document ID: 1
2025-04-18 18:44:00.247 [DBG] Getting document by ID: 1
2025-04-18 18:44:00.271 [INF] Retrieved document with ID: 1
2025-04-18 18:44:00.280 [INF] Document details loaded successfully for document ID: 1
2025-04-18 18:44:00.280 [INF] DocumentDetailsView initialized successfully
2025-04-18 18:44:02.100 [INF] Editing document with ID: 1
2025-04-18 18:44:02.100 [DBG] Initializing DocumentEditView for document ID: 1
2025-04-18 18:44:02.106 [DBG] Loading document details for document ID: 1
2025-04-18 18:44:02.106 [DBG] Getting document by ID: 1
2025-04-18 18:44:02.107 [INF] Retrieved document with ID: 1
2025-04-18 18:44:02.109 [INF] Document details loaded successfully for document ID: 1
2025-04-18 18:44:02.109 [INF] DocumentEditView initialized successfully
2025-04-18 18:44:06.668 [DBG] Filter applied. Filtered count: 30, Current page: 2, Total pages: 2
2025-04-18 18:44:06.668 [DBG] Navigated to next page: 2
2025-04-18 19:19:54.343 [INF] Logging initialized
2025-04-18 19:19:54.398 [INF] Application starting up
2025-04-18 19:19:54.401 [INF] Starting application diagnostics
2025-04-18 19:19:54.427 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-191954.txt
2025-04-18 19:19:54.835 [INF] Ensuring database is created
2025-04-18 19:19:54.887 [INF] Database created or already exists
2025-04-18 19:19:54.887 [INF] Checking for database schema updates
2025-04-18 19:19:54.888 [INF] Database exists. Checking for schema updates.
2025-04-18 19:19:54.890 [INF] Database schema is up to date
2025-04-18 19:19:54.890 [INF] Starting database seeding
2025-04-18 19:19:54.893 [INF] Checking if document seeding is required...
2025-04-18 19:19:55.032 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 19:19:55.033 [INF] Checking if request seeding is required...
2025-04-18 19:19:55.035 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 19:19:55.035 [INF] Database seeding completed
2025-04-18 19:19:55.246 [INF] Starting scheduler service
2025-04-18 19:19:55.253 [INF] Default Quartz.NET properties loaded from embedded resource file
2025-04-18 19:19:55.265 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-04-18 19:19:55.270 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-04-18 19:19:55.270 [INF] Quartz Scheduler created
2025-04-18 19:19:55.270 [INF] RAMJobStore initialized.
2025-04-18 19:19:55.270 [INF] Quartz Scheduler 3.14.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-04-18 19:19:55.271 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-04-18 19:19:55.271 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-04-18 19:19:55.273 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2025-04-18 19:19:55.274 [INF] Rescheduling all active reports
2025-04-18 19:19:55.274 [DBG] Batch acquisition of 0 triggers
2025-04-18 19:19:55.335 [ERR] Error rescheduling all reports
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
2025-04-18 19:19:55.343 [ERR] Error starting scheduler service
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
   at CivilRegistryApp.Modules.Reports.SchedulerService.StartAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 38
2025-04-18 19:19:55.345 [FTL] Unhandled exception in Application Startup
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
   at CivilRegistryApp.Modules.Reports.SchedulerService.StartAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 38
   at CivilRegistryApp.App.OnStartup(StartupEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 66
2025-04-18 19:20:00.759 [INF] Application shutting down
2025-04-18 19:20:00.760 [INF] Stopping scheduler service
2025-04-18 19:20:00.761 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-18 19:20:00.761 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2025-04-18 19:20:00.762 [DBG] Shutting down threadpool...
2025-04-18 19:20:00.762 [DBG] Shutdown of threadpool complete.
2025-04-18 19:20:00.764 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-04-18 19:20:00.764 [INF] Scheduler service stopped successfully
2025-04-18 19:20:00.764 [INF] Scheduler service stopped
2025-04-18 19:20:08.719 [INF] Logging initialized
2025-04-18 19:20:08.774 [INF] Application starting up
2025-04-18 19:20:08.777 [INF] Starting application diagnostics
2025-04-18 19:20:08.802 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-192008.txt
2025-04-18 19:20:09.205 [INF] Ensuring database is created
2025-04-18 19:20:09.258 [INF] Database created or already exists
2025-04-18 19:20:09.258 [INF] Checking for database schema updates
2025-04-18 19:20:09.259 [INF] Database exists. Checking for schema updates.
2025-04-18 19:20:09.260 [INF] Database schema is up to date
2025-04-18 19:20:09.261 [INF] Starting database seeding
2025-04-18 19:20:09.263 [INF] Checking if document seeding is required...
2025-04-18 19:20:09.402 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 19:20:09.403 [INF] Checking if request seeding is required...
2025-04-18 19:20:09.405 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 19:20:09.405 [INF] Database seeding completed
2025-04-18 19:20:09.408 [INF] Starting scheduler service
2025-04-18 19:20:09.415 [INF] Default Quartz.NET properties loaded from embedded resource file
2025-04-18 19:20:09.427 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-04-18 19:20:09.429 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-04-18 19:20:09.429 [INF] Quartz Scheduler created
2025-04-18 19:20:09.430 [INF] RAMJobStore initialized.
2025-04-18 19:20:09.430 [INF] Quartz Scheduler 3.14.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-04-18 19:20:09.430 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-04-18 19:20:09.430 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-04-18 19:20:09.432 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2025-04-18 19:20:09.433 [INF] Rescheduling all active reports
2025-04-18 19:20:09.433 [DBG] Batch acquisition of 0 triggers
2025-04-18 19:20:09.493 [ERR] Error rescheduling all reports
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
2025-04-18 19:20:09.501 [ERR] Error starting scheduler service
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
   at CivilRegistryApp.Modules.Reports.SchedulerService.StartAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 38
2025-04-18 19:20:09.502 [FTL] Unhandled exception in Application Startup
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
   at CivilRegistryApp.Modules.Reports.SchedulerService.StartAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 38
   at CivilRegistryApp.App.OnStartup(StartupEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 66
2025-04-18 19:20:12.801 [INF] Application shutting down
2025-04-18 19:20:12.801 [INF] Stopping scheduler service
2025-04-18 19:20:12.802 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-18 19:20:12.803 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2025-04-18 19:20:12.803 [DBG] Shutting down threadpool...
2025-04-18 19:20:12.803 [DBG] Shutdown of threadpool complete.
2025-04-18 19:20:12.804 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-04-18 19:20:12.804 [INF] Scheduler service stopped successfully
2025-04-18 19:20:12.804 [INF] Scheduler service stopped
2025-04-18 19:20:20.499 [INF] Logging initialized
2025-04-18 19:20:20.556 [INF] Application starting up
2025-04-18 19:20:20.559 [INF] Starting application diagnostics
2025-04-18 19:20:20.597 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-192020.txt
2025-04-18 19:20:21.006 [INF] Ensuring database is created
2025-04-18 19:20:21.059 [INF] Database created or already exists
2025-04-18 19:20:21.059 [INF] Checking for database schema updates
2025-04-18 19:20:21.060 [INF] Database exists. Checking for schema updates.
2025-04-18 19:20:21.062 [INF] Database schema is up to date
2025-04-18 19:20:21.062 [INF] Starting database seeding
2025-04-18 19:20:21.065 [INF] Checking if document seeding is required...
2025-04-18 19:20:21.206 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 19:20:21.207 [INF] Checking if request seeding is required...
2025-04-18 19:20:21.210 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 19:20:21.210 [INF] Database seeding completed
2025-04-18 19:20:21.212 [INF] Starting scheduler service
2025-04-18 19:20:21.219 [INF] Default Quartz.NET properties loaded from embedded resource file
2025-04-18 19:20:21.231 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-04-18 19:20:21.234 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-04-18 19:20:21.234 [INF] Quartz Scheduler created
2025-04-18 19:20:21.234 [INF] RAMJobStore initialized.
2025-04-18 19:20:21.234 [INF] Quartz Scheduler 3.14.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-04-18 19:20:21.234 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-04-18 19:20:21.235 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-04-18 19:20:21.237 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2025-04-18 19:20:21.238 [INF] Rescheduling all active reports
2025-04-18 19:20:21.238 [DBG] Batch acquisition of 0 triggers
2025-04-18 19:20:21.300 [ERR] Error rescheduling all reports
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
2025-04-18 19:20:21.309 [ERR] Error starting scheduler service
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
   at CivilRegistryApp.Modules.Reports.SchedulerService.StartAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 38
2025-04-18 19:20:21.310 [FTL] Unhandled exception in Application Startup
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: ScheduledReports'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CivilRegistryApp.Data.Repositories.ReportRepository.GetActiveScheduledReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Data\Repositories\ReportRepository.cs:line 18
   at CivilRegistryApp.Modules.Reports.SchedulerService.RescheduleAllReportsAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 134
   at CivilRegistryApp.Modules.Reports.SchedulerService.StartAsync() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\SchedulerService.cs:line 38
   at CivilRegistryApp.App.OnStartup(StartupEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\App.xaml.cs:line 66
2025-04-18 19:20:22.506 [INF] Application shutting down
2025-04-18 19:20:22.506 [INF] Stopping scheduler service
2025-04-18 19:20:22.507 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2025-04-18 19:20:22.508 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2025-04-18 19:20:22.509 [DBG] Shutting down threadpool...
2025-04-18 19:20:22.509 [DBG] Shutdown of threadpool complete.
2025-04-18 19:20:22.511 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-04-18 19:20:22.511 [INF] Scheduler service stopped successfully
2025-04-18 19:20:22.511 [INF] Scheduler service stopped
2025-04-18 19:23:13.260 [INF] Logging initialized
2025-04-18 19:23:13.320 [INF] Application starting up
2025-04-18 19:23:13.322 [INF] Starting application diagnostics
2025-04-18 19:23:13.348 [INF] Diagnostics completed and saved to E:\dev_apps\ai_apps\new_app\CivilRegistryApp\bin\Debug\net9.0-windows\Logs\diagnostics-20250418-192313.txt
2025-04-18 19:23:13.767 [INF] Ensuring database is created
2025-04-18 19:23:13.798 [INF] Database created or already exists
2025-04-18 19:23:13.798 [INF] Checking for database schema updates
2025-04-18 19:23:13.799 [INF] Database exists. Checking for schema updates.
2025-04-18 19:23:13.801 [INF] ScheduledReports table does not exist. Creating it now.
2025-04-18 19:23:13.932 [INF] ScheduledReports table created successfully.
2025-04-18 19:23:13.932 [INF] Database schema is up to date
2025-04-18 19:23:13.933 [INF] Starting database seeding
2025-04-18 19:23:13.935 [INF] Checking if document seeding is required...
2025-04-18 19:23:14.077 [INF] Documents already exist in database. Skipping document seeding.
2025-04-18 19:23:14.078 [INF] Checking if request seeding is required...
2025-04-18 19:23:14.080 [INF] Requests already exist in database. Skipping request seeding.
2025-04-18 19:23:14.080 [INF] Database seeding completed
2025-04-18 19:23:14.082 [INF] Starting scheduler service
2025-04-18 19:23:14.089 [INF] Default Quartz.NET properties loaded from embedded resource file
2025-04-18 19:23:14.102 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-04-18 19:23:14.105 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-04-18 19:23:14.105 [INF] Quartz Scheduler created
2025-04-18 19:23:14.105 [INF] RAMJobStore initialized.
2025-04-18 19:23:14.105 [INF] Quartz Scheduler 3.14.0.0 - 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-04-18 19:23:14.105 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-04-18 19:23:14.106 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-04-18 19:23:14.108 [INF] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2025-04-18 19:23:14.109 [INF] Rescheduling all active reports
2025-04-18 19:23:14.109 [DBG] Batch acquisition of 0 triggers
2025-04-18 19:23:14.170 [INF] Rescheduled all active reports successfully
2025-04-18 19:23:14.170 [INF] Scheduler service started successfully
2025-04-18 19:23:14.170 [INF] Scheduler service started
2025-04-18 19:23:14.221 [DBG] Initializing MainWindow
2025-04-18 19:23:14.306 [DBG] Updating UI based on authentication state
2025-04-18 19:23:14.306 [DBG] UI updated for non-authenticated state
2025-04-18 19:23:14.306 [INF] MainWindow initialized successfully
2025-04-18 19:23:14.410 [INF] MainWindow loaded
2025-04-18 19:23:14.418 [INF] Application started successfully
2025-04-18 19:23:17.426 [DBG] Login button clicked
2025-04-18 19:23:17.427 [DBG] Initializing LoginWindow
2025-04-18 19:23:17.456 [INF] LoginWindow initialized successfully
2025-04-18 19:23:22.895 [DBG] Login button clicked
2025-04-18 19:23:23.529 [INF] Admin user logged in successfully
2025-04-18 19:23:23.529 [INF] User admin logged in successfully
2025-04-18 19:23:23.534 [DBG] Updating UI based on authentication state
2025-04-18 19:23:23.534 [DBG] UI updated for logged-in user: admin
2025-04-18 19:23:23.535 [DBG] Initializing DashboardView
2025-04-18 19:23:23.564 [INF] DashboardView initialized successfully
2025-04-18 19:23:23.565 [INF] Dashboard view loaded
2025-04-18 19:23:23.565 [INF] User logged in successfully through login dialog
2025-04-18 19:23:23.579 [DBG] DashboardView loaded, refreshing data
2025-04-18 19:23:23.580 [DBG] Refreshing dashboard data
2025-04-18 19:23:23.581 [DBG] Updating dashboard statistics
2025-04-18 19:23:23.668 [INF] Dashboard statistics updated successfully
2025-04-18 19:23:23.669 [DBG] Updating dashboard charts
2025-04-18 19:23:23.671 [DBG] Updating Documents by Type chart
2025-04-18 19:23:23.674 [INF] Documents by Type chart updated successfully
2025-04-18 19:23:23.676 [DBG] Updating Monthly Documents chart
2025-04-18 19:23:23.679 [INF] Monthly Documents chart updated successfully
2025-04-18 19:23:23.679 [INF] Dashboard charts updated successfully
2025-04-18 19:23:23.680 [DBG] Updating activity feed
2025-04-18 19:23:23.685 [INF] Activity feed updated successfully with 10 items
2025-04-18 19:23:23.685 [INF] Dashboard data refreshed successfully
2025-04-18 19:23:29.155 [DBG] Activity Log button clicked
2025-04-18 19:23:29.237 [ERR] Error logging user activity: Admin, Accessed activity logs
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 19:23:29.245 [INF] Activity log view shown
2025-04-18 19:23:29.289 [DBG] Populated activity type filter with 0 types
2025-04-18 19:23:29.294 [DBG] Populated user filter with 1 users
2025-04-18 19:23:29.306 [DBG] Applied filter. Showing 0 of 0 activities
2025-04-18 19:23:29.307 [INF] Loaded 0 activities
2025-04-18 19:23:29.315 [ERR] Error logging user activity: Admin, Viewed activity logs
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 19:23:30.571 [DBG] Database Utility button clicked
2025-04-18 19:23:30.576 [DBG] DatabaseUtilityWindow initialized
2025-04-18 19:23:32.015 [INF] Database Utility window closed
2025-04-18 19:23:34.771 [DBG] Reports button clicked
2025-04-18 19:23:34.772 [DBG] Initializing ReportsView
2025-04-18 19:23:34.868 [ERR] Error in ReportTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Reports.Views.ReportGeneratorView.ReportTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\Views\ReportGeneratorView.xaml.cs:line 92
2025-04-18 19:23:37.271 [DBG] Initializing ReportGeneratorView
2025-04-18 19:23:37.277 [INF] ReportGeneratorView initialized successfully
2025-04-18 19:23:37.278 [DBG] Initializing ScheduledReportsView
2025-04-18 19:23:37.287 [INF] ScheduledReportsView initialized successfully
2025-04-18 19:23:37.287 [INF] ReportsView initialized successfully
2025-04-18 19:23:37.287 [INF] Reports view shown
2025-04-18 19:23:37.295 [DBG] Selected tab: Generate Reports
2025-04-18 19:23:41.612 [DBG] Users button clicked
2025-04-18 19:23:41.622 [ERR] Error logging user activity: UserManagement, Accessed user management
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 19:23:41.623 [INF] User management view shown
2025-04-18 19:23:41.633 [DBG] Applied filter. Showing 1 of 1 users
2025-04-18 19:23:41.634 [INF] Loaded 1 users
2025-04-18 19:23:41.637 [DBG] Populated role filter with 1 roles
2025-04-18 19:23:41.638 [ERR] Error logging user activity: UserManagement, Accessed user management view
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: UserActivities.EntityType'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CivilRegistryApp.Modules.Auth.UserActivityService.LogActivityAsync(String activityType, String description, String entityType, Nullable`1 entityId) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Auth\UserActivityService.cs:line 48
2025-04-18 19:23:43.961 [DBG] Batch acquisition of 0 triggers
2025-04-18 19:24:04.714 [DBG] Loaded user data for editing: admin
2025-04-18 19:24:10.493 [DBG] Batch acquisition of 0 triggers
2025-04-18 19:24:12.663 [DBG] Documents button clicked
2025-04-18 19:24:12.733 [DBG] Initializing DocumentsListView
2025-04-18 19:24:12.744 [INF] DocumentsListView initialized successfully
2025-04-18 19:24:12.744 [INF] Documents list view shown
2025-04-18 19:24:12.753 [DBG] Loading documents
2025-04-18 19:24:12.754 [DBG] Populating filter dropdowns
2025-04-18 19:24:12.756 [INF] Filter dropdowns populated successfully
2025-04-18 19:24:12.757 [DBG] Filter applied. Filtered count: 30, Current page: 1, Total pages: 2
2025-04-18 19:24:12.758 [INF] Documents loaded successfully. Total count: 30
2025-04-18 19:24:14.751 [DBG] Requests button clicked
2025-04-18 19:24:14.757 [DBG] Status filter changed to: All Requests
2025-04-18 19:24:14.758 [ERR] Error updating data grid
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 195
2025-04-18 19:24:14.758 [ERR] Error applying filters
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.UpdateDataGrid() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 201
   at CivilRegistryApp.Modules.Requests.Views.RequestsListView.ApplyFilter() in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Requests\Views\RequestsListView.xaml.cs:line 158
2025-04-18 19:24:14.759 [INF] RequestsListView initialized successfully
2025-04-18 19:24:14.759 [INF] Requests list view shown
2025-04-18 19:24:14.856 [DBG] Applied filters: Status=All Requests, Search=, Filtered count=15
2025-04-18 19:24:14.856 [INF] Loaded 15 document requests
2025-04-18 19:24:16.439 [DBG] Reports button clicked
2025-04-18 19:24:16.439 [DBG] Initializing ReportsView
2025-04-18 19:24:16.441 [ERR] Error in ReportTypeComboBox_SelectionChanged
System.NullReferenceException: Object reference not set to an instance of an object.
   at CivilRegistryApp.Modules.Reports.Views.ReportGeneratorView.ReportTypeComboBox_SelectionChanged(Object sender, SelectionChangedEventArgs e) in E:\dev_apps\ai_apps\new_app\CivilRegistryApp\Modules\Reports\Views\ReportGeneratorView.xaml.cs:line 92
2025-04-18 19:24:34.439 [DBG] Batch acquisition of 0 triggers
