<Window x:Class="CivilRegistryApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CivilRegistryApp"
        mc:Ignorable="d"
        Title="Civil Registry Archiving System" Height="768" Width="1024"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <!-- Animation for sidebar expansion -->
        <Storyboard x:Key="ExpandSidebar">
            <DoubleAnimation Storyboard.TargetName="SidebarColumn"
                             Storyboard.TargetProperty="Width"
                             From="60" To="250"
                             Duration="{DynamicResource AnimationDurationNormal}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="SidebarContent"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1"
                             Duration="{DynamicResource AnimationDurationNormal}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Animation for sidebar collapse -->
        <Storyboard x:Key="CollapseSidebar">
            <DoubleAnimation Storyboard.TargetName="SidebarColumn"
                             Storyboard.TargetProperty="Width"
                             From="250" To="60"
                             Duration="{DynamicResource AnimationDurationNormal}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="SidebarContent"
                             Storyboard.TargetProperty="Opacity"
                             From="1" To="0"
                             Duration="{DynamicResource AnimationDurationFast}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Animation for content fade in -->
        <Storyboard x:Key="ContentFadeIn">
            <DoubleAnimation Storyboard.TargetName="MainFrame"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1"
                             Duration="{DynamicResource AnimationDurationNormal}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Animation for button hover -->
        <Storyboard x:Key="ButtonHoverAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                             From="1.0" To="1.05"
                             Duration="{DynamicResource AnimationDurationFast}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                             From="1.0" To="1.05"
                             Duration="{DynamicResource AnimationDurationFast}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Animation for button hover exit -->
        <Storyboard x:Key="ButtonHoverExitAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                             From="1.05" To="1.0"
                             Duration="{DynamicResource AnimationDurationFast}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                             From="1.05" To="1.0"
                             Duration="{DynamicResource AnimationDurationFast}">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{DynamicResource PrimaryBrush}" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Button x:Name="ToggleSidebarButton" Width="30" Height="30" Margin="0,0,10,0" Click="ToggleSidebarButton_Click"
                            Style="{DynamicResource TransparentButtonStyle}" Cursor="Hand" ToolTip="Toggle Sidebar">
                        <Path x:Name="MenuIcon" Data="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" Fill="White" Stretch="Uniform" Margin="5"/>
                    </Button>
                    <TextBlock Text="Civil Registry Archiving System" FontSize="20" Foreground="White" VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <TextBlock x:Name="UserNameTextBlock" Text="Not logged in" Foreground="White" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <Button x:Name="ProfileButton" Content="My Profile" Click="ProfileButton_Click" Style="{StaticResource {x:Type Button}}" Padding="10,5" Margin="5,0" Visibility="Collapsed"/>
                    <Button x:Name="LoginButton" Content="Login" Click="LoginButton_Click" Style="{StaticResource {x:Type Button}}" Padding="10,5" Margin="5,0"/>
                    <Button x:Name="LogoutButton" Content="Logout" Click="LogoutButton_Click" Style="{StaticResource {x:Type Button}}" Padding="10,5" Margin="5,0" Visibility="Collapsed"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Name="SidebarColumn" Width="250"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Sidebar -->
            <Border Grid.Column="0" Background="{DynamicResource PrimaryBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,1,0">
                <Grid>
                    <!-- Collapsed Sidebar Icons -->
                    <StackPanel x:Name="SidebarIcons" Margin="5,10" Visibility="Collapsed">
                        <Button Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="DashboardButton_Click" ToolTip="Dashboard">
                            <Path Data="M3,13H11V3H3V13M3,21H11V15H3V21M13,21H21V11H13V21M13,3V9H21V3H13Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                        <Button Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="DocumentsButton_Click" ToolTip="Documents">
                            <Path Data="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                        <Button Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="RequestsButton_Click" ToolTip="Requests">
                            <Path Data="M2,3H22C23.05,3 24,3.95 24,5V19C24,20.05 23.05,21 22,21H2C0.95,21 0,20.05 0,19V5C0,3.95 0.95,3 2,3M14,6V7H22V6H14M14,8V9H21.5L22,9V8H14M14,10V11H21V10H14M8,13.91C6,13.91 2,15 2,17V18H14V17C14,15 10,13.91 8,13.91M8,6A3,3 0 0,0 5,9A3,3 0 0,0 8,12A3,3 0 0,0 11,9A3,3 0 0,0 8,6Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                        <Button Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="ReportsButton_Click" ToolTip="Reports">
                            <Path Data="M3,22V8H7V22H3M10,22V2H14V22H10M17,22V14H21V22H17Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                        <Button x:Name="UsersIconButton" Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="UsersButton_Click" ToolTip="User Management" Visibility="Collapsed">
                            <Path Data="M16,13C15.71,13 15.38,13 15.03,13.05C16.19,13.89 17,15 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M8,11A3,3 0 0,0 11,8A3,3 0 0,0 8,5A3,3 0 0,0 5,8A3,3 0 0,0 8,11M16,11A3,3 0 0,0 19,8A3,3 0 0,0 16,5A3,3 0 0,0 13,8A3,3 0 0,0 16,11Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>

                        <Separator Margin="0,10"/>

                        <Button x:Name="ActivityLogIconButton" Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="ActivityLogButton_Click" ToolTip="Activity Logs" Visibility="Collapsed">
                            <Path Data="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                        <Button x:Name="FieldConfigIconButton" Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="FieldConfigButton_Click" ToolTip="Field Configuration" Visibility="Collapsed">
                            <Path Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                        <Button x:Name="DatabaseUtilityIconButton" Style="{DynamicResource TransparentButtonStyle}" Width="40" Height="40" Margin="0,5" Padding="0"
                                Click="DatabaseUtilityButton_Click" ToolTip="Database Utility" Visibility="Collapsed">
                            <Path Data="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z" Fill="White" Stretch="Uniform" Width="20" Height="20"/>
                        </Button>
                    </StackPanel>

                    <!-- Expanded Sidebar Content -->
                    <StackPanel x:Name="SidebarContent" Margin="10">
                        <TextBlock Text="Navigation" FontSize="16" FontWeight="Bold" Margin="0,0,0,10" Foreground="White"/>

                        <Button x:Name="DashboardButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="DashboardButton_Click">
                            <TextBlock Text="Dashboard" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                        <Button x:Name="DocumentsButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="DocumentsButton_Click">
                            <TextBlock Text="Documents" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                        <Button x:Name="RequestsButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="RequestsButton_Click">
                            <TextBlock Text="Requests" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                        <Button x:Name="ReportsButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="ReportsButton_Click">
                            <TextBlock Text="Reports" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                        <Button x:Name="UsersButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="UsersButton_Click" Visibility="Collapsed">
                            <TextBlock Text="User Management" Foreground="White" FontWeight="SemiBold"/>
                        </Button>

                        <Separator Margin="0,10"/>

                        <TextBlock Text="Administration" FontSize="16" FontWeight="Bold" Margin="0,10,0,10" Foreground="White"/>
                        <Button x:Name="ActivityLogButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="ActivityLogButton_Click" Visibility="Collapsed">
                            <TextBlock Text="Activity Logs" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                        <Button x:Name="FieldConfigButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="FieldConfigButton_Click" Visibility="Collapsed">
                            <TextBlock Text="Field Configuration" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                        <Button x:Name="DatabaseUtilityButton" Margin="0,5" Padding="10,5" Style="{DynamicResource SidebarButtonStyle}" Click="DatabaseUtilityButton_Click" Visibility="Collapsed">
                            <TextBlock Text="Database Utility" Foreground="White" FontWeight="SemiBold"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Content Area -->
            <Border Grid.Column="1" Padding="20" Background="{DynamicResource PrimaryBrush}">
                <Grid>
                    <TextBlock x:Name="WelcomeTextBlock" Text="Welcome to Civil Registry Archiving System" Style="{DynamicResource HeaderTextBlockStyle}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    <Frame x:Name="MainFrame" NavigationUIVisibility="Hidden" Opacity="1">
                        <Frame.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Frame.RenderTransform>
                    </Frame>
                </Grid>
            </Border>
        </Grid>

        <!-- Footer -->
        <Border Grid.Row="2" Background="{DynamicResource PrimaryBrush}" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="© 2025 Civil Registry Archiving System" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">

                    <Button Content="Accessibility" Style="{DynamicResource TransparentButtonStyle}" Padding="4" Margin="5,0" Click="AccessibilityButton_Click">
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Path Data="M12,8.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 10.5,7A1.5,1.5 0 0,0 12,8.5M12,2A5,5 0 0,1 17,7A5,5 0 0,1 12,12A5,5 0 0,1 7,7A5,5 0 0,1 12,2M10,17L14,13.7V9.4L10,13L6,9.4V13.7L10,17M10,19L4,13V9L10,15L16,9V13L10,19Z" Fill="White" Width="12" Height="12" Margin="0,0,5,0"/>
                                    <TextBlock Text="Accessibility" Foreground="White" VerticalAlignment="Center"/>
                                </StackPanel>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>
                    <Button Content="Help" Style="{DynamicResource TransparentButtonStyle}" Padding="4" Margin="5,0" Click="HelpButton_Click">
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Path Data="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z" Fill="White" Width="12" Height="12" Margin="0,0,5,0"/>
                                    <TextBlock Text="Help" Foreground="White" VerticalAlignment="Center"/>
                                </StackPanel>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
